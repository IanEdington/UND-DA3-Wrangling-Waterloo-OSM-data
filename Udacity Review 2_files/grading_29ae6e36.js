function uiCodemirrorDirective(e,t){function n(e,n,s,l){var u=angular.extend({value:n.text()},t.codemirror||{},e.$eval(s.uiCodemirror),e.$eval(s.uiCodemirrorOpts)),c=r(n,u);i(c,s.uiCodemirror||s.uiCodemirrorOpts,e),o(c,l,e),a(c,s.uiRefresh,e),e.$on("CodeMirror",function(e,t){if(!angular.isFunction(t))throw new Error("the CodeMirror event requires a callback function");t(c)}),angular.isFunction(u.onLoad)&&u.onLoad(c)}function r(e,t){var n;return"TEXTAREA"===e[0].tagName?n=window.CodeMirror.fromTextArea(e[0],t):(e.html(""),n=new window.CodeMirror(function(t){e.append(t)},t)),n}function i(e,t,n){function r(t,n){angular.isObject(t)&&i.forEach(function(r){if(t.hasOwnProperty(r)){if(n&&t[r]===n[r])return;e.setOption(r,t[r])}})}if(t){var i=Object.keys(window.CodeMirror.defaults);n.$watch(t,r,!0)}}function o(e,t,n){t&&(t.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),t.$render=function(){var n=t.$viewValue||"";e.setValue(n)},e.on("change",function(e){var r=e.getValue();r!==t.$viewValue&&n.$evalAsync(function(){t.$setViewValue(r)})}))}function a(t,n,r){n&&r.$watch(n,function(n,r){n!==r&&e(function(){t.refresh()})})}return{restrict:"EA",require:"?ngModel",compile:function(){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror needs CodeMirror to work... (o rly?)");return n}}}if(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Mr.apply(null,arguments)}function t(e){Mr=e}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function o(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,r){return _t(e,t,n,r,!0).utc()}function u(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&void 0===e._pf.bigHour)),e._isValid}function c(e){var t=l(0/0);return null!=e?s(t._pf,e):t._pf.userInvalidated=!0,t}function f(e,t){var n,r,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Lr.length>0)for(n in Lr)r=Lr[n],i=t[r],"undefined"!=typeof i&&(e[r]=i);return e}function d(t){f(this,t),this._d=new Date(+t._d),Er===!1&&(Er=!0,e.updateOffset(this),Er=!1)}function p(e){return e instanceof d||null!=e&&a(e,"_isAMomentObject")}function h(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function m(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&h(e[r])!==h(t[r]))&&a++;return a+o}function g(){}function v(e){return e?e.toLowerCase().replace("_","-"):e}function y(e){for(var t,n,r,i,o=0;o<e.length;){for(i=v(e[o]).split("-"),t=i.length,n=v(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=b(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&m(i,n,!0)>=t-1)break;t--}o++}return null}function b(e){var t=null;if(!Ar[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Tr._abbr,require("./locale/"+e),w(t)}catch(n){}return Ar[e]}function w(e,t){var n;return e&&(n="undefined"==typeof t?k(e):x(e,t),n&&(Tr=n)),Tr._abbr}function x(e,t){return null!==t?(t.abbr=e,Ar[e]||(Ar[e]=new g),Ar[e].set(t),w(e),Ar[e]):(delete Ar[e],null)}function k(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Tr;if(!r(e)){if(t=b(e))return t;e=[e]}return y(e)}function C(e,t){var n=e.toLowerCase();Dr[n]=Dr[n+"s"]=Dr[t]=e}function _(e){return"string"==typeof e?Dr[e]||Dr[e.toLowerCase()]:void 0}function S(e){var t,n,r={};for(n in e)a(e,n)&&(t=_(n),t&&(r[t]=e[n]));return r}function $(t,n){return function(r){return null!=r?(T(this,t,r),e.updateOffset(this,n),this):M(this,t)}}function M(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function T(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function L(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=_(e),"function"==typeof this[e])return this[e](t);return this}function E(e,t,n){for(var r=""+Math.abs(e),i=e>=0;r.length<t;)r="0"+r;return(i?n?"+":"":"-")+r}function A(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Pr[e]=i),t&&(Pr[t[0]]=function(){return E(i.apply(this,arguments),t[1],t[2])}),n&&(Pr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function D(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function N(e){var t,n,r=e.match(Nr);for(t=0,n=r.length;n>t;t++)r[t]=Pr[r[t]]?Pr[r[t]]:D(r[t]);return function(i){var o="";for(t=0;n>t;t++)o+=r[t]instanceof Function?r[t].call(i,e):r[t];return o}}function O(e,t){return e.isValid()?(t=I(t,e.localeData()),Ir[t]||(Ir[t]=N(t)),Ir[t](e)):e.localeData().invalidDate()}function I(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Or.lastIndex=0;r>=0&&Or.test(e);)e=e.replace(Or,n),Or.lastIndex=0,r-=1;return e}function P(e,t,n){Xr[e]="function"==typeof t?t:function(e){return e&&n?n:t}}function z(e,t){return a(Xr,e)?Xr[e](t._strict,t._locale):new RegExp(F(e))}function F(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function j(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=h(e)}),n=0;n<e.length;n++)Qr[e[n]]=r}function R(e,t){j(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function W(e,t,n){null!=t&&a(Qr,e)&&Qr[e](t,n._a,n,e)}function H(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function U(e){return this._months[e.month()]}function B(e){return this._monthsShort[e.month()]}function q(e,t,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=l([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function Y(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),H(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function V(t){return null!=t?(Y(this,t),e.updateOffset(this,!0),this):M(this,"Month")}function G(){return H(this.year(),this.month())}function K(e){var t,n=e._a;return n&&-2===e._pf.overflow&&(t=n[ei]<0||n[ei]>11?ei:n[ti]<1||n[ti]>H(n[Jr],n[ei])?ti:n[ni]<0||n[ni]>24||24===n[ni]&&(0!==n[ri]||0!==n[ii]||0!==n[oi])?ni:n[ri]<0||n[ri]>59?ri:n[ii]<0||n[ii]>59?ii:n[oi]<0||n[oi]>999?oi:-1,e._pf._overflowDayOfYear&&(Jr>t||t>ti)&&(t=ti),e._pf.overflow=t),e}function Z(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function X(e,t){var n=!0;return s(function(){return n&&(Z(e),n=!1),t.apply(this,arguments)},t)}function Q(e,t){li[e]||(Z(t),li[e]=!0)}function J(e){var t,n,r=e._i,i=ui.exec(r);if(i){for(e._pf.iso=!0,t=0,n=ci.length;n>t;t++)if(ci[t][1].exec(r)){e._f=ci[t][0]+(i[6]||" ");break}for(t=0,n=fi.length;n>t;t++)if(fi[t][1].exec(r)){e._f+=fi[t][0];break}r.match(Gr)&&(e._f+="Z"),yt(e)}else e._isValid=!1}function et(t){var n=di.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(J(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function tt(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return 1970>e&&s.setFullYear(e),s}function nt(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function rt(e){return it(e)?366:365}function it(e){return e%4===0&&e%100!==0||e%400===0}function ot(){return it(this.year())}function at(e,t,n){var r,i=n-t,o=n-e.day();return o>i&&(o-=7),i-7>o&&(o+=7),r=St(e).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function st(e){return at(e,this._week.dow,this._week.doy).week}function lt(){return this._week.dow}function ut(){return this._week.doy}function ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ft(e){var t=at(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function dt(e,t,n,r,i){var o,a,s=nt(e,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:i,o=i-s+(s>r?7:0)-(i>s?7:0),a=7*(t-1)+(n-i)+o+1,{year:a>0?e:e-1,dayOfYear:a>0?a:rt(e-1)+a}}function pt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function ht(e,t,n){return null!=e?e:null!=t?t:n}function mt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function gt(e){var t,n,r,i,o=[];if(!e._d){for(r=mt(e),e._w&&null==e._a[ti]&&null==e._a[ei]&&vt(e),e._dayOfYear&&(i=ht(e._a[Jr],r[Jr]),e._dayOfYear>rt(i)&&(e._pf._overflowDayOfYear=!0),n=nt(i,0,e._dayOfYear),e._a[ei]=n.getUTCMonth(),e._a[ti]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ni]&&0===e._a[ri]&&0===e._a[ii]&&0===e._a[oi]&&(e._nextDay=!0,e._a[ni]=0),e._d=(e._useUTC?nt:tt).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ni]=24)}}function vt(e){var t,n,r,i,o,a,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=ht(t.GG,e._a[Jr],at(St(),1,4).year),r=ht(t.W,1),i=ht(t.E,1)):(o=e._locale._week.dow,a=e._locale._week.doy,n=ht(t.gg,e._a[Jr],at(St(),o,a).year),r=ht(t.w,1),null!=t.d?(i=t.d,o>i&&++r):i=null!=t.e?t.e+o:o),s=dt(n,r,i,a,o),e._a[Jr]=s.year,e._dayOfYear=s.dayOfYear}function yt(t){if(t._f===e.ISO_8601)return void J(t);t._a=[],t._pf.empty=!0;var n,r,i,o,a,s=""+t._i,l=s.length,u=0;for(i=I(t._f,t._locale).match(Nr)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(z(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&t._pf.unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),u+=r.length),Pr[o]?(r?t._pf.empty=!1:t._pf.unusedTokens.push(o),W(o,r,t)):t._strict&&!r&&t._pf.unusedTokens.push(o);t._pf.charsLeftOver=l-u,s.length>0&&t._pf.unusedInput.push(s),t._pf.bigHour===!0&&t._a[ni]<=12&&(t._pf.bigHour=void 0),t._a[ni]=bt(t._locale,t._a[ni],t._meridiem),gt(t),K(t)}function bt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function wt(e){var t,r,i,o,a;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(o=0;o<e._f.length;o++)a=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=n(),t._f=e._f[o],yt(t),u(t)&&(a+=t._pf.charsLeftOver,a+=10*t._pf.unusedTokens.length,t._pf.score=a,(null==i||i>a)&&(i=a,r=t));s(e,r||t)}function xt(e){if(!e._d){var t=S(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],gt(e)}}function kt(e){var t,n=e._i,i=e._f;return e._locale=e._locale||k(e._l),null===n||void 0===i&&""===n?c({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),p(n)?new d(K(n)):(r(i)?wt(e):i?yt(e):Ct(e),t=new d(K(e)),t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t))}function Ct(t){var n=t._i;void 0===n?t._d=new Date:i(n)?t._d=new Date(+n):"string"==typeof n?et(t):r(n)?(t._a=o(n.slice(0),function(e){return parseInt(e,10)}),gt(t)):"object"==typeof n?xt(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function _t(e,t,r,i,o){var a={};return"boolean"==typeof r&&(i=r,r=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=r,a._i=e,a._f=t,a._strict=i,a._pf=n(),kt(a)}function St(e,t,n,r){return _t(e,t,n,r,!1)}function $t(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return St();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}function Mt(){var e=[].slice.call(arguments,0);return $t("isBefore",e)}function Tt(){var e=[].slice.call(arguments,0);return $t("isAfter",e)}function Lt(e){var t=S(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=k(),this._bubble()}function Et(e){return e instanceof Lt}function At(e,t){A(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+E(~~(e/60),2)+t+E(~~e%60,2)})}function Dt(e){var t=(e||"").match(Gr)||[],n=t[t.length-1]||[],r=(n+"").match(vi)||["-",0,0],i=+(60*r[1])+h(r[2]);return"+"===r[0]?i:-i}function Nt(t,n){var r,o;return n._isUTC?(r=n.clone(),o=(p(t)||i(t)?+t:+St(t))-+r,r._d.setTime(+r._d+o),e.updateOffset(r,!1),r):St(t).local()}function Ot(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function It(t,n){var r,i=this._offset||0;return null!=t?("string"==typeof t&&(t=Dt(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(r=Ot(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?Xt(this,Yt(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Ot(this)}function Pt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function zt(e){return this.utcOffset(0,e)}function Ft(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ot(this),"m")),this}function jt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Dt(this._i)),this}function Rt(e){return e=e?St(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Wt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ht(){if(this._a){var e=this._isUTC?l(this._a):St(this._a);return this.isValid()&&m(this._a,e.toArray())>0}return!1}function Ut(){return!this._isUTC}function Bt(){return this._isUTC}function qt(){return this._isUTC&&0===this._offset}function Yt(e,t){var n,r,i,o=e,s=null;return Et(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=yi.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:h(s[ti])*n,h:h(s[ni])*n,m:h(s[ri])*n,s:h(s[ii])*n,ms:h(s[oi])*n}):(s=bi.exec(e))?(n="-"===s[1]?-1:1,o={y:Vt(s[2],n),M:Vt(s[3],n),d:Vt(s[4],n),h:Vt(s[5],n),m:Vt(s[6],n),s:Vt(s[7],n),w:Vt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Kt(St(o.from),St(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Lt(o),Et(e)&&a(e,"_locale")&&(r._locale=e._locale),r}function Vt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Kt(e,t){var n;return t=Nt(t,e),e.isBefore(t)?n=Gt(e,t):(n=Gt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Zt(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(Q(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Yt(n,r),Xt(this,i,e),this}}function Xt(t,n,r,i){var o=n._milliseconds,a=n._days,s=n._months;i=null==i?!0:i,o&&t._d.setTime(+t._d+o*r),a&&T(t,"Date",M(t,"Date")+a*r),s&&Y(t,M(t,"Month")+s*r),i&&e.updateOffset(t,a||s)}function Qt(e){var t=e||St(),n=Nt(t,this).startOf("day"),r=this.diff(n,"days",!0),i=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,St(t)))}function Jt(){return new d(this)}function en(e,t){var n;return t=_("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=p(e)?e:St(e),+this>+e):(n=p(e)?+e:+St(e),n<+this.clone().startOf(t))}function tn(e,t){var n;return t=_("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=p(e)?e:St(e),+e>+this):(n=p(e)?+e:+St(e),+this.clone().endOf(t)<n)}function nn(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function rn(e,t){var n;return t=_(t||"millisecond"),"millisecond"===t?(e=p(e)?e:St(e),+this===+e):(n=+St(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function on(e){return 0>e?Math.ceil(e):Math.floor(e)}function an(e,t,n){var r,i,o=Nt(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return t=_(t),"year"===t||"month"===t||"quarter"===t?(i=sn(this,o),"quarter"===t?i/=3:"year"===t&&(i/=12)):(r=this-o,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?i:on(i)}function sn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)}function ln(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function un(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():O(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):O(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function cn(t){var n=O(this,t||e.defaultFormat);return this.localeData().postformat(n)}function fn(e,t){return Yt({to:this,from:e}).locale(this.locale()).humanize(!t)}function dn(e){return this.from(St(),e)}function pn(e){var t;return void 0===e?this._locale._abbr:(t=k(e),null!=t&&(this._locale=t),this)}function hn(){return this._locale}function mn(e){switch(e=_(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function gn(e){return e=_(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function vn(){return+this._d-6e4*(this._offset||0)}function yn(){return Math.floor(+this/1e3)}function bn(){return this._offset?new Date(+this):this._d}function wn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xn(){return u(this)}function kn(){return s({},this._pf)}function Cn(){return this._pf.overflow}function _n(e,t){A(0,[e,e.length],0,t)}function Sn(e,t,n){return at(St([e,11,31+t-n]),t,n).week}function $n(e){var t=at(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Mn(e){var t=at(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Tn(){return Sn(this.year(),1,4)}function Ln(){var e=this.localeData()._week;return Sn(this.year(),e.dow,e.doy)}function En(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function An(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function Dn(e){return this._weekdays[e.day()]}function Nn(e){return this._weekdaysShort[e.day()]}function On(e){return this._weekdaysMin[e.day()]}function In(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=St([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Pn(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=An(e,this.localeData()),this.add(e-t,"d")):t}function zn(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Fn(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function jn(e,t){A(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Rn(e,t){return t._meridiemParse}function Wn(e){return"p"===(e+"").toLowerCase().charAt(0)}function Hn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Un(e){A(0,[e,3],0,"millisecond")}function Bn(){return this._isUTC?"UTC":""}function qn(){return this._isUTC?"Coordinated Universal Time":""}function Yn(e){return St(1e3*e)}function Vn(){return St.apply(null,arguments).parseZone()}function Gn(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.call(t,n):r}function Kn(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t}function Zn(){return this._invalidDate}function Xn(e){return this._ordinal.replace("%d",e)}function Qn(e){return e}function Jn(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)}function er(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function tr(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function nr(e,t,n,r){var i=k(),o=l().set(r,t);return i[n](o,e)}function rr(e,t,n,r,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return nr(e,t,n,i);var o,a=[];for(o=0;r>o;o++)a[o]=nr(e,o,n,i);return a}function ir(e,t){return rr(e,t,"months",12,"month")}function or(e,t){return rr(e,t,"monthsShort",12,"month")}function ar(e,t){return rr(e,t,"weekdays",7,"day")}function sr(e,t){return rr(e,t,"weekdaysShort",7,"day")}function lr(e,t){return rr(e,t,"weekdaysMin",7,"day")}function ur(){var e=this._data;return this._milliseconds=Wi(this._milliseconds),this._days=Wi(this._days),this._months=Wi(this._months),e.milliseconds=Wi(e.milliseconds),e.seconds=Wi(e.seconds),e.minutes=Wi(e.minutes),e.hours=Wi(e.hours),e.months=Wi(e.months),e.years=Wi(e.years),this}function cr(e,t,n,r){var i=Yt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function fr(e,t){return cr(this,e,t,1)}function dr(e,t){return cr(this,e,t,-1)}function pr(){var e,t,n,r=this._milliseconds,i=this._days,o=this._months,a=this._data,s=0;return a.milliseconds=r%1e3,e=on(r/1e3),a.seconds=e%60,t=on(e/60),a.minutes=t%60,n=on(t/60),a.hours=n%24,i+=on(n/24),s=on(hr(i)),i-=on(mr(s)),o+=on(i/30),i%=30,s+=on(o/12),o%=12,a.days=i,a.months=o,a.years=s,this}function hr(e){return 400*e/146097}function mr(e){return 146097*e/400}function gr(e){var t,n,r=this._milliseconds;if(e=_(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+12*hr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(mr(this._months/12)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 24*t*60+r/6e4;case"second":return 24*t*60*60+r/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+r;default:throw new Error("Unknown unit "+e)}}function vr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*h(this._months/12)}function yr(e){return function(){return this.as(e)}}function br(e){return e=_(e),this[e+"s"]()}function wr(e){return function(){return this._data[e]}}function xr(){return on(this.days()/7)}function kr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Cr(e,t,n){var r=Yt(e).abs(),i=ro(r.as("s")),o=ro(r.as("m")),a=ro(r.as("h")),s=ro(r.as("d")),l=ro(r.as("M")),u=ro(r.as("y")),c=i<io.s&&["s",i]||1===o&&["m"]||o<io.m&&["mm",o]||1===a&&["h"]||a<io.h&&["hh",a]||1===s&&["d"]||s<io.d&&["dd",s]||1===l&&["M"]||l<io.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,kr.apply(null,c)}function _r(e,t){return void 0===io[e]?!1:void 0===t?io[e]:(io[e]=t,!0)}function Sr(e){var t=this.localeData(),n=Cr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function $r(){var e=oo(this.years()),t=oo(this.months()),n=oo(this.days()),r=oo(this.hours()),i=oo(this.minutes()),o=oo(this.seconds()+this.milliseconds()/1e3),a=this.asSeconds();return a?(0>a?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||o?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(o?o+"S":""):"P0D"}var Mr,Tr,Lr=e.momentProperties=[],Er=!1,Ar={},Dr={},Nr=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Or=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ir={},Pr={},zr=/\d/,Fr=/\d\d/,jr=/\d{3}/,Rr=/\d{4}/,Wr=/[+-]?\d{6}/,Hr=/\d\d?/,Ur=/\d{1,3}/,Br=/\d{1,4}/,qr=/[+-]?\d{1,6}/,Yr=/\d+/,Vr=/[+-]?\d+/,Gr=/Z|[+-]\d\d:?\d\d/gi,Kr=/[+-]?\d+(\.\d{1,3})?/,Zr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xr={},Qr={},Jr=0,ei=1,ti=2,ni=3,ri=4,ii=5,oi=6;A("M",["MM",2],"Mo",function(){return this.month()+1}),A("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),A("MMMM",0,0,function(e){return this.localeData().months(this,e)}),C("month","M"),P("M",Hr),P("MM",Hr,Fr),P("MMM",Zr),P("MMMM",Zr),j(["M","MM"],function(e,t){t[ei]=h(e)-1}),j(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ei]=i:n._pf.invalidMonth=e});var ai="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),si="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),li={};e.suppressDeprecationWarnings=!1;var ui=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ci=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],fi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],di=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=X("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),A(0,["YY",2],0,function(){return this.year()%100}),A(0,["YYYY",4],0,"year"),A(0,["YYYYY",5],0,"year"),A(0,["YYYYYY",6,!0],0,"year"),C("year","y"),P("Y",Vr),P("YY",Hr,Fr),P("YYYY",Br,Rr),P("YYYYY",qr,Wr),P("YYYYYY",qr,Wr),j(["YYYY","YYYYY","YYYYYY"],Jr),j("YY",function(t,n){n[Jr]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return h(e)+(h(e)>68?1900:2e3)};var pi=$("FullYear",!1);A("w",["ww",2],"wo","week"),A("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),P("w",Hr),P("ww",Hr,Fr),P("W",Hr),P("WW",Hr,Fr),R(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=h(e)});var hi={dow:0,doy:6};A("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),P("DDD",Ur),P("DDDD",jr),j(["DDD","DDDD"],function(e,t,n){n._dayOfYear=h(e)}),e.ISO_8601=function(){};var mi=X("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=St.apply(null,arguments);return this>e?this:e}),gi=X("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=St.apply(null,arguments);return e>this?this:e});At("Z",":"),At("ZZ",""),P("Z",Gr),P("ZZ",Gr),j(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Dt(e)});var vi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var yi=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,bi=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Yt.fn=Lt.prototype;var wi=Zt(1,"add"),xi=Zt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var ki=X("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});A(0,["gg",2],0,function(){return this.weekYear()%100}),A(0,["GG",2],0,function(){return this.isoWeekYear()%100}),_n("gggg","weekYear"),_n("ggggg","weekYear"),_n("GGGG","isoWeekYear"),_n("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),P("G",Vr),P("g",Vr),P("GG",Hr,Fr),P("gg",Hr,Fr),P("GGGG",Br,Rr),P("gggg",Br,Rr),P("GGGGG",qr,Wr),P("ggggg",qr,Wr),R(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=h(e)}),R(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),A("Q",0,0,"quarter"),C("quarter","Q"),P("Q",zr),j("Q",function(e,t){t[ei]=3*(h(e)-1)}),A("D",["DD",2],"Do","date"),C("date","D"),P("D",Hr),P("DD",Hr,Fr),P("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),j(["D","DD"],ti),j("Do",function(e,t){t[ti]=h(e.match(Hr)[0],10)});var Ci=$("Date",!0);A("d",0,"do","day"),A("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),A("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),A("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),A("e",0,0,"weekday"),A("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),P("d",Hr),P("e",Hr),P("E",Hr),P("dd",Zr),P("ddd",Zr),P("dddd",Zr),R(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:n._pf.invalidWeekday=e}),R(["d","e","E"],function(e,t,n,r){t[r]=h(e)});var _i="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Si="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$i="Su_Mo_Tu_We_Th_Fr_Sa".split("_");A("H",["HH",2],0,"hour"),A("h",["hh",2],0,function(){return this.hours()%12||12}),jn("a",!0),jn("A",!1),C("hour","h"),P("a",Rn),P("A",Rn),P("H",Hr),P("h",Hr),P("HH",Hr,Fr),P("hh",Hr,Fr),j(["H","HH"],ni),j(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),j(["h","hh"],function(e,t,n){t[ni]=h(e),n._pf.bigHour=!0});var Mi=/[ap]\.?m?\.?/i,Ti=$("Hours",!0);A("m",["mm",2],0,"minute"),C("minute","m"),P("m",Hr),P("mm",Hr,Fr),j(["m","mm"],ri);var Li=$("Minutes",!1);A("s",["ss",2],0,"second"),C("second","s"),P("s",Hr),P("ss",Hr,Fr),j(["s","ss"],ii);var Ei=$("Seconds",!1);A("S",0,0,function(){return~~(this.millisecond()/100)}),A(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Un("SSS"),Un("SSSS"),C("millisecond","ms"),P("S",Ur,zr),P("SS",Ur,Fr),P("SSS",Ur,jr),P("SSSS",Yr),j(["S","SS","SSS","SSSS"],function(e,t){t[oi]=h(1e3*("0."+e))});var Ai=$("Milliseconds",!1);A("z",0,0,"zoneAbbr"),A("zz",0,0,"zoneName");var Di=d.prototype;Di.add=wi,Di.calendar=Qt,Di.clone=Jt,Di.diff=an,Di.endOf=gn,Di.format=cn,Di.from=fn,Di.fromNow=dn,Di.get=L,Di.invalidAt=Cn,Di.isAfter=en,Di.isBefore=tn,Di.isBetween=nn,Di.isSame=rn,Di.isValid=xn,Di.lang=ki,Di.locale=pn,Di.localeData=hn,Di.max=gi,Di.min=mi,Di.parsingFlags=kn,Di.set=L,Di.startOf=mn,Di.subtract=xi,Di.toArray=wn,Di.toDate=bn,Di.toISOString=un,Di.toJSON=un,Di.toString=ln,Di.unix=yn,Di.valueOf=vn,Di.year=pi,Di.isLeapYear=ot,Di.weekYear=$n,Di.isoWeekYear=Mn,Di.quarter=Di.quarters=En,Di.month=V,Di.daysInMonth=G,Di.week=Di.weeks=ct,Di.isoWeek=Di.isoWeeks=ft,Di.weeksInYear=Ln,Di.isoWeeksInYear=Tn,Di.date=Ci,Di.day=Di.days=Pn,Di.weekday=zn,Di.isoWeekday=Fn,Di.dayOfYear=pt,Di.hour=Di.hours=Ti,Di.minute=Di.minutes=Li,Di.second=Di.seconds=Ei,Di.millisecond=Di.milliseconds=Ai,Di.utcOffset=It,Di.utc=zt,Di.local=Ft,Di.parseZone=jt,Di.hasAlignedHourOffset=Rt,Di.isDST=Wt,Di.isDSTShifted=Ht,Di.isLocal=Ut,Di.isUtcOffset=Bt,Di.isUtc=qt,Di.isUTC=qt,Di.zoneAbbr=Bn,Di.zoneName=qn,Di.dates=X("dates accessor is deprecated. Use date instead.",Ci),Di.months=X("months accessor is deprecated. Use month instead",V),Di.years=X("years accessor is deprecated. Use year instead",pi),Di.zone=X("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Pt);
var Ni=Di,Oi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ii={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Pi="Invalid date",zi="%d",Fi=/\d{1,2}/,ji={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ri=g.prototype;Ri._calendar=Oi,Ri.calendar=Gn,Ri._longDateFormat=Ii,Ri.longDateFormat=Kn,Ri._invalidDate=Pi,Ri.invalidDate=Zn,Ri._ordinal=zi,Ri.ordinal=Xn,Ri._ordinalParse=Fi,Ri.preparse=Qn,Ri.postformat=Qn,Ri._relativeTime=ji,Ri.relativeTime=Jn,Ri.pastFuture=er,Ri.set=tr,Ri.months=U,Ri._months=ai,Ri.monthsShort=B,Ri._monthsShort=si,Ri.monthsParse=q,Ri.week=st,Ri._week=hi,Ri.firstDayOfYear=ut,Ri.firstDayOfWeek=lt,Ri.weekdays=Dn,Ri._weekdays=_i,Ri.weekdaysMin=On,Ri._weekdaysMin=$i,Ri.weekdaysShort=Nn,Ri._weekdaysShort=Si,Ri.weekdaysParse=In,Ri.isPM=Wn,Ri._meridiemParse=Mi,Ri.meridiem=Hn,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===h(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=X("moment.lang is deprecated. Use moment.locale instead.",w),e.langData=X("moment.langData is deprecated. Use moment.localeData instead.",k);var Wi=Math.abs,Hi=yr("ms"),Ui=yr("s"),Bi=yr("m"),qi=yr("h"),Yi=yr("d"),Vi=yr("w"),Gi=yr("M"),Ki=yr("y"),Zi=wr("milliseconds"),Xi=wr("seconds"),Qi=wr("minutes"),Ji=wr("hours"),eo=wr("days"),to=wr("months"),no=wr("years"),ro=Math.round,io={s:45,m:45,h:22,d:26,M:11},oo=Math.abs,ao=Lt.prototype;ao.abs=ur,ao.add=fr,ao.subtract=dr,ao.as=gr,ao.asMilliseconds=Hi,ao.asSeconds=Ui,ao.asMinutes=Bi,ao.asHours=qi,ao.asDays=Yi,ao.asWeeks=Vi,ao.asMonths=Gi,ao.asYears=Ki,ao.valueOf=vr,ao._bubble=pr,ao.get=br,ao.milliseconds=Zi,ao.seconds=Xi,ao.minutes=Qi,ao.hours=Ji,ao.days=eo,ao.weeks=xr,ao.months=to,ao.years=no,ao.humanize=Sr,ao.toISOString=$r,ao.toString=$r,ao.toJSON=$r,ao.locale=pn,ao.localeData=hn,ao.toIsoString=X("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$r),ao.lang=ki,A("X",0,0,"unix"),A("x",0,0,"valueOf"),P("x",Vr),P("X",Kr),j("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),j("x",function(e,t,n){n._d=new Date(h(e))}),e.version="2.10.2",t(St),e.fn=Ni,e.min=Mt,e.max=Tt,e.utc=l,e.unix=Yn,e.months=ir,e.isDate=i,e.locale=w,e.invalid=c,e.duration=Yt,e.isMoment=p,e.weekdays=ar,e.parseZone=Vn,e.localeData=k,e.isDuration=Et,e.monthsShort=or,e.weekdaysMin=lr,e.defineLocale=x,e.weekdaysShort=sr,e.normalizeUnits=_,e.relativeTimeThreshold=_r;var so=e;return so}),function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";function e(n,r){if(!(this instanceof e))return new e(n,r);this.options=r=r?Io(r):{},Io(Ga,r,!1),p(r);var i=r.value;"string"==typeof i&&(i=new ys(i,r.mode)),this.doc=i;var o=new e.inputStyles[r.inputStyle](this),a=this.display=new t(n,i,o);a.wrapper.CodeMirror=this,u(this),s(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!_a&&a.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Mo,keySeq:null,specialChars:null};var l=this;ha&&11>ma&&setTimeout(function(){l.display.input.reset(!0)},20),Hn(this),Vo(),wn(this),this.curOp.forceUpdate=!0,Vi(this,i),r.autofocus&&!_a||l.hasFocus()?setTimeout(Po(hr,this),20):mr(this);for(var c in Ka)Ka.hasOwnProperty(c)&&Ka[c](this,r[c],Za);k(this),r.finishInit&&r.finishInit(this);for(var f=0;f<es.length;++f)es[f](this);kn(this),ga&&r.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function t(e,t,n){var r=this;this.input=n,r.scrollbarFiller=Ro("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=Ro("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Ro("div",null,"CodeMirror-code"),r.selectionDiv=Ro("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=Ro("div",null,"CodeMirror-cursors"),r.measure=Ro("div",null,"CodeMirror-measure"),r.lineMeasure=Ro("div",null,"CodeMirror-measure"),r.lineSpace=Ro("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none"),r.mover=Ro("div",[Ro("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=Ro("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=Ro("div",null,null,"position: absolute; height: "+Ts+"px; width: 1px;"),r.gutters=Ro("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=Ro("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=Ro("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),ha&&8>ma&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),ga||fa&&_a||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),r(t)}function r(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Ft(e,100),e.state.modeGen++,e.curOp&&In(e)}function i(e){e.options.lineWrapping?(Bs(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Us(e.display.wrapper,"CodeMirror-wrap"),d(e)),a(e),In(e),sn(e),setTimeout(function(){y(e)},100)}function o(e){var t=yn(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/bn(e.display)-3);return function(i){if(bi(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function a(e){var t=e.doc,n=o(e);t.iter(function(e){var t=n(e);t!=e.height&&Xi(e,t)})}function s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),sn(e)}function l(e){u(e),In(e),setTimeout(function(){x(e)},20)}function u(e){var t=e.display.gutters,n=e.options.gutters;Wo(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(Ro("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",c(e)}function c(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function f(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=di(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=pi(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function d(e){var t=e.display,n=e.doc;t.maxLine=Gi(n,n.first),t.maxLineLength=f(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=f(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function p(e){var t=Ao(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function h(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Ut(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+qt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function m(e,t,n){this.cm=n;var r=this.vert=Ro("div",[Ro("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Ro("div",[Ro("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(i),_s(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),_s(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedOverlay=!1,ha&&8>ma&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Us(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),_s(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?nr(t,e):tr(t,e)},t),t.display.scrollbars.addClass&&Bs(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=h(e));var n=e.display.barWidth,r=e.display.barHeight;b(e,t);for(var i=0;4>i&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&A(e),b(e,h(e)),n=e.display.barWidth,r=e.display.barHeight}function b(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function w(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Ht(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=Ji(t,r),a=Ji(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;o>s?(o=s,a=Ji(t,eo(Gi(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=Ji(t,eo(Gi(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function x(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=_(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&n[a].gutter&&(n[a].gutter.style.left=o);var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function k(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=C(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(Ro("div",[Ro("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",c(e),!0}return!1}function C(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function _(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function S(e,t,n){var r=e.display;this.viewport=t,this.visible=w(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Yt(e),this.force=n,this.dims=N(e),this.events=[]}function $(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=qt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=qt(e)+"px",t.scrollbarsClipped=!0)}function M(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return zn(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Wn(e))return!1;k(e)&&(zn(e),t.dims=N(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Aa&&(o=vi(e.doc,o),a=yi(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Rn(e,o,a),n.viewOffset=eo(Gi(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Wn(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Uo();return l>4&&(n.lineDiv.style.display="none"),O(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,u&&Uo()!=u&&u.offsetHeight&&u.focus(),Wo(n.cursorDiv),Wo(n.selectionDiv),n.gutters.style.height=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Ft(e,400)),n.updateLineNumbers=null,!0}function T(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Yt(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Ut(e.display)-Vt(e),n.top)}),t.visible=w(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&M(e,t);r=!1){A(e);var i=h(e);Nt(e),E(e,i),y(e,i)}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function L(e,t){var n=new S(e,t);if(M(e,n)){A(e),T(e,n);var r=h(e);Nt(e),E(e,r),y(e,r),n.finish()}}function E(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var n=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=n+"px",e.display.gutters.style.height=Math.max(n+qt(e),t.clientHeight)+"px"}function A(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i,o=t.view[r];if(!o.hidden){if(ha&&8>ma){var a=o.node.offsetTop+o.node.offsetHeight;i=a-n,n=a}else{var s=o.node.getBoundingClientRect();i=s.bottom-s.top}var l=o.line.height-i;if(2>i&&(i=yn(t)),(l>.001||-.001>l)&&(Xi(o.line,i),D(o.line),o.rest))for(var u=0;u<o.rest.length;u++)D(o.rest[u])}}}function D(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function N(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:_(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function O(e,t,n){function r(t){var n=t.nextSibling;return ga&&Sa&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var i=e.display,o=e.options.lineNumbers,a=i.lineDiv,s=a.firstChild,l=i.view,u=i.viewFrom,c=0;c<l.length;c++){var f=l[c];if(f.hidden);else if(f.node&&f.node.parentNode==a){for(;s!=f.node;)s=r(s);var d=o&&null!=t&&u>=t&&f.lineNumber;f.changes&&(Ao(f.changes,"gutter")>-1&&(d=!1),I(e,f,u,n)),d&&(Wo(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(C(e.options,u)))),s=f.node.nextSibling}else{var p=U(e,f,u,n);a.insertBefore(p,s)}u+=f.size}for(;s;)s=r(s)}function I(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?j(e,t):"gutter"==o?W(e,t,n,r):"class"==o?R(t):"widget"==o&&H(e,t,r)}t.changes=null}function P(e){return e.node==e.text&&(e.node=Ro("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ha&&8>ma&&(e.node.style.zIndex=2)),e.node}function z(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=P(e);e.background=n.insertBefore(Ro("div",null,t),n.firstChild)}}function F(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Ii(e,t)}function j(e,t){var n=t.text.className,r=F(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,R(t)):n&&(t.text.className=n)}function R(e){z(e),e.line.wrapClass?P(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function W(e,t,n,r){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null);var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var o=P(t),a=t.gutter=Ro("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px");if(e.display.input.setUneditable(a),o.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(Ro("div",C(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],u=i.hasOwnProperty(l)&&i[l];u&&a.appendChild(Ro("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function H(e,t,n){t.alignable&&(t.alignable=null);for(var r,i=t.node.firstChild;i;i=r){var r=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}B(e,t,n)}function U(e,t,n,r){var i=F(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),R(t),W(e,t,n,r),B(e,t,r),t.node}function B(e,t,n){if(q(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)q(e,t.rest[r],t,n,!1)}function q(e,t,n,r,i){if(t.widgets)for(var o=P(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],u=Ro("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),Y(l,u,n,r),e.display.input.setUneditable(u),i&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),xo(l,"redraw")}}function Y(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function V(e){return Da(e.line,e.ch)}function G(e,t){return Na(e,t)<0?t:e}function K(e,t){return Na(e,t)<0?e:t}function Z(e){e.state.focused||(e.display.input.focus(),hr(e))}function X(e){return e.options.readOnly||e.doc.cantEdit}function Q(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=e.state.pasteIncoming||"paste"==i,s=Vs(t),l=null;a&&r.ranges.length>1&&(Oa&&Oa.join("\n")==t?l=r.ranges.length%Oa.length==0&&Do(Oa,Vs):s.length==r.ranges.length&&(l=Do(s,function(e){return[e]})));for(var u=r.ranges.length-1;u>=0;u--){var c=r.ranges[u],f=c.from(),d=c.to();c.empty()&&(n&&n>0?f=Da(f.line,f.ch-n):e.state.overwrite&&!a&&(d=Da(d.line,Math.min(Gi(o,d.line).text.length,d.ch+Eo(s).length))));var p=e.curOp.updateInput,h={from:f,to:d,text:l?l[u%l.length]:s,origin:i||(a?"paste":e.state.cutIncoming?"cut":"+input")};Cr(e.doc,h),xo(e,"inputRead",e,h)}t&&!a&&et(e,t),Ir(e),e.curOp.updateInput=p,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function J(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");return n?(e.preventDefault(),Ln(t,function(){Q(t,n,0,null,"paste")}),!0):void 0}function et(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=zr(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Gi(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=zr(e,i.head.line,"smart"));a&&xo(e,"electricInput",e,i.head.line)}}}function tt(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:Da(i,0),head:Da(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function nt(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function rt(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Mo,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function it(){var e=Ro("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Ro("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ga?e.style.width="1000px":e.setAttribute("wrap","off"),Ca&&(e.style.border="1px solid black"),nt(e),t}function ot(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Mo,this.gracePeriod=!1}function at(e,t){var n=Qt(e,t.line);if(!n||n.hidden)return null;var r=Gi(e.doc,t.line),i=Kt(n,r,t.line),o=to(r),a="left";if(o){var s=sa(o,t.ch);a=s%2?"right":"left"}var l=tn(i.map,t.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function st(e,t){return t&&(e.bad=!0),e}function lt(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return st(e.clipPos(Da(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return ut(o,t,n)}}function ut(e,t,n){function r(t,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=0>i?u.map:c[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var l=Qi(0>i?e.line:e.rest[i]),f=o[a]+r;return(0>r||s!=t)&&(f=o[a+(r?1:0)]),Da(l,f)}}}var i=e.text.firstChild,o=!1;if(!t||!Rs(i,t))return st(Da(Qi(e.line),0),!0);if(t==i&&(o=!0,t=i.childNodes[n],n=0,!t)){var a=e.rest?Eo(e.rest):e.line;return st(Da(Qi(a),a.text.length),o)}var s=3==t.nodeType?t:null,l=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));l.parentNode!=i;)l=l.parentNode;var u=e.measure,c=u.maps,f=r(s,l,n);if(f)return st(f,o);for(var d=l.nextSibling,p=s?s.nodeValue.length-n:0;d;d=d.nextSibling){if(f=r(d,d.firstChild,0))return st(Da(f.line,f.ch-p),o);p+=d.textContent.length}for(var h=l.previousSibling,p=n;h;h=h.previousSibling){if(f=r(h,h.firstChild,-1))return st(Da(f.line,f.ch+p),o);p+=d.textContent.length}}function ct(e,t,n,r,i){function o(e){return function(t){return t.id==e}}function a(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(s+=n);var u,c=t.getAttribute("cm-marker");if(c){var f=e.findMarks(Da(r,0),Da(i+1,0),o(+c));return void(f.length&&(u=f[0].find())&&(s+=Ki(e.doc,u.from,u.to).join("\n")))}if("false"==t.getAttribute("contenteditable"))return;for(var d=0;d<t.childNodes.length;d++)a(t.childNodes[d]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var p=t.nodeValue;if(!p)return;l&&(s+="\n",l=!1),s+=p}}for(var s="",l=!1;a(t),t!=n;)t=t.nextSibling;return s}function ft(e,t){this.ranges=e,this.primIndex=t}function dt(e,t){this.anchor=e,this.head=t}function pt(e,t){var n=e[t];e.sort(function(e,t){return Na(e.from(),t.from())}),t=Ao(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(Na(o.to(),i.from())>=0){var a=K(o.from(),i.from()),s=G(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;t>=r&&--t,e.splice(--r,2,new dt(l?s:a,l?a:s))}}return new ft(e,t)}function ht(e,t){return new ft([new dt(e,t||e)],0)}function mt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function gt(e,t){if(t.line<e.first)return Da(e.first,0);var n=e.first+e.size-1;return t.line>n?Da(n,Gi(e,n).text.length):vt(t,Gi(e,t.line).text.length)}function vt(e,t){var n=e.ch;return null==n||n>t?Da(e.line,t):0>n?Da(e.line,0):e}function yt(e,t){return t>=e.first&&t<e.first+e.size}function bt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=gt(e,t[r]);return n}function wt(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var o=Na(n,i)<0;o!=Na(r,i)<0?(i=n,n=r):o!=Na(n,r)<0&&(n=r)}return new dt(i,n)}return new dt(r||n,n)}function xt(e,t,n,r){Mt(e,new ft([wt(e,e.sel.primary(),t,n)],0),r)}function kt(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=wt(e,e.sel.ranges[i],t[i],null);var o=pt(r,e.sel.primIndex);Mt(e,o,n)}function Ct(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Mt(e,pt(i,e.sel.primIndex),r)}function _t(e,t,n,r){Mt(e,ht(t,n),r)}function St(e,t){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new dt(gt(e,t[n].anchor),gt(e,t[n].head))}};return $s(e,"beforeSelectionChange",e,n),e.cm&&$s(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?pt(n.ranges,n.ranges.length-1):t}function $t(e,t,n){var r=e.history.done,i=Eo(r);i&&i.ranges?(r[r.length-1]=t,Tt(e,t,n)):Mt(e,t,n)}function Mt(e,t,n){Tt(e,t,n),lo(e,e.sel,e.cm?e.cm.curOp.id:0/0,n)}function Tt(e,t,n){(So(e,"beforeSelectionChange")||e.cm&&So(e.cm,"beforeSelectionChange"))&&(t=St(e,t));var r=n&&n.bias||(Na(t.primary().head,e.sel.primary().head)<0?-1:1);Lt(e,At(e,t,r,!0)),n&&n.scroll===!1||!e.cm||Ir(e.cm)}function Lt(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,_o(e.cm)),xo(e,"cursorActivity",e))}function Et(e){Lt(e,At(e,e.sel,null,!1),Es)}function At(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=Dt(e,a.anchor,n,r),l=Dt(e,a.head,n,r);(i||s!=a.anchor||l!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new dt(s,l))}return i?pt(i,t.primIndex):t}function Dt(e,t,n,r){var i=!1,o=t,a=n||1;e.cantEdit=!1;e:for(;;){var s=Gi(e,o.line);if(s.markedSpans)for(var l=0;l<s.markedSpans.length;++l){var u=s.markedSpans[l],c=u.marker;if((null==u.from||(c.inclusiveLeft?u.from<=o.ch:u.from<o.ch))&&(null==u.to||(c.inclusiveRight?u.to>=o.ch:u.to>o.ch))){if(r&&($s(c,"beforeCursorEnter"),c.explicitlyCleared)){if(s.markedSpans){--l;continue}break}if(!c.atomic)continue;var f=c.find(0>a?-1:1);if(0==Na(f,o)&&(f.ch+=a,f.ch<0?f=f.line>e.first?gt(e,Da(f.line-1)):null:f.ch>s.text.length&&(f=f.line<e.first+e.size-1?Da(f.line+1,0):null),!f)){if(i)return r?(e.cantEdit=!0,Da(e.first,0)):Dt(e,t,n,!0);i=!0,f=t,a=-a}o=f;continue e}}return o}}function Nt(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ot(e,t){for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t!==!1||a!=n.sel.primIndex){var s=n.sel.ranges[a],l=s.empty();(l||e.options.showCursorWhenSelecting)&&It(e,s,i),l||Pt(e,s,o)}return r}function It(e,t,n){var r=pn(e,t.head,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(Ro("div","","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(Ro("div","","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Pt(e,t,n){function r(e,t,n,r){0>t&&(t=0),t=Math.round(t),r=Math.round(r),s.appendChild(Ro("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?c-e:n)+"px; height: "+(r-t)+"px"))}function i(t,n,i){function o(n,r){return dn(e,Da(t,n),"div",f,r)}var s,l,f=Gi(a,t),d=f.text.length;return Qo(to(f),n||0,null==i?d:i,function(e,t,a){var f,p,h,m=o(e,"left");if(e==t)f=m,p=h=m.left;else{if(f=o(t-1,"right"),"rtl"==a){var g=m;m=f,f=g}p=m.left,h=f.right}null==n&&0==e&&(p=u),f.top-m.top>3&&(r(p,m.top,null,m.bottom),p=u,m.bottom<f.top&&r(p,m.bottom,null,f.top)),null==i&&t==d&&(h=c),(!s||m.top<s.top||m.top==s.top&&m.left<s.left)&&(s=m),(!l||f.bottom>l.bottom||f.bottom==l.bottom&&f.right>l.right)&&(l=f),u+1>p&&(p=u),r(p,f.top,h-p,f.bottom)}),{start:s,end:l}}var o=e.display,a=e.doc,s=document.createDocumentFragment(),l=Bt(e.display),u=l.left,c=Math.max(o.sizerWidth,Yt(e)-o.sizer.offsetLeft)-l.right,f=t.from(),d=t.to();if(f.line==d.line)i(f.line,f.ch,d.ch);else{var p=Gi(a,f.line),h=Gi(a,d.line),m=mi(p)==mi(h),g=i(f.line,f.ch,m?p.text.length+1:null).end,v=i(d.line,m?0:null,d.ch).start;m&&(g.top<v.top-2?(r(g.right,g.top,null,g.bottom),r(u,v.top,v.left,v.bottom)):r(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&r(u,g.bottom,null,v.top)}n.appendChild(s)}function zt(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Ft(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Po(jt,e))}function jt(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=ns(t.mode,Wt(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var a=o.styles,s=Ai(e,o,r,!0);o.styles=s.styles;var l=o.styleClasses,u=s.classes;u?o.styleClasses=u:l&&(o.styleClasses=null);for(var c=!a||a.length!=o.styles.length||l!=u&&(!l||!u||l.bgClass!=u.bgClass||l.textClass!=u.textClass),f=0;!c&&f<a.length;++f)c=a[f]!=o.styles[f];c&&i.push(t.frontier),o.stateAfter=ns(t.mode,r)}else Ni(e,o.text,r),o.stateAfter=t.frontier%5==0?ns(t.mode,r):null;return++t.frontier,+new Date>n?(Ft(e,e.options.workDelay),!0):void 0}),i.length&&Ln(e,function(){for(var t=0;t<i.length;t++)Pn(e,i[t],"text")})}}function Rt(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=Gi(o,s-1);if(l.stateAfter&&(!n||s<=o.frontier))return s;var u=Ns(l.text,null,e.options.tabSize);(null==i||r>u)&&(i=s-1,r=u)}return i}function Wt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var o=Rt(e,t,n),a=o>r.first&&Gi(r,o-1).stateAfter;return a=a?ns(r.mode,a):rs(r.mode),r.iter(o,t,function(n){Ni(e,n.text,a);var s=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;n.stateAfter=s?ns(r.mode,a):null,++o}),n&&(r.frontier=o),a}function Ht(e){return e.lineSpace.offsetTop}function Ut(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Bt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Ho(e.measure,Ro("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function qt(e){return Ts-e.display.nativeBarWidth}function Yt(e){return e.display.scroller.clientWidth-qt(e)-e.display.barWidth}function Vt(e){return e.display.scroller.clientHeight-qt(e)-e.display.barHeight}function Gt(e,t,n){var r=e.options.lineWrapping,i=r&&Yt(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];
Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Kt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var r=0;r<e.rest.length;r++)if(Qi(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Zt(e,t){t=mi(t);var n=Qi(t),r=e.display.externalMeasured=new Nn(e.doc,t,n);r.lineN=n;var i=r.built=Ii(e,r);return r.text=i.pre,Ho(e.display.lineMeasure,i.pre),r}function Xt(e,t,n,r){return en(e,Jt(e,t),n,r)}function Qt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Fn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Jt(e,t){var n=Qi(t),r=Qt(e,n);r&&!r.text?r=null:r&&r.changes&&I(e,r,n,N(e)),r||(r=Zt(e,t));var i=Kt(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function en(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Gt(e,t.view,t.rect),t.hasHeights=!0),o=nn(e,t,n,r),o.bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function tn(e,t,n){for(var r,i,o,a,s=0;s<e.length;s+=3){var l=e[s],u=e[s+1];if(l>t?(i=0,o=1,a="left"):u>t?(i=t-l,o=i+1):(s==e.length-3||t==u&&e[s+3]>t)&&(o=u-l,i=o-1,t>=u&&(a="right")),null!=i){if(r=e[s+2],l==u&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)r=e[(s-=3)+2],a="left";if("right"==n&&i==u-l)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)r=e[(s+=3)+2],a="right";break}}return{node:r,start:i,end:o,collapse:a,coverStart:l,coverEnd:u}}function nn(e,t,n,r){var i,o=tn(t.map,n,r),a=o.node,s=o.start,l=o.end,u=o.collapse;if(3==a.nodeType){for(var c=0;4>c;c++){for(;s&&jo(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&jo(t.line.text.charAt(o.coverStart+l));)++l;if(ha&&9>ma&&0==s&&l==o.coverEnd-o.coverStart)i=a.parentNode.getBoundingClientRect();else if(ha&&e.options.lineWrapping){var f=Ps(a,s,l).getClientRects();i=f.length?f["right"==r?f.length-1:0]:Fa}else i=Ps(a,s,l).getBoundingClientRect()||Fa;if(i.left||i.right||0==s)break;l=s,s-=1,u="right"}ha&&11>ma&&(i=rn(e.display.measure,i))}else{s>0&&(u=r="right");var f;i=e.options.lineWrapping&&(f=a.getClientRects()).length>1?f["right"==r?f.length-1:0]:a.getBoundingClientRect()}if(ha&&9>ma&&!s&&(!i||!i.left&&!i.right)){var d=a.parentNode.getClientRects()[0];i=d?{left:d.left,right:d.left+bn(e.display),top:d.top,bottom:d.bottom}:Fa}for(var p=i.top-t.rect.top,h=i.bottom-t.rect.top,m=(p+h)/2,g=t.view.measure.heights,c=0;c<g.length-1&&!(m<g[c]);c++);var v=c?g[c-1]:0,y=g[c],b={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:v,bottom:y};return i.left||i.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=p,b.rbottom=h),b}function rn(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Xo(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function on(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function an(e){e.display.externalMeasure=null,Wo(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)on(e.display.view[t])}function sn(e){an(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function ln(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function un(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function cn(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=ki(t.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=eo(t);if("local"==r?a+=Ht(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:un());var l=s.left+("window"==r?0:ln());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function fn(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=ln(),i-=un();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function dn(e,t,n,r,i){return r||(r=Gi(e.doc,t.line)),cn(e,r,Xt(e,r,t.ch,i),n)}function pn(e,t,n,r,i,o){function a(t,a){var s=en(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,cn(e,r,s,n)}function s(e,t){var n=l[t],r=n.level%2;return e==Jo(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=ea(n)-(n.level%2?0:1),r=!0):e==ea(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=Jo(n)-n.level%2,r=!1),r&&e==n.to&&e>n.from?a(e-1):a(e,r)}r=r||Gi(e.doc,t.line),i||(i=Jt(e,r));var l=to(r),u=t.ch;if(!l)return a(u);var c=sa(l,u),f=s(u,c);return null!=Qs&&(f.other=s(u,Qs)),f}function hn(e,t){var n=0,t=gt(e.doc,t);e.options.lineWrapping||(n=bn(e.display)*t.ch);var r=Gi(e.doc,t.line),i=eo(r)+Ht(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function mn(e,t,n,r){var i=Da(e,t);return i.xRel=r,n&&(i.outside=!0),i}function gn(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,0>n)return mn(r.first,0,!0,-1);var i=Ji(r,n),o=r.first+r.size-1;if(i>o)return mn(r.first+r.size-1,Gi(r,o).text.length,!0,1);0>t&&(t=0);for(var a=Gi(r,i);;){var s=vn(e,a,i,t,n),l=pi(a),u=l&&l.find(0,!0);if(!l||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=Qi(a=u.to.line)}}function vn(e,t,n,r,i){function o(r){var i=pn(e,Da(n,r),"line",t,u);return s=!0,a>i.bottom?i.left-l:a<i.top?i.left+l:(s=!1,i.left)}var a=i-eo(t),s=!1,l=2*e.display.wrapper.clientWidth,u=Jt(e,t),c=to(t),f=t.text.length,d=ta(t),p=na(t),h=o(d),m=s,g=o(p),v=s;if(r>g)return mn(n,p,v,1);for(;;){if(c?p==d||p==ua(t,d,1):1>=p-d){for(var y=h>r||g-r>=r-h?d:p,b=r-(y==d?h:g);jo(t.text.charAt(y));)++y;var w=mn(n,y,y==d?m:v,-1>b?-1:b>1?1:0);return w}var x=Math.ceil(f/2),k=d+x;if(c){k=d;for(var C=0;x>C;++C)k=ua(t,k,1)}var _=o(k);_>r?(p=k,g=_,(v=s)&&(g+=1e3),f=x):(d=k,h=_,m=s,f-=x)}}function yn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ia){Ia=Ro("pre");for(var t=0;49>t;++t)Ia.appendChild(document.createTextNode("x")),Ia.appendChild(Ro("br"));Ia.appendChild(document.createTextNode("x"))}Ho(e.measure,Ia);var n=Ia.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Wo(e.measure),n||1}function bn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Ro("span","xxxxxxxxxx"),n=Ro("pre",[t]);Ho(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function wn(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ra},ja?ja.ops.push(e.curOp):e.curOp.ownsGroup=ja={ops:[e.curOp],delayedCallbacks:[]}}function xn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n]();for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++](i.cm)}}while(n<t.length)}function kn(e){var t=e.curOp,n=t.ownsGroup;if(n)try{xn(n)}finally{ja=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;Cn(n)}}function Cn(e){for(var t=e.ops,n=0;n<t.length;n++)_n(t[n]);for(var n=0;n<t.length;n++)Sn(t[n]);for(var n=0;n<t.length;n++)$n(t[n]);for(var n=0;n<t.length;n++)Mn(t[n]);for(var n=0;n<t.length;n++)Tn(t[n])}function _n(e){var t=e.cm,n=t.display;$(t),e.updateMaxLine&&d(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new S(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Sn(e){e.updatedDisplay=e.mustUpdate&&M(e.cm,e.update)}function $n(e){var t=e.cm,n=t.display;e.updatedDisplay&&A(t),e.barMeasure=h(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Xt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+qt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Yt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Mn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&nr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),e.updatedDisplay&&E(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.selectionChanged&&zt(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),e.focus&&e.focus==Uo()&&Z(e.cm)}function Tn(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&T(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-Yt(t),e.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,x(t)),e.scrollToPos){var i=Ar(t,gt(r,e.scrollToPos.from),gt(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Er(t,i)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||$s(o[s],"hide");if(a)for(var s=0;s<a.length;++s)a[s].lines.length&&$s(a[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&$s(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ln(e,t){if(e.curOp)return t();wn(e);try{return t()}finally{kn(e)}}function En(e,t){return function(){if(e.curOp)return t.apply(e,arguments);wn(e);try{return t.apply(e,arguments)}finally{kn(e)}}}function An(e){return function(){if(this.curOp)return e.apply(this,arguments);wn(this);try{return e.apply(this,arguments)}finally{kn(this)}}}function Dn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);wn(t);try{return e.apply(this,arguments)}finally{kn(t)}}}function Nn(e,t,n){this.line=t,this.rest=gi(t),this.size=this.rest?Qi(Eo(this.rest))-n+1:1,this.node=this.text=null,this.hidden=bi(e,t)}function On(e,t,n){for(var r,i=[],o=t;n>o;o=r){var a=new Nn(e.doc,Gi(e.doc,o),o);r=o+a.size,i.push(a)}return i}function In(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Aa&&vi(e.doc,t)<i.viewTo&&zn(e);else if(n<=i.viewFrom)Aa&&yi(e.doc,n+r)>i.viewFrom?zn(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)zn(e);else if(t<=i.viewFrom){var o=jn(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):zn(e)}else if(n>=i.viewTo){var o=jn(e,t,t,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):zn(e)}else{var a=jn(e,t,t,-1),s=jn(e,n,n+r,1);a&&s?(i.view=i.view.slice(0,a.index).concat(On(e,a.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):zn(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function Pn(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Fn(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==Ao(a,n)&&a.push(n)}}}function zn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Fn(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,0>t)return r}function jn(e,t,n,r){var i,o=Fn(e,t),a=e.display.view;if(!Aa||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=0,l=e.display.viewFrom;o>s;s++)l+=a[s].size;if(l!=t){if(r>0){if(o==a.length-1)return null;i=l+a[o].size-t,o++}else i=l-t;t+=i,n+=i}for(;vi(e.doc,n)!=n;){if(o==(0>r?0:a.length-1))return null;n+=r*a[o-(0>r?1:0)].size,o+=r}return{index:o,lineN:n}}function Rn(e,t,n){var r=e.display,i=r.view;0==i.length||t>=r.viewTo||n<=r.viewFrom?(r.view=On(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=On(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Fn(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(On(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Fn(e,n)))),r.viewTo=n}function Wn(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Hn(e){function t(){i.activeTouch&&(o=setTimeout(function(){i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var i=e.display;_s(i.scroller,"mousedown",En(e,Vn)),ha&&11>ma?_s(i.scroller,"dblclick",En(e,function(t){if(!Co(e,t)){var n=Yn(e,t);if(n&&!Qn(e,t)&&!qn(e.display,t)){xs(t);var r=e.findWordAt(n);xt(e.doc,r.anchor,r.head)}}})):_s(i.scroller,"dblclick",function(t){Co(e,t)||xs(t)}),La||_s(i.scroller,"contextmenu",function(t){gr(e,t)});var o,a={end:0};_s(i.scroller,"touchstart",function(e){if(!n(e)){clearTimeout(o);var t=+new Date;i.activeTouch={start:t,moved:!1,prev:t-a.end<=300?a:null},1==e.touches.length&&(i.activeTouch.left=e.touches[0].pageX,i.activeTouch.top=e.touches[0].pageY)}}),_s(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),_s(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!qn(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=e.coordsChar(i.activeTouch,"page");a=!o.prev||r(o,o.prev)?new dt(s,s):!o.prev.prev||r(o,o.prev.prev)?e.findWordAt(s):new dt(Da(s.line,0),gt(e.doc,Da(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),xs(n)}t()}),_s(i.scroller,"touchcancel",t),_s(i.scroller,"scroll",function(){i.scroller.clientHeight&&(tr(e,i.scroller.scrollTop),nr(e,i.scroller.scrollLeft,!0),$s(e,"scroll",e))}),_s(i.scroller,"mousewheel",function(t){rr(e,t)}),_s(i.scroller,"DOMMouseScroll",function(t){rr(e,t)}),_s(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={simple:function(t){Co(e,t)||Cs(t)},start:function(t){er(e,t)},drop:En(e,Jn)};var s=i.input.getField();_s(s,"keyup",function(t){fr.call(e,t)}),_s(s,"keydown",En(e,ur)),_s(s,"keypress",En(e,dr)),_s(s,"focus",Po(hr,e)),_s(s,"blur",Po(mr,e))}function Un(t,n,r){var i=r&&r!=e.Init;if(!n!=!i){var o=t.display.dragFunctions,a=n?_s:Ss;a(t.display.scroller,"dragstart",o.start),a(t.display.scroller,"dragenter",o.simple),a(t.display.scroller,"dragover",o.simple),a(t.display.scroller,"drop",o.drop)}}function Bn(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function qn(e,t){for(var n=bo(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Yn(e,t,n,r){var i=e.display;if(!n&&"true"==bo(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,u=gn(e,o,a);if(r&&1==u.xRel&&(l=Gi(e.doc,u.line).text).length==u.ch){var c=Ns(l,l.length,e.options.tabSize)-l.length;u=Da(u.line,Math.max(0,Math.round((o-Bt(e.display).left)/bn(e.display))-c))}return u}function Vn(e){var t=this,n=t.display;if(!(n.activeTouch&&n.input.supportsTouch()||Co(t,e))){if(n.shift=e.shiftKey,qn(n,e))return void(ga||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Qn(t,e)){var r=Yn(t,e);switch(window.focus(),wo(e)){case 1:r?Gn(t,e,r):bo(e)==n.scroller&&xs(e);break;case 2:ga&&(t.state.lastMiddleDown=+new Date),r&&xt(t.doc,r),setTimeout(function(){n.input.focus()},20),xs(e);break;case 3:La?gr(t,e):pr(t)}}}}function Gn(e,t,n){ha?setTimeout(Po(Z,e),0):e.curOp.focus=Uo();var r,i=+new Date;za&&za.time>i-400&&0==Na(za.pos,n)?r="triple":Pa&&Pa.time>i-400&&0==Na(Pa.pos,n)?(r="double",za={time:i,pos:n}):(r="single",Pa={time:i,pos:n});var o,a=e.doc.sel,s=Sa?t.metaKey:t.ctrlKey;e.options.dragDrop&&Ys&&!X(e)&&"single"==r&&(o=a.contains(n))>-1&&(Na((o=a.ranges[o]).from(),n)<0||n.xRel>0)&&(Na(o.to(),n)>0||n.xRel<0)?Kn(e,t,n,s):Zn(e,t,n,r,s)}function Kn(e,t,n,r){var i=e.display,o=+new Date,a=En(e,function(s){ga&&(i.scroller.draggable=!1),e.state.draggingText=!1,Ss(document,"mouseup",a),Ss(i.scroller,"drop",a),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(xs(s),!r&&+new Date-200<o&&xt(e.doc,n),ga||ha&&9==ma?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});ga&&(i.scroller.draggable=!0),e.state.draggingText=a,i.scroller.dragDrop&&i.scroller.dragDrop(),_s(document,"mouseup",a),_s(i.scroller,"drop",a)}function Zn(e,t,n,r,i){function o(t){if(0!=Na(g,t))if(g=t,"rect"==r){for(var i=[],o=e.options.tabSize,a=Ns(Gi(u,n.line).text,n.ch,o),s=Ns(Gi(u,t.line).text,t.ch,o),l=Math.min(a,s),p=Math.max(a,s),h=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));m>=h;h++){var v=Gi(u,h).text,y=To(v,l,o);l==p?i.push(new dt(Da(h,y),Da(h,y))):v.length>y&&i.push(new dt(Da(h,y),Da(h,To(v,p,o))))}i.length||i.push(new dt(n,n)),Mt(u,pt(d.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=c,w=b.anchor,x=t;if("single"!=r){if("double"==r)var k=e.findWordAt(t);else var k=new dt(Da(t.line,0),gt(u,Da(t.line+1,0)));Na(k.anchor,w)>0?(x=k.head,w=K(b.from(),k.anchor)):(x=k.anchor,w=G(b.to(),k.head))}var i=d.ranges.slice(0);i[f]=new dt(gt(u,w),x),Mt(u,pt(i,f),As)}}function a(t){var n=++y,i=Yn(e,t,!0,"rect"==r);if(i)if(0!=Na(i,g)){e.curOp.focus=Uo(),o(i);var s=w(l,u);(i.line>=s.to||i.line<s.from)&&setTimeout(En(e,function(){y==n&&a(t)}),150)}else{var c=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;c&&setTimeout(En(e,function(){y==n&&(l.scroller.scrollTop+=c,a(t))}),50)}}function s(e){y=1/0,xs(e),l.input.focus(),Ss(document,"mousemove",b),Ss(document,"mouseup",x),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;xs(t);var c,f,d=u.sel,p=d.ranges;if(i&&!t.shiftKey?(f=u.sel.contains(n),c=f>-1?p[f]:new dt(n,n)):(c=u.sel.primary(),f=u.sel.primIndex),t.altKey)r="rect",i||(c=new dt(n,n)),n=Yn(e,t,!0,!0),f=-1;else if("double"==r){var h=e.findWordAt(n);c=e.display.shift||u.extend?wt(u,c,h.anchor,h.head):h}else if("triple"==r){var m=new dt(Da(n.line,0),gt(u,Da(n.line+1,0)));c=e.display.shift||u.extend?wt(u,c,m.anchor,m.head):m}else c=wt(u,c,n);i?-1==f?(f=p.length,Mt(u,pt(p.concat([c]),f),{scroll:!1,origin:"*mouse"})):p.length>1&&p[f].empty()&&"single"==r&&!t.shiftKey?(Mt(u,pt(p.slice(0,f).concat(p.slice(f+1)),0)),d=u.sel):Ct(u,f,c,As):(f=0,Mt(u,new ft([c],0),As),d=u.sel);var g=n,v=l.wrapper.getBoundingClientRect(),y=0,b=En(e,function(e){wo(e)?a(e):s(e)}),x=En(e,s);_s(document,"mousemove",b),_s(document,"mouseup",x)}function Xn(e,t,n,r,i){try{var o=t.clientX,a=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&xs(t);var s=e.display,l=s.lineDiv.getBoundingClientRect();if(a>l.bottom||!So(e,n))return yo(t);a-=l.top-s.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var c=s.gutters.childNodes[u];if(c&&c.getBoundingClientRect().right>=o){var f=Ji(e.doc,a),d=e.options.gutters[u];return i(e,n,e,f,d,t),yo(t)}}}function Qn(e,t){return Xn(e,t,"gutterClick",!0,xo)}function Jn(e){var t=this;if(!Co(t,e)&&!qn(t.display,e)){xs(e),ha&&(Wa=+new Date);var n=Yn(t,e,!0),r=e.dataTransfer.files;if(n&&!X(t))if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=function(e,r){var s=new FileReader;s.onload=En(t,function(){if(o[r]=s.result,++a==i){n=gt(t.doc,n);var e={from:n,to:n,text:Vs(o.join("\n")),origin:"paste"};Cr(t.doc,e),$t(t.doc,ht(n,Va(e)))}}),s.readAsText(e)},l=0;i>l;++l)s(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!(Sa?e.altKey:e.ctrlKey))var u=t.listSelections();if(Tt(t.doc,ht(n,n)),u)for(var l=0;l<u.length;++l)Lr(t.doc,"",u[l].anchor,u[l].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(e){}}}}function er(e,t){if(ha&&(!e.state.draggingText||+new Date-Wa<100))return void Cs(t);if(!Co(e,t)&&!qn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!wa)){var n=Ro("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ba&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),ba&&n.parentNode.removeChild(n)}}function tr(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,fa||L(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),fa&&L(e),Ft(e,100))}function nr(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,x(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function rr(e,t){var n=Ba(t),r=n.x,i=n.y,o=e.display,a=o.scroller;if(r&&a.scrollWidth>a.clientWidth||i&&a.scrollHeight>a.clientHeight){if(i&&Sa&&ga)e:for(var s=t.target,l=o.view;s!=a;s=s.parentNode)for(var u=0;u<l.length;u++)if(l[u].node==s){e.display.currentWheelTarget=s;break e}if(r&&!fa&&!ba&&null!=Ua)return i&&tr(e,Math.max(0,Math.min(a.scrollTop+i*Ua,a.scrollHeight-a.clientHeight))),nr(e,Math.max(0,Math.min(a.scrollLeft+r*Ua,a.scrollWidth-a.clientWidth))),xs(t),void(o.wheelStartX=null);if(i&&null!=Ua){var c=i*Ua,f=e.doc.scrollTop,d=f+o.wrapper.clientHeight;0>c?f=Math.max(0,f+c-50):d=Math.min(e.doc.height,d+c+50),L(e,{top:f,bottom:d})}20>Ha&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Ua=(Ua*Ha+n)/(Ha+1),++Ha)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function ir(e,t,n){if("string"==typeof t&&(t=is[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{X(e)&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=Ls}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function or(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=as(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&as(t,e.options.extraKeys,n,e)||as(t,e.options.keyMap,n,e)}function ar(e,t,n,r){var i=e.state.keySeq;if(i){if(ss(t))return"handled";qa.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=or(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&xo(e,"keyHandled",e,t,n),("handled"==o||"multi"==o)&&(xs(n),zt(e)),i&&!o&&/\'$/.test(t)?(xs(n),!0):!!o}function sr(e,t){var n=ls(t,!0);return n?t.shiftKey&&!e.state.keySeq?ar(e,"Shift-"+n,t,function(t){return ir(e,t,!0)})||ar(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?ir(e,t):void 0}):ar(e,n,t,function(t){return ir(e,t)}):!1}function lr(e,t,n){return ar(e,"'"+n+"'",t,function(t){return ir(e,t,!0)})}function ur(e){var t=this;if(t.curOp.focus=Uo(),!Co(t,e)){ha&&11>ma&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=sr(t,e);ba&&(Ya=r?n:null,!r&&88==n&&!Ks&&(Sa?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||cr(t)}}function cr(e){function t(e){18!=e.keyCode&&e.altKey||(Us(n,"CodeMirror-crosshair"),Ss(document,"keyup",t),Ss(document,"mouseover",t))}var n=e.display.lineDiv;Bs(n,"CodeMirror-crosshair"),_s(document,"keyup",t),_s(document,"mouseover",t)}function fr(e){16==e.keyCode&&(this.doc.sel.shift=!1),Co(this,e)}function dr(e){var t=this;if(!(qn(t.display,e)||Co(t,e)||e.ctrlKey&&!e.altKey||Sa&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(ba&&n==Ya)return Ya=null,void xs(e);if(!ba||e.which&&!(e.which<10)||!sr(t,e)){var i=String.fromCharCode(null==r?n:r);lr(t,e,i)||t.display.input.onKeyPress(e)}}}function pr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,mr(e))},100)}function hr(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||($s(e,"focus",e),e.state.focused=!0,Bs(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),ga&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),zt(e))}function mr(e){e.state.delayingBlurEvent||(e.state.focused&&($s(e,"blur",e),e.state.focused=!1,Us(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function gr(e,t){qn(e.display,t)||vr(e,t)||e.display.input.onContextMenu(t)}function vr(e,t){return So(e,"gutterContextMenu")?Xn(e,t,"gutterContextMenu",!1,$s):!1}function yr(e,t){if(Na(e,t.from)<0)return e;if(Na(e,t.to)<=0)return Va(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Va(t).ch-t.to.ch),Da(n,r)}function br(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new dt(yr(i.anchor,t),yr(i.head,t)))}return pt(n,e.sel.primIndex)}function wr(e,t,n){return e.line==t.line?Da(n.line,e.ch-t.ch+n.ch):Da(n.line+(e.line-t.line),e.ch)}function xr(e,t,n){for(var r=[],i=Da(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=wr(s.from,i,o),u=wr(Va(s),i,o);if(i=s.to,o=u,"around"==n){var c=e.sel.ranges[a],f=Na(c.head,c.anchor)<0;r[a]=new dt(f?u:l,f?l:u)}else r[a]=new dt(l,l)}return new ft(r,e.sel.primIndex)}function kr(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,i){t&&(this.from=gt(e,t)),n&&(this.to=gt(e,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),$s(e,"beforeChange",e,r),e.cm&&$s(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Cr(e,t,n){if(e.cm){if(!e.cm.curOp)return En(e.cm,Cr)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(So(e,"beforeChange")||e.cm&&So(e.cm,"beforeChange"))||(t=kr(e,t,!0))){var r=Ea&&!n&&oi(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)_r(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else _r(e,t)}}function _r(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Na(t.from,t.to)){var n=br(e,t);ao(e,t,n,e.cm?e.cm.curOp.id:0/0),Mr(e,t,n,ni(e,t));var r=[];Yi(e,function(e,n){n||-1!=Ao(r,e.history)||(vo(e.history,t),r.push(e.history)),Mr(e,t,null,ni(e,t))})}}function Sr(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var r,i=e.history,o=e.sel,a="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,l=0;l<a.length&&(r=a[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;r=a.pop(),r.ranges;){if(uo(r,s),n&&!r.equals(e.sel))return void Mt(e,r,{clearRedo:!1});o=r}var u=[];uo(o,s),s.push({changes:u,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var c=So(e,"beforeChange")||e.cm&&So(e.cm,"beforeChange"),l=r.changes.length-1;l>=0;--l){var f=r.changes[l];if(f.origin=t,c&&!kr(e,f,!1))return void(a.length=0);u.push(ro(e,f));var d=l?br(e,f):Eo(a);Mr(e,f,d,ii(e,f)),!l&&e.cm&&e.cm.scrollIntoView({from:f.from,to:Va(f)});var p=[];Yi(e,function(e,t){t||-1!=Ao(p,e.history)||(vo(e.history,f),p.push(e.history)),Mr(e,f,null,ii(e,f))})}}}}function $r(e,t){if(0!=t&&(e.first+=t,e.sel=new ft(Do(e.sel.ranges,function(e){return new dt(Da(e.anchor.line+t,e.anchor.ch),Da(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){In(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Pn(e.cm,r,"gutter")}}function Mr(e,t,n,r){if(e.cm&&!e.cm.curOp)return En(e.cm,Mr)(e,t,n,r);if(t.to.line<e.first)return void $r(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);$r(e,i),t={from:Da(e.first,0),to:Da(t.to.line+i,t.to.ch),text:[Eo(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Da(o,Gi(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ki(e,t.from,t.to),n||(n=br(e,t)),e.cm?Tr(e.cm,t,r):Ui(e,t,r),Tt(e,n,Es)}}function Tr(e,t,n){var r=e.doc,i=e.display,a=t.from,s=t.to,l=!1,u=a.line;e.options.lineWrapping||(u=Qi(mi(Gi(r,a.line))),r.iter(u,s.line+1,function(e){return e==i.maxLine?(l=!0,!0):void 0})),r.sel.contains(t.from,t.to)>-1&&_o(e),Ui(r,t,n,o(e)),e.options.lineWrapping||(r.iter(u,a.line+t.text.length,function(e){var t=f(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,a.line),Ft(e,400);var c=t.text.length-(s.line-a.line)-1;t.full?In(e):a.line!=s.line||1!=t.text.length||Hi(e.doc,t)?In(e,a.line,s.line+1,c):Pn(e,a.line,"text");var d=So(e,"changes"),p=So(e,"change");if(p||d){var h={from:a,to:s,text:t.text,removed:t.removed,origin:t.origin};p&&xo(e,"change",e,h),d&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function Lr(e,t,n,r,i){if(r||(r=n),Na(r,n)<0){var o=r;r=n,n=o}"string"==typeof t&&(t=Vs(t)),Cr(e,{from:n,to:r,text:t,origin:i})}function Er(e,t){if(!Co(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!ka){var o=Ro("div","",null,"position: absolute; top: "+(t.top-n.viewOffset-Ht(e.display))+"px; height: "+(t.bottom-t.top+qt(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function Ar(e,t,n,r){null==r&&(r=0);for(var i=0;5>i;i++){var o=!1,a=pn(e,t),s=n&&n!=t?pn(e,n):a,l=Nr(e,Math.min(a.left,s.left),Math.min(a.top,s.top)-r,Math.max(a.left,s.left),Math.max(a.bottom,s.bottom)+r),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=l.scrollTop&&(tr(e,l.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(o=!0)),null!=l.scrollLeft&&(nr(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return a}function Dr(e,t,n,r,i){var o=Nr(e,t,n,r,i);null!=o.scrollTop&&tr(e,o.scrollTop),null!=o.scrollLeft&&nr(e,o.scrollLeft)}function Nr(e,t,n,r,i){var o=e.display,a=yn(e.display);0>n&&(n=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=Vt(e),u={};i-n>l&&(i=n+l);var c=e.doc.height+Ut(o),f=a>n,d=i>c-a;if(s>n)u.scrollTop=f?0:n;else if(i>s+l){var p=Math.min(n,(d?c:i)-l);p!=s&&(u.scrollTop=p)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,m=Yt(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),g=r-t>m;
return g&&(r=t+m),10>t?u.scrollLeft=0:h>t?u.scrollLeft=Math.max(0,t-(g?0:10)):r>m+h-3&&(u.scrollLeft=r+(g?0:10)-m),u}function Or(e,t,n){(null!=t||null!=n)&&Pr(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Ir(e){Pr(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?Da(t.line,t.ch-1):t,r=Da(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function Pr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=hn(e,t.from),r=hn(e,t.to),i=Nr(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function zr(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Wt(e,t):n="prev");var a=e.options.tabSize,s=Gi(o,t),l=Ns(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&(u=o.mode.indent(i,s.text.slice(c.length),s.text),u==Ls||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?Ns(Gi(o,t-1).text,null,a):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var f="",d=0;if(e.options.indentWithTabs)for(var p=Math.floor(u/a);p;--p)d+=a,f+="	";if(u>d&&(f+=Lo(u-d)),f!=c)return Lr(o,f,Da(t,0),Da(t,c.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var h=o.sel.ranges[p];if(h.head.line==t&&h.head.ch<c.length){var d=Da(t,c.length);Ct(o,p,new dt(d,d));break}}}function Fr(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=Gi(e,mt(e,t)):i=Qi(t),null==i?null:(r(o,i)&&e.cm&&Pn(e.cm,i,n),o)}function jr(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&Na(o.from,Eo(r).to)<=0;){var a=r.pop();if(Na(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Ln(e,function(){for(var t=r.length-1;t>=0;t--)Lr(e.doc,"",r[t].from,r[t].to,"+delete");Ir(e)})}function Rr(e,t,n,r,i){function o(){var t=s+n;return t<e.first||t>=e.first+e.size?f=!1:(s=t,c=Gi(e,t))}function a(e){var t=(i?ua:ca)(c,l,n,!0);if(null==t){if(e||!o())return f=!1;l=i?(0>n?na:ta)(c):0>n?c.text.length:0}else l=t;return!0}var s=t.line,l=t.ch,u=n,c=Gi(e,s),f=!0;if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var d=null,p="group"==r,h=e.cm&&e.cm.getHelper(t,"wordChars"),m=!0;!(0>n)||a(!m);m=!1){var g=c.text.charAt(l)||"\n",v=zo(g,h)?"w":p&&"\n"==g?"n":!p||/\s/.test(g)?null:"p";if(!p||m||v||(v="s"),d&&d!=v){0>n&&(n=1,a());break}if(v&&(d=v),n>0&&!a(!m))break}var y=Dt(e,Da(s,l),u,!0);return f||(y.hitSide=!0),y}function Wr(e,t,n,r){var i,o=e.doc,a=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+n*(s-(0>n?1.5:.5)*yn(e.display))}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){var l=gn(e,a,i);if(!l.outside)break;if(0>n?0>=i:i>=o.height){l.hitSide=!0;break}i+=5*n}return l}function Hr(t,n,r,i){e.defaults[t]=n,r&&(Ka[t]=i?function(e,t,n){n!=Za&&r(e,t,n)}:r)}function Ur(e){for(var t,n,r,i,o=e.split(/-(?!$)/),e=o[o.length-1],a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Br(e){return"string"==typeof e?os[e]:e}function qr(e,t,n,r,i){if(r&&r.shared)return Yr(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return En(e.cm,qr)(e,t,n,r,i);var o=new fs(e,i),a=Na(t,n);if(r&&Io(r,o,!1),a>0||0==a&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Ro("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(hi(e,t.line,t,n,o)||t.line!=n.line&&hi(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Aa=!0}o.addToHistory&&ao(e,{from:t,to:n,origin:"markText"},e.sel,0/0);var s,l=t.line,u=e.cm;if(e.iter(l,n.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&mi(e)==u.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&Xi(e,0),Jr(e,new Zr(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){bi(e,t)&&Xi(t,0)}),o.clearOnEnter&&_s(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Ea=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++cs,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)In(u,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=n.line;c++)Pn(u,c,"text");o.atomic&&Et(u.doc),xo(u,"markerAdded",u,o)}return o}function Yr(e,t,n,r,i){r=Io(r),r.shared=!1;var o=[qr(e,t,n,r,i)],a=o[0],s=r.widgetNode;return Yi(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(qr(e,gt(e,t),gt(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=Eo(o)}),new ds(o,a)}function Vr(e){return e.findMarks(Da(e.first,0),e.clipPos(Da(e.lastLine())),function(e){return e.parent})}function Gr(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(Na(o,a)){var s=qr(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Kr(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];Yi(n.primary.doc,function(e){r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==Ao(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}}function Zr(e,t,n){this.marker=e,this.from=t,this.to=n}function Xr(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Qr(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Jr(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function ei(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Zr(a,o.from,l?null:o.to))}}return r}function ti(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Zr(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}function ni(e,t){if(t.full)return null;var n=yt(e,t.from.line)&&Gi(e,t.from.line).markedSpans,r=yt(e,t.to.line)&&Gi(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==Na(t.from,t.to),s=ei(n,i,a),l=ti(r,o,a),u=1==t.text.length,c=Eo(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var d=s[f];if(null==d.to){var p=Xr(l,d.marker);p?u&&(d.to=null==p.to?null:p.to+c):d.to=i}}if(l)for(var f=0;f<l.length;++f){var d=l[f];if(null!=d.to&&(d.to+=c),null==d.from){var p=Xr(s,d.marker);p||(d.from=c,u&&(s||(s=[])).push(d))}else d.from+=c,u&&(s||(s=[])).push(d)}s&&(s=ri(s)),l&&l!=s&&(l=ri(l));var h=[s];if(!u){var m,g=t.text.length-2;if(g>0&&s)for(var f=0;f<s.length;++f)null==s[f].to&&(m||(m=[])).push(new Zr(s[f].marker,null,null));for(var f=0;g>f;++f)h.push(m);h.push(l)}return h}function ri(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function ii(e,t){var n=po(e,t),r=ni(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else a&&(n[i]=a)}return n}function oi(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=Ao(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(Na(u.to,s.from)<0||Na(u.from,s.to)>0)){var c=[l,1],f=Na(u.from,s.from),d=Na(u.to,s.to);(0>f||!a.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(d>0||!a.inclusiveRight&&!d)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-1}}return i}function ai(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function si(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function li(e){return e.inclusiveLeft?-1:0}function ui(e){return e.inclusiveRight?1:0}function ci(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=Na(r.from,i.from)||li(e)-li(t);if(o)return-o;var a=Na(r.to,i.to)||ui(e)-ui(t);return a?a:t.id-e.id}function fi(e,t){var n,r=Aa&&e.markedSpans;if(r)for(var i,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||ci(n,i.marker)<0)&&(n=i.marker);return n}function di(e){return fi(e,!0)}function pi(e){return fi(e,!1)}function hi(e,t,n,r,i){var o=Gi(e,t),a=Aa&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=Na(u.from,n)||li(l.marker)-li(i),f=Na(u.to,r)||ui(l.marker)-ui(i);if(!(c>=0&&0>=f||0>=c&&f>=0)&&(0>=c&&(Na(u.to,n)>0||l.marker.inclusiveRight&&i.inclusiveLeft)||c>=0&&(Na(u.from,r)<0||l.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function mi(e){for(var t;t=di(e);)e=t.find(-1,!0).line;return e}function gi(e){for(var t,n;t=pi(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function vi(e,t){var n=Gi(e,t),r=mi(n);return n==r?t:Qi(r)}function yi(e,t){if(t>e.lastLine())return t;var n,r=Gi(e,t);if(!bi(e,r))return t;for(;n=pi(r);)r=n.find(1,!0).line;return Qi(r)+1}function bi(e,t){var n=Aa&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&wi(e,t,r))return!0}}function wi(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return wi(e,r.line,Xr(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&wi(e,t,i))return!0}function xi(e,t,n){eo(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Or(e,null,n)}function ki(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Rs(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),Ho(t.display.measure,Ro("div",[e.node],null,n))}return e.height=e.node.offsetHeight}function Ci(e,t,n,r){var i=new ps(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Fr(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!bi(e,t)){var r=eo(t)<e.scrollTop;Xi(t,t.height+ki(i)),r&&Or(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function _i(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ai(e),si(e,n);var i=r?r(e):1;i!=e.height&&Xi(e,i)}function Si(e){e.parent=null,ai(e)}function $i(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Mi(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var r=e.innerMode(t,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Ti(t,n,r,i){for(var o=0;10>o;o++){i&&(i[0]=e.innerMode(t,r).mode);var a=t.token(n,r);if(n.pos>n.start)return a}throw new Error("Mode "+t.name+" failed to advance stream.")}function Li(e,t,n,r){function i(e){return{start:f.start,end:f.pos,string:f.current(),type:o||null,state:e?ns(a.mode,c):c}}var o,a=e.doc,s=a.mode;t=gt(a,t);var l,u=Gi(a,t.line),c=Wt(e,t.line,n),f=new us(u.text,e.options.tabSize);for(r&&(l=[]);(r||f.pos<t.ch)&&!f.eol();)f.start=f.pos,o=Ti(s,f,c),r&&l.push(i(!0));return r?l:i()}function Ei(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,f=new us(t,e.options.tabSize),d=e.options.addModeClass&&[null];for(""==t&&$i(Mi(n,r),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&Ni(e,t,r,f.pos),f.pos=t.length,l=null):l=$i(Ti(n,f,r,d),o),d){var p=d[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||c!=l){for(;u<f.start;)u=Math.min(f.start,u+5e4),i(u,c);c=l}f.start=f.pos}for(;u<f.pos;){var h=Math.min(f.pos,u+5e4);i(h,c),u=h}}function Ai(e,t,n,r){var i=[e.state.modeGen],o={};Ei(e,t.text,e.doc.mode,n,function(e,t){i.push(e,t)},o,r);for(var a=0;a<e.state.overlays.length;++a){var s=e.state.overlays[a],l=1,u=0;Ei(e,t.text,s.mode,!0,function(e,t){for(var n=l;e>u;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Di(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Ai(e,t,t.stateAfter=Wt(e,Qi(t)));t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Ni(e,t,n,r){var i=e.doc.mode,o=new us(t,e.options.tabSize);for(o.start=o.pos=r||0,""==t&&Mi(i,n);!o.eol()&&o.pos<=e.options.maxHighlightLength;)Ti(i,o,n),o.start=o.pos}function Oi(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?gs:ms;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Ii(e,t){var n=Ro("span",null,null,ga?"padding-right: .1px":null),r={pre:Ro("pre",[n]),content:n,col:0,pos:0,cm:e,splitSpaces:(ha||ga)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o,a=i?t.rest[i-1]:t.line;r.pos=0,r.addToken=zi,Zo(e.display.measure)&&(o=to(a))&&(r.addToken=ji(r.addToken,o)),r.map=[];var s=t!=e.display.externalMeasured&&Qi(a);Wi(a,r,Di(e,a,s)),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=qo(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=qo(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ko(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return ga&&/\bcm-tab\b/.test(r.content.lastChild.className)&&(r.content.className="cm-tab-wrap-hack"),$s(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=qo(r.pre.className,r.textClass||"")),r}function Pi(e){var t=Ro("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function zi(e,t,n,r,i,o,a){if(t){var s=e.splitSpaces?t.replace(/ {3,}/g,Fi):t,l=e.cm.state.specialChars,u=!1;if(l.test(t))for(var c=document.createDocumentFragment(),f=0;;){l.lastIndex=f;var d=l.exec(t),p=d?d.index-f:t.length-f;if(p){var h=document.createTextNode(s.slice(f,f+p));c.appendChild(ha&&9>ma?Ro("span",[h]):h),e.map.push(e.pos,e.pos+p,h),e.col+=p,e.pos+=p}if(!d)break;if(f+=p+1,"	"==d[0]){var m=e.cm.options.tabSize,g=m-e.col%m,h=c.appendChild(Ro("span",Lo(g),"cm-tab"));h.setAttribute("role","presentation"),h.setAttribute("cm-text","	"),e.col+=g}else{var h=e.cm.options.specialCharPlaceholder(d[0]);h.setAttribute("cm-text",d[0]),c.appendChild(ha&&9>ma?Ro("span",[h]):h),e.col+=1}e.map.push(e.pos,e.pos+1,h),e.pos++}else{e.col+=t.length;var c=document.createTextNode(s);e.map.push(e.pos,e.pos+t.length,c),ha&&9>ma&&(u=!0),e.pos+=t.length}if(n||r||i||u||a){var v=n||"";r&&(v+=r),i&&(v+=i);var y=Ro("span",[c],v,a);return o&&(y.title=o),e.content.appendChild(y)}e.content.appendChild(c)}}function Fi(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":"";return t+=" "}function ji(e,t){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var f=0;f<t.length;f++){var d=t[f];if(d.to>u&&d.from<=u)break}if(d.to>=c)return e(n,r,i,o,a,s,l);e(n,r.slice(0,d.to-u),i,o,null,s,l),o=null,r=r.slice(d.to-u),u=d.to}}}function Ri(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t}function Wi(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,l,u,c,f,d,p=i.length,h=0,m=1,g="",v=0;;){if(v==h){l=u=c=f=s="",d=null,v=1/0;for(var y=[],b=0;b<r.length;++b){var w=r[b],x=w.marker;"bookmark"==x.type&&w.from==h&&x.widgetNode?y.push(x):w.from<=h&&(null==w.to||w.to>h||x.collapsed&&w.to==h&&w.from==h)?(null!=w.to&&w.to!=h&&v>w.to&&(v=w.to,u=""),x.className&&(l+=" "+x.className),x.css&&(s=x.css),x.startStyle&&w.from==h&&(c+=" "+x.startStyle),x.endStyle&&w.to==v&&(u+=" "+x.endStyle),x.title&&!f&&(f=x.title),x.collapsed&&(!d||ci(d.marker,x)<0)&&(d=w)):w.from>h&&v>w.from&&(v=w.from)}if(d&&(d.from||0)==h){if(Ri(t,(null==d.to?p+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}if(!d&&y.length)for(var b=0;b<y.length;++b)Ri(t,0,y[b])}if(h>=p)break;for(var k=Math.min(p,v);;){if(g){var C=h+g.length;if(!d){var _=C>k?g.slice(0,k-h):g;t.addToken(t,_,a?a+l:l,c,h+_.length==v?u:"",f,s)}if(C>=k){g=g.slice(k-h),h=k;break}h=C,c=""}g=i.slice(o,o=n[m++]),a=Oi(n[m++],t.cm.options)}}else for(var m=1;m<n.length;m+=2)t.addToken(t,i.slice(o,o=n[m]),Oi(n[m+1],t.cm.options))}function Hi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Eo(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ui(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){_i(e,n,i,r),xo(e,"change",e,t)}function a(e,t){for(var n=e,o=[];t>n;++n)o.push(new hs(u[n],i(n),r));return o}var s=t.from,l=t.to,u=t.text,c=Gi(e,s.line),f=Gi(e,l.line),d=Eo(u),p=i(u.length-1),h=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(Hi(e,t)){var m=a(0,u.length-1);o(f,f.text,p),h&&e.remove(s.line,h),m.length&&e.insert(s.line,m)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,s.ch)+d+c.text.slice(l.ch),p);else{var m=a(1,u.length-1);m.push(new hs(d+c.text.slice(l.ch),p,r)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,m)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(l.ch),i(0)),e.remove(s.line+1,h);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,d+f.text.slice(l.ch),p);var m=a(1,u.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,m)}xo(e,"change",e,t)}function Bi(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function qi(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}function Yi(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;(!n||l)&&(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function Vi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,a(e),n(e),e.options.lineWrapping||d(e),e.options.mode=t.modeOption,In(e)}function Gi(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(o>t){n=i;break}t-=o}return n.lines[t]}function Ki(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function Zi(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function Xi(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Qi(e){if(null==e.parent)return null;for(var t=e.parent,n=Ao(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Ji(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(o>t){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var r=0;r<e.lines.length;++r){var a=e.lines[r],s=a.height;if(s>t)break;t-=s}return n+r}function eo(e){e=mi(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var r=0;r<o.children.length;++r){var a=o.children[r];if(a==n)break;t+=a.height}return t}function to(e){var t=e.order;return null==t&&(t=e.order=Js(e.text)),t}function no(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ro(e,t){var n={from:V(t.from),to:Va(t),text:Ki(e,t.from,t.to)};return co(e,n,t.from.line,t.to.line+1),Yi(e,function(e){co(e,n,t.from.line,t.to.line+1)},!0),n}function io(e){for(;e.length;){var t=Eo(e);if(!t.ranges)break;e.pop()}}function oo(e,t){return t?(io(e.done),Eo(e.done)):e.done.length&&!Eo(e.done).ranges?Eo(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Eo(e.done)):void 0}function ao(e,t,n,r){var i=e.history;i.undone.length=0;var o,a=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=oo(i,i.lastOp==r))){var s=Eo(o.changes);0==Na(t.from,t.to)&&0==Na(t.from,s.to)?s.to=Va(t):o.changes.push(ro(e,t))}else{var l=Eo(i.done);for(l&&l.ranges||uo(e.sel,i.done),o={changes:[ro(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||$s(e,"historyAdded")}function so(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function lo(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||so(e,o,Eo(i.done),t))?i.done[i.done.length-1]=t:uo(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&r.clearRedo!==!1&&io(i.undone)}function uo(e,t){var n=Eo(t);n&&n.ranges&&n.equals(e)||t.push(e)}function co(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function fo(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function po(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(fo(n[r]));return i}function ho(e,t,n){for(var r=0,i=[];r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?ft.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];i.push({changes:s});for(var l=0;l<a.length;++l){var u,c=a[l];if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&Ao(t,Number(u[1]))>-1&&(Eo(s)[f]=c[f],delete c[f])}}}return i}function mo(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function go(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)mo(o.ranges[s].anchor,t,n,r),mo(o.ranges[s].head,t,n,r)}else{for(var s=0;s<o.changes.length;++s){var l=o.changes[s];if(n<l.from.line)l.from=Da(l.from.line+r,l.from.ch),l.to=Da(l.to.line+r,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function vo(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;go(e.done,n,r,i),go(e.undone,n,r,i)}function yo(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function bo(e){return e.target||e.srcElement}function wo(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Sa&&e.ctrlKey&&1==t&&(t=3),t}function xo(e,t){function n(e){return function(){e.apply(null,o)}}var r=e._handlers&&e._handlers[t];if(r){var i,o=Array.prototype.slice.call(arguments,2);ja?i=ja.delayedCallbacks:Ms?i=Ms:(i=Ms=[],setTimeout(ko,0));for(var a=0;a<r.length;++a)i.push(n(r[a]))}}function ko(){var e=Ms;Ms=null;for(var t=0;t<e.length;++t)e[t]()}function Co(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),$s(e,n||t.type,e,t),yo(t)||t.codemirrorIgnore}function _o(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==Ao(n,t[r])&&n.push(t[r])}function So(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function $o(e){e.prototype.on=function(e,t){_s(this,e,t)},e.prototype.off=function(e,t){Ss(this,e,t)}}function Mo(){this.id=null}function To(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("	",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}}function Lo(e){for(;Os.length<=e;)Os.push(Eo(Os)+" ");return Os[e]}function Eo(e){return e[e.length-1]}function Ao(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Do(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function No(){}function Oo(e,t){var n;return Object.create?n=Object.create(e):(No.prototype=e,n=new No),t&&Io(t,n),n}function Io(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||n===!1&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function Po(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function zo(e,t){return t?t.source.indexOf("\\w")>-1&&Fs(e)?!0:t.test(e):Fs(e)}function Fo(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function jo(e){return e.charCodeAt(0)>=768&&js.test(e)}function Ro(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function Wo(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Ho(e,t){return Wo(e).appendChild(t)}function Uo(){return document.activeElement}function Bo(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function qo(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!Bo(n[r]).test(t)&&(t+=" "+n[r]);return t}function Yo(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function Vo(){qs||(Go(),qs=!0)}function Go(){var e;_s(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Yo(Bn)},100))}),_s(window,"blur",function(){Yo(mr)})}function Ko(e){if(null==Ws){var t=Ro("span","");Ho(e,Ro("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ws=t.offsetWidth<=1&&t.offsetHeight>2&&!(ha&&8>ma))}var n=Ws?Ro("span",""):Ro("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Zo(e){if(null!=Hs)return Hs;var t=Ho(e,document.createTextNode("AA")),n=Ps(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=Ps(t,1,2).getBoundingClientRect();return Hs=r.right-n.right<3}function Xo(e){if(null!=Zs)return Zs;var t=Ho(e,Ro("span","x")),n=t.getBoundingClientRect(),r=Ps(t,0,1).getBoundingClientRect();return Zs=Math.abs(n.left-r.left)>1}function Qo(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}function Jo(e){return e.level%2?e.to:e.from}function ea(e){return e.level%2?e.from:e.to}function ta(e){var t=to(e);return t?Jo(t[0]):0}function na(e){var t=to(e);return t?ea(Eo(t)):e.text.length}function ra(e,t){var n=Gi(e.doc,t),r=mi(n);r!=n&&(t=Qi(r));var i=to(r),o=i?i[0].level%2?na(r):ta(r):0;return Da(t,o)}function ia(e,t){for(var n,r=Gi(e.doc,t);n=pi(r);)r=n.find(1,!0).line,t=null;var i=to(r),o=i?i[0].level%2?ta(r):na(r):r.text.length;return Da(null==t?Qi(r):t,o)}function oa(e,t){var n=ra(e,t.line),r=Gi(e.doc,n.line),i=to(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return Da(n.line,a?0:o)}return n}function aa(e,t,n){var r=e[0].level;return t==r?!0:n==r?!1:n>t}function sa(e,t){Qs=null;for(var n,r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(null!=n)return aa(e,i.level,e[n].level)?(i.from!=i.to&&(Qs=n),r):(i.from!=i.to&&(Qs=r),n);n=r}}return n}function la(e,t,n,r){if(!r)return t+n;do t+=n;while(t>0&&jo(e.text.charAt(t)));return t}function ua(e,t,n,r){var i=to(e);if(!i)return ca(e,t,n,r);for(var o=sa(i,t),a=i[o],s=la(e,t,a.level%2?-n:n,r);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return sa(i,s)==o?s:(a=i[o+=n],n>0==a.level%2?a.to:a.from);if(a=i[o+=n],!a)return null;s=n>0==a.level%2?la(e,a.to,-1,r):la(e,a.from,1,r)}}function ca(e,t,n,r){var i=t+n;if(r)for(;i>0&&jo(e.text.charAt(i));)i+=n;return 0>i||i>e.text.length?null:i}var fa=/gecko\/\d/i.test(navigator.userAgent),da=/MSIE \d/.test(navigator.userAgent),pa=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ha=da||pa,ma=ha&&(da?document.documentMode||6:pa[1]),ga=/WebKit\//.test(navigator.userAgent),va=ga&&/Qt\/\d+\.\d+/.test(navigator.userAgent),ya=/Chrome\//.test(navigator.userAgent),ba=/Opera\//.test(navigator.userAgent),wa=/Apple Computer/.test(navigator.vendor),xa=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),ka=/PhantomJS/.test(navigator.userAgent),Ca=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),_a=Ca||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Sa=Ca||/Mac/.test(navigator.platform),$a=/win/i.test(navigator.platform),Ma=ba&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Ma&&(Ma=Number(Ma[1])),Ma&&Ma>=15&&(ba=!1,ga=!0);var Ta=Sa&&(va||ba&&(null==Ma||12.11>Ma)),La=fa||ha&&ma>=9,Ea=!1,Aa=!1;m.prototype=Io({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&e.clientHeight>0&&(0==r&&this.overlayHack(),this.checkedOverlay=!0),{right:n?r:0,bottom:t?r:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e)},overlayHack:function(){var e=Sa&&!xa?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=e;var t=this,n=function(e){bo(e)!=t.vert&&bo(e)!=t.horiz&&En(t.cm,Vn)(e)};_s(this.vert,"mousedown",n),_s(this.horiz,"mousedown",n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},m.prototype),g.prototype=Io({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),e.scrollbarModel={"native":m,"null":g},S.prototype.signal=function(e,t){So(e,t)&&this.events.push(arguments)
},S.prototype.finish=function(){for(var e=0;e<this.events.length;e++)$s.apply(null,this.events[e])};var Da=e.Pos=function(e,t){return this instanceof Da?(this.line=e,void(this.ch=t)):new Da(e,t)},Na=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Oa=null;rt.prototype=Io({init:function(e){function t(e){if(r.somethingSelected())Oa=r.getSelections(),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=Oa.join("\n"),Is(o));else{if(!r.options.lineWiseCopyCut)return;var t=tt(r);Oa=t.text,"cut"==e.type?r.setSelections(t.ranges,null,Es):(n.prevInput="",o.value=t.text.join("\n"),Is(o))}"cut"==e.type&&(r.state.cutIncoming=!0)}var n=this,r=this.cm,i=this.wrapper=it(),o=this.textarea=i.firstChild;e.wrapper.insertBefore(i,e.wrapper.firstChild),Ca&&(o.style.width="0px"),_s(o,"input",function(){ha&&ma>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),_s(o,"paste",function(e){return J(e,r)?!0:(r.state.pasteIncoming=!0,void n.fastPoll())}),_s(o,"cut",t),_s(o,"copy",t),_s(e.scroller,"paste",function(t){qn(e,t)||(r.state.pasteIncoming=!0,n.focus())}),_s(e.lineSpace,"selectstart",function(t){qn(e,t)||xs(t)}),_s(o,"compositionstart",function(){var e=r.getCursor("from");n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),_s(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,r=Ot(e);if(e.options.moveInputWithCursor){var i=pn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},showSelection:function(e){var t=this.cm,n=t.display;Ho(n.cursorDiv,e.cursors),Ho(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var o=i.sel.primary();t=Ks&&(o.to().line-o.from().line>100||(n=r.getSelection()).length>1e3);var a=t?"-":n||r.getSelection();this.textarea.value=a,r.state.focused&&Is(this.textarea),ha&&ma>=9&&(this.hasSelection=a)}else e||(this.prevInput=this.textarea.value="",ha&&ma>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!_a||Uo()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var r=n.poll();r||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||Gs(t)&&!n||X(e)||e.options.disableInput||e.state.keySeq)return!1;var r=t.value;if(r==n&&!e.somethingSelected())return!1;if(ha&&ma>=9&&this.hasSelection===r||Sa&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||n||(n=""),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,a=Math.min(n.length,r.length);a>o&&n.charCodeAt(o)==r.charCodeAt(o);)++o;var s=this;return Ln(e,function(){Q(e,r.slice(o),n.length-o,null,s.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?t.value=s.prevInput="":s.prevInput=r,s.composing&&(s.composing.range.clear(),s.composing.range=e.markText(s.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){ha&&ma>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=a.selectionStart){var e=i.somethingSelected(),t=""+(e?a.value:"");a.value="",a.value=t,r.prevInput=e?"":"",a.selectionStart=1,a.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.position="relative",a.style.cssText=c,ha&&9>ma&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=a.selectionStart){(!ha||ha&&9>ma)&&t();var e=0,n=function(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&""==r.prevInput?En(i,is.selectAll)(i):e++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea,s=Yn(i,e),l=o.scroller.scrollTop;if(s&&!ba){var u=i.options.resetSelectionOnContextMenu;u&&-1==i.doc.sel.contains(s)&&En(i,Mt)(i.doc,ht(s),Es);var c=a.style.cssText;if(r.wrapper.style.position="absolute",a.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(ha?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ga)var f=window.scrollY;if(o.input.focus(),ga&&window.scrollTo(null,f),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),ha&&ma>=9&&t(),La){Cs(e);var d=function(){Ss(window,"mouseup",d),setTimeout(n,20)};_s(window,"mouseup",d)}else setTimeout(n,50)}},setUneditable:No,needsContentAttribute:!1},rt.prototype),ot.prototype=Io({init:function(e){function t(e){if(r.somethingSelected())Oa=r.getSelections(),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=tt(r);Oa=t.text,"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,Es),r.replaceSelection("",null,"cut")})}if(e.clipboardData&&!Ca)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Oa.join("\n"));else{var n=it(),i=n.firstChild;r.display.lineSpace.insertBefore(n,r.display.lineSpace.firstChild),i.value=Oa.join("\n");var o=document.activeElement;Is(i),setTimeout(function(){r.display.lineSpace.removeChild(n),o.focus()},50)}}var n=this,r=n.cm,i=n.div=e.lineDiv;i.contentEditable="true",nt(i),_s(i,"paste",function(e){J(e,r)}),_s(i,"compositionstart",function(e){var t=e.data;if(n.composing={sel:r.doc.sel,data:t,startData:t},t){var i=r.doc.sel.primary(),o=r.getLine(i.head.line),a=o.indexOf(t,Math.max(0,i.head.ch-t.length));a>-1&&a<=i.head.ch&&(n.composing.sel=ht(Da(i.head.line,a),Da(i.head.line,a+t.length)))}}),_s(i,"compositionupdate",function(e){n.composing.data=e.data}),_s(i,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),_s(i,"touchstart",function(){n.forceCompositionEnd()}),_s(i,"input",function(){n.composing||n.pollContent()||Ln(n.cm,function(){In(r)})}),_s(i,"copy",t),_s(i,"cut",t)},prepareSelection:function(){var e=Ot(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=lt(this.cm,e.anchorNode,e.anchorOffset),r=lt(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!r||r.bad||0!=Na(K(n,r),t.from())||0!=Na(G(n,r),t.to())){var i=at(this.cm,t.from()),o=at(this.cm,t.to());if(i||o){var a=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(i){if(!o){var l=a[a.length-1].measure,u=l.maps?l.maps[l.maps.length-1]:l.map;o={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else i={node:a[0].measure.map[2],offset:0};try{var c=Ps(i.node,i.offset,o.offset,o.node)}catch(f){}c&&(e.removeAllRanges(),e.addRange(c),s&&null==e.anchorNode?e.addRange(s):fa&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Ho(this.cm.display.cursorDiv,e.cursors),Ho(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Rs(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Ln(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=lt(t,e.anchorNode,e.anchorOffset),r=lt(t,e.focusNode,e.focusOffset);n&&r&&Ln(t,function(){Mt(t.doc,ht(n,r),Es),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o;if(r.line==t.viewFrom||0==(o=Fn(e,r.line)))var a=Qi(t.view[0].line),s=t.view[0].node;else var a=Qi(t.view[o].line),s=t.view[o-1].node.nextSibling;var l=Fn(e,i.line);if(l==t.view.length-1)var u=t.viewTo-1,c=t.lineDiv.lastChild;else var u=Qi(t.view[l+1].line)-1,c=t.view[l+1].node.previousSibling;for(var f=Vs(ct(e,s,c,a,u)),d=Ki(e.doc,Da(a,0),Da(u,Gi(e.doc,u).text.length));f.length>1&&d.length>1;)if(Eo(f)==Eo(d))f.pop(),d.pop(),u--;else{if(f[0]!=d[0])break;f.shift(),d.shift(),a++}for(var p=0,h=0,m=f[0],g=d[0],v=Math.min(m.length,g.length);v>p&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var y=Eo(f),b=Eo(d),w=Math.min(y.length-(1==f.length?p:0),b.length-(1==d.length?p:0));w>h&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)++h;f[f.length-1]=y.slice(0,y.length-h),f[0]=f[0].slice(p);var x=Da(a,p),k=Da(u,d.length?Eo(d).length-h:0);return f.length>1||f[0]||Na(x,k)?(Lr(e.doc,f,x,k,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){e.data&&e.data!=e.startData&&En(this.cm,Q)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.setAttribute("contenteditable","false")},onKeyPress:function(e){e.preventDefault(),En(this.cm,Q)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},onContextMenu:No,resetPosition:No,needsContentAttribute:!0},ot.prototype),e.inputStyles={textarea:rt,contenteditable:ot},ft.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=Na(n.anchor,r.anchor)||0!=Na(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new dt(V(this.ranges[t].anchor),V(this.ranges[t].head));return new ft(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(Na(t,r.from())>=0&&Na(e,r.to())<=0)return n}return-1}},dt.prototype={from:function(){return K(this.anchor,this.head)},to:function(){return G(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Ia,Pa,za,Fa={left:0,right:0,top:0,bottom:0},ja=null,Ra=0,Wa=0,Ha=0,Ua=null;ha?Ua=-.53:fa?Ua=15:ya?Ua=-.7:wa&&(Ua=-1/3);var Ba=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Ba(e);return t.x*=Ua,t.y*=Ua,t};var qa=new Mo,Ya=null,Va=e.changeEnd=function(e){return e.text?Da(e.from.line+e.text.length-1,Eo(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,Ka.hasOwnProperty(e)&&En(this,Ka[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Br(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:An(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,In(this)}),removeOverlay:An(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void In(this)}}),indentLine:An(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),yt(this.doc,e)&&zr(this,e,t,n)}),indentSelection:An(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(zr(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Ir(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;n>l;++l)zr(this,l,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[r].from().ch>0&&Ct(this.doc,r,new dt(o,u[r].to()),Es)}}}),getTokenAt:function(e,t){return Li(this,e,t)},getLineTokens:function(e,t){return Li(this,Da(e),t,!0)},getTokenTypeAt:function(e){e=gt(this.doc,e);var t,n=Di(this,Gi(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("cm-overlay "):-1;return 0>s?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!ts.hasOwnProperty(t))return n;var r=ts[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var a=r[i[t][o]];a&&n.push(a)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var o=0;o<r._global.length;o++){var s=r._global[o];s.pred(i,this)&&-1==Ao(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=mt(n,null==e?n.first+n.size-1:e),Wt(this,e+1,t)},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?gt(this.doc,e):e?r.from():r.to(),pn(this,n,t||"page")},charCoords:function(e,t){return dn(this,gt(this.doc,e),t||"page")},coordsChar:function(e,t){return e=fn(this,e,t||"page"),gn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=fn(this,{top:e,left:0},t||"page").top,Ji(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,r=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,r=!0),n=Gi(this.doc,e)}else n=e;return cn(this,n,{top:0,left:0},t||"page").top+(r?this.doc.height-eo(n):0)},defaultTextHeight:function(){return yn(this.display)},defaultCharWidth:function(){return bn(this.display)},setGutterMarker:An(function(e,t,n){return Fr(this.doc,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&Fo(r)&&(e.gutterMarkers=null),!0})}),clearGutter:An(function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,Pn(t,r,"gutter"),Fo(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),lineInfo:function(e){if("number"==typeof e){if(!yt(this.doc,e))return null;var t=e;if(e=Gi(this.doc,e),!e)return null}else{var t=Qi(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=pn(this,gt(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&Dr(this,s,a,s+t.offsetWidth,a+t.offsetHeight)},triggerOnKeyDown:An(ur),triggerOnKeyPress:An(dr),triggerOnKeyUp:fr,execCommand:function(e){return is.hasOwnProperty(e)?is[e](this):void 0},triggerElectric:An(function(e){et(this,e)}),findPosH:function(e,t,n,r){var i=1;0>t&&(i=-1,t=-t);for(var o=0,a=gt(this.doc,e);t>o&&(a=Rr(this.doc,a,i,n,r),!a.hitSide);++o);return a},moveH:An(function(e,t){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Rr(n.doc,r.head,e,t,n.options.rtlMoveVisually):0>e?r.from():r.to()},Ds)}),deleteH:An(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):jr(this,function(n){var i=Rr(r,n.head,e,t,!1);return 0>e?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,o=r;0>t&&(i=-1,t=-t);for(var a=0,s=gt(this.doc,e);t>a;++a){var l=pn(this,s,"div");if(null==o?o=l.left:l.left=o,s=Wr(this,l,i,n),s.hitSide)break}return s},moveV:An(function(e,t){var n=this,r=this.doc,i=[],o=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return 0>e?a.from():a.to();var s=pn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=Wr(n,s,e,t);return"page"==t&&a==r.sel.primary()&&Or(n,null,dn(n,l,"div").top-s.top),l},Ds),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=this.doc,n=Gi(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");(e.xRel<0||i==n.length)&&r?--r:++i;for(var a=n.charAt(r),s=zo(a,o)?function(e){return zo(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!zo(e)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new dt(Da(e.line,r),Da(e.line,i))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Bs(this.display.cursorDiv,"CodeMirror-overwrite"):Us(this.display.cursorDiv,"CodeMirror-overwrite"),$s(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Uo()},scrollTo:An(function(e,t){(null!=e||null!=t)&&Pr(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-qt(this)-this.display.barHeight,width:e.scrollWidth-qt(this)-this.display.barWidth,clientHeight:Vt(this),clientWidth:Yt(this)}},scrollIntoView:An(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Da(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Pr(this),this.curOp.scrollToPos=e;else{var n=Nr(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:An(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var r=this;null!=e&&(r.display.wrapper.style.width=n(e)),null!=t&&(r.display.wrapper.style.height=n(t)),r.options.lineWrapping&&an(this);var i=r.display.viewFrom;r.doc.iter(i,r.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Pn(r,i,"widget");break}++i}),r.curOp.forceUpdate=!0,$s(r,"refresh",this)}),operation:function(e){return Ln(this,e)},refresh:An(function(){var e=this.display.cachedTextHeight;In(this),this.curOp.forceUpdate=!0,sn(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==e||Math.abs(e-yn(this.display))>.5)&&a(this),$s(this,"refresh",this)}),swapDoc:An(function(e){var t=this.doc;return t.cm=null,Vi(this,e),sn(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,xo(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},$o(e);var Ga=e.defaults={},Ka=e.optionHandlers={},Za=e.Init={toString:function(){return"CodeMirror.Init"}};Hr("value","",function(e,t){e.setValue(t)},!0),Hr("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),Hr("indentUnit",2,n,!0),Hr("indentWithTabs",!1),Hr("smartIndent",!0),Hr("tabSize",4,function(e){r(e),sn(e),In(e)},!0),Hr("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,r){t.state.specialChars=new RegExp(n.source+(n.test("	")?"":"|	"),"g"),r!=e.Init&&t.refresh()}),Hr("specialCharPlaceholder",Pi,function(e){e.refresh()},!0),Hr("electricChars",!0),Hr("inputStyle",_a?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Hr("rtlMoveVisually",!$a),Hr("wholeLineUpdateBefore",!0),Hr("theme","default",function(e){s(e),l(e)},!0),Hr("keyMap","default",function(t,n,r){var i=Br(n),o=r!=e.Init&&Br(r);o&&o.detach&&o.detach(t,i),i.attach&&i.attach(t,o||null)}),Hr("extraKeys",null),Hr("lineWrapping",!1,i,!0),Hr("gutters",[],function(e){p(e.options),l(e)},!0),Hr("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?_(e.display)+"px":"0",e.refresh()},!0),Hr("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),Hr("scrollbarStyle","native",function(e){v(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Hr("lineNumbers",!1,function(e){p(e.options),l(e)},!0),Hr("firstLineNumber",1,l,!0),Hr("lineNumberFormatter",function(e){return e},l,!0),Hr("showCursorWhenSelecting",!1,Nt,!0),Hr("resetSelectionOnContextMenu",!0),Hr("lineWiseCopyCut",!0),Hr("readOnly",!1,function(e,t){"nocursor"==t?(mr(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||e.display.input.reset())}),Hr("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Hr("dragDrop",!0,Un),Hr("cursorBlinkRate",530),Hr("cursorScrollMargin",0),Hr("cursorHeight",1,Nt,!0),Hr("singleCursorHeightPerLine",!0,Nt,!0),Hr("workTime",100),Hr("workDelay",100),Hr("flattenSpans",!0,r,!0),Hr("addModeClass",!1,r,!0),Hr("pollInterval",100),Hr("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Hr("historyEventDelay",1250),Hr("viewportMargin",10,function(e){e.refresh()},!0),Hr("maxHighlightLength",1e4,r,!0),Hr("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Hr("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),Hr("autofocus",null);var Xa=e.modes={},Qa=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),Xa[t]=n},e.defineMIME=function(e,t){Qa[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Qa.hasOwnProperty(t))t=Qa[t];else if(t&&"string"==typeof t.name&&Qa.hasOwnProperty(t.name)){var n=Qa[t.name];"string"==typeof n&&(n={name:n}),t=Oo(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),r=Xa[n.name];if(!r)return e.getMode(t,"text/plain");var i=r(t,n);if(Ja.hasOwnProperty(n.name)){var o=Ja[n.name];for(var a in o)o.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=o[a])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var a in n.modeProps)i[a]=n.modeProps[a];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Ja=e.modeExtensions={};e.extendMode=function(e,t){var n=Ja.hasOwnProperty(e)?Ja[e]:Ja[e]={};Io(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){ys.prototype[e]=t},e.defineOption=Hr;var es=[];e.defineInitHook=function(e){es.push(e)};var ts=e.helpers={};e.registerHelper=function(t,n,r){ts.hasOwnProperty(t)||(ts[t]=e[t]={_global:[]}),ts[t][n]=r},e.registerGlobalHelper=function(t,n,r,i){e.registerHelper(t,n,i),ts[t]._global.push({pred:r,val:i})};var ns=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},rs=e.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var is=e.commands={selectAll:function(e){e.setSelection(Da(e.firstLine(),0),Da(e.lastLine()),Es)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Es)},killLine:function(e){jr(e,function(t){if(t.empty()){var n=Gi(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Da(t.head.line+1,0)}:{from:t.head,to:Da(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){jr(e,function(t){return{from:Da(t.from().line,0),to:gt(e.doc,Da(t.to().line+1,0))}})},delLineLeft:function(e){jr(e,function(e){return{from:Da(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){jr(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){jr(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Da(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Da(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return ra(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return oa(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return ia(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Ds)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Ds)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?oa(e,t.head):r},Ds)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=Ns(e.getLine(o.line),o.ch,r);t.push(new Array(r-a%r+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Ln(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,o=Gi(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Da(i.line,i.ch-1)),i.ch>0)i=new Da(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Da(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Gi(e.doc,i.line-1).text;a&&e.replaceRange(o.charAt(0)+"\n"+a.charAt(a.length-1),Da(i.line-1,a.length-1),Da(i.line,1),"+transpose")}n.push(new dt(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){Ln(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var r=e.listSelections()[n];e.replaceRange("\n",r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0),Ir(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},os=e.keyMap={};os.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},os.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},os.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},os.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},os["default"]=Sa?os.macDefault:os.pcDefault,e.normalizeKeyMap=function(e){var t={};
for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=Do(n.split(" "),Ur),o=0;o<i.length;o++){var a,s;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e};var as=e.lookupKey=function(e,t,n,r){t=Br(t);var i=t.call?t.call(e,r):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return as(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=as(e,t.fallthrough[o],n,r);if(a)return a}}},ss=e.isModifierKey=function(e){var t="string"==typeof e?e:Xs[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},ls=e.keyName=function(e,t){if(ba&&34==e.keyCode&&e["char"])return!1;var n=Xs[e.keyCode],r=n;return null==r||e.altGraphKey?!1:(e.altKey&&"Alt"!=n&&(r="Alt-"+r),(Ta?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(Ta?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!t&&e.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};e.fromTextArea=function(t,n){function r(){t.value=u.getValue()}if(n=n?Io(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var i=Uo();n.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(_s(t.form,"submit",r),!n.leaveSubmitMethodAlone)){var o=t.form,a=o.submit;try{var s=o.submit=function(){r(),o.submit=a,o.submit(),o.submit=s}}catch(l){}}n.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Ss(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=a))}},t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return u};var us=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};us.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ns(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ns(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Ns(this.string,null,this.tabSize)-(this.lineStart?Ns(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var cs=0,fs=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++cs};$o(fs),fs.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&wn(e),So(this,"clear")){var n=this.find();n&&xo(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Xr(a.markedSpans,this);e&&!this.collapsed?Pn(e,Qi(a),"text"):e&&(null!=s.to&&(i=Qi(a)),null!=s.from&&(r=Qi(a))),a.markedSpans=Qr(a.markedSpans,s),null==s.from&&this.collapsed&&!bi(this.doc,a)&&e&&Xi(a,yn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=mi(this.lines[o]),u=f(l);u>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&In(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Et(e.doc)),e&&xo(e,"markerCleared",e,this),t&&kn(e),this.parent&&this.parent.clear()}},fs.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var o=this.lines[i],a=Xr(o.markedSpans,this);if(null!=a.from&&(n=Da(t?o:Qi(o),a.from),-1==e))return n;if(null!=a.to&&(r=Da(t?o:Qi(o),a.to),1==e))return r}return n&&{from:n,to:r}},fs.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&Ln(n,function(){var r=e.line,i=Qi(e.line),o=Qt(n,i);if(o&&(on(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!bi(t.doc,r)&&null!=t.height){var a=t.height;t.height=null;var s=ki(t)-a;s&&Xi(r,r.height+s)}})},fs.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Ao(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},fs.prototype.detachLine=function(e){if(this.lines.splice(Ao(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var cs=0,ds=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};$o(ds),ds.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();xo(this,"clear")}},ds.prototype.find=function(e,t){return this.primary.find(e,t)};var ps=e.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};$o(ps),ps.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=Qi(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=ki(this);Xi(n,Math.max(0,n.height-o)),e&&Ln(e,function(){xi(e,n,-o),Pn(e,r,"widget")})}},ps.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var r=ki(this)-e;r&&(Xi(n,n.height+r),t&&Ln(t,function(){t.curOp.forceUpdate=!0,xi(t,n,r)}))};var hs=e.Line=function(e,t,n){this.text=e,si(this,t),this.height=n?n(this):1};$o(hs),hs.prototype.lineNo=function(){return Qi(this)};var ms={},gs={};Bi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;r>n;++n){var i=this.lines[n];this.height-=i.height,Si(i),xo(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;r>e;++e)if(n(this.lines[e]))return!0}},qi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(i>e){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Bi))){var s=[];this.collapse(s),this.children=[new Bi(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>=e){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var a=i.lines.splice(i.lines.length-25,25),s=new Bi(a);i.height-=s.height,this.children.splice(r+1,0,s),s.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new qi(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=Ao(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new qi(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>e){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var vs=0,ys=e.Doc=function(e,t,n){if(!(this instanceof ys))return new ys(e,t,n);null==n&&(n=0),qi.call(this,[new Bi([new hs("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=Da(n,0);this.sel=ht(r),this.history=new no(null),this.id=++vs,this.modeOption=t,"string"==typeof e&&(e=Vs(e)),Ui(this,{from:r,to:r,text:e}),Mt(this,ht(r),Es)};ys.prototype=Oo(qi.prototype,{constructor:ys,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Zi(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:Dn(function(e){var t=Da(this.first,0),n=this.first+this.size-1;Cr(this,{from:t,to:Da(n,Gi(this,n).text.length),text:Vs(e),origin:"setValue",full:!0},!0),Mt(this,ht(t))}),replaceRange:function(e,t,n,r){t=gt(this,t),n=n?gt(this,n):t,Lr(this,e,t,n,r)},getRange:function(e,t,n){var r=Ki(this,gt(this,e),gt(this,t));return n===!1?r:r.join(n||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return yt(this,e)?Gi(this,e):void 0},getLineNumber:function(e){return Qi(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Gi(this,e)),mi(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return gt(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Dn(function(e,t,n){_t(this,gt(this,"number"==typeof e?Da(e,t||0):e),null,n)}),setSelection:Dn(function(e,t,n){_t(this,gt(this,e),gt(this,t||e),n)}),extendSelection:Dn(function(e,t,n){xt(this,gt(this,e),t&&gt(this,t),n)}),extendSelections:Dn(function(e,t){kt(this,bt(this,e,t))}),extendSelectionsBy:Dn(function(e,t){kt(this,Do(this.sel.ranges,e),t)}),setSelections:Dn(function(e,t,n){if(e.length){for(var r=0,i=[];r<e.length;r++)i[r]=new dt(gt(this,e[r].anchor),gt(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Mt(this,pt(i,t),n)}}),addSelection:Dn(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new dt(gt(this,e),gt(this,t||e))),Mt(this,pt(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Ki(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||"\n")},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Ki(this,n[r].from(),n[r].to());e!==!1&&(i=i.join(e||"\n")),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Dn(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:Vs(e[o]),origin:n}}for(var s=t&&"end"!=t&&xr(this,r,t),o=r.length-1;o>=0;o--)Cr(this,r[o]);s?$t(this,s):this.cm&&Ir(this.cm)}),undo:Dn(function(){Sr(this,"undo")}),redo:Dn(function(){Sr(this,"redo")}),undoSelection:Dn(function(){Sr(this,"undo",!0)}),redoSelection:Dn(function(){Sr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new no(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:ho(this.history.done),undone:ho(this.history.undone)}},setHistory:function(e){var t=this.history=new no(this.history.maxGeneration);t.done=ho(e.done.slice(0),null,!0),t.undone=ho(e.undone.slice(0),null,!0)},addLineClass:Dn(function(e,t,n){return Fr(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(Bo(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:Dn(function(e,t,n){return Fr(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(Bo(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Dn(function(e,t,n){return Ci(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return qr(this,gt(this,e),gt(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=gt(this,e),qr(this,e,e,n,"bookmark")},findMarksAt:function(e){e=gt(this,e);var t=[],n=Gi(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=gt(this,e),t=gt(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];i==e.line&&e.ch>l.to||null==l.from&&i!=e.line||i==t.line&&l.from>t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(r){var i=r.text.length+1;return i>e?(t=e,!0):(e-=i,void++n)}),gt(this,Da(n,t))},indexFromPos:function(e){e=gt(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new ys(Zi(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new ys(Zi(this,t,n),e.mode||this.modeOption,t);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Gr(r,Vr(this)),r},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Kr(Vr(this));break}}if(t.history==this.history){var i=[t.id];Yi(t,function(e){i.push(e.id)},!0),t.history=new no(null),t.history.done=ho(this.history.done,i),t.history.undone=ho(this.history.undone,i)}},iterLinkedDocs:function(e){Yi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),ys.prototype.eachLine=ys.prototype.iter;var bs="iter insert remove copy getEditor constructor".split(" ");for(var ws in ys.prototype)ys.prototype.hasOwnProperty(ws)&&Ao(bs,ws)<0&&(e.prototype[ws]=function(e){return function(){return e.apply(this.doc,arguments)}}(ys.prototype[ws]));$o(ys);var xs=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},ks=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Cs=e.e_stop=function(e){xs(e),ks(e)},_s=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={}),i=r[t]||(r[t]=[]);i.push(n)}},Ss=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers&&e._handlers[t];if(!r)return;for(var i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}}},$s=e.signal=function(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},Ms=null,Ts=30,Ls=e.Pass={toString:function(){return"CodeMirror.Pass"}},Es={scroll:!1},As={origin:"*mouse"},Ds={origin:"+move"};Mo.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Ns=e.countColumn=function(e,t,n,r,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=r||0,a=i||0;;){var s=e.indexOf("	",o);if(0>s||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}},Os=[""],Is=function(e){e.select()};Ca?Is=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ha&&(Is=function(e){try{e.select()}catch(t){}});var Ps,zs=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Fs=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||zs.test(e))},js=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ps=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Rs=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};ha&&11>ma&&(Uo=function(){try{return document.activeElement}catch(e){return document.body}});var Ws,Hs,Us=e.rmClass=function(e,t){var n=e.className,r=Bo(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},Bs=e.addClass=function(e,t){var n=e.className;Bo(t).test(n)||(e.className+=(n?" ":"")+t)},qs=!1,Ys=function(){if(ha&&9>ma)return!1;var e=Ro("div");return"draggable"in e||"dragDrop"in e}(),Vs=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;r>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Gs=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},Ks=function(){var e=Ro("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Zs=null,Xs={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};e.keyNames=Xs,function(){for(var e=0;10>e;e++)Xs[e+48]=Xs[e+96]=String(e);for(var e=65;90>=e;e++)Xs[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Xs[e+111]=Xs[e+63235]="F"+e}();var Qs,Js=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?r.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/,u="L";return function(n){if(!i.test(n))return!1;for(var r,c=n.length,f=[],d=0;c>d;++d)f.push(r=e(n.charCodeAt(d)));for(var d=0,p=u;c>d;++d){var r=f[d];"m"==r?f[d]=p:p=r}for(var d=0,h=u;c>d;++d){var r=f[d];"1"==r&&"r"==h?f[d]="n":a.test(r)&&(h=r,"r"==r&&(f[d]="R"))}for(var d=1,p=f[0];c-1>d;++d){var r=f[d];"+"==r&&"1"==p&&"1"==f[d+1]?f[d]="1":","!=r||p!=f[d+1]||"1"!=p&&"n"!=p||(f[d]=p),p=r}for(var d=0;c>d;++d){var r=f[d];if(","==r)f[d]="N";else if("%"==r){for(var m=d+1;c>m&&"%"==f[m];++m);for(var g=d&&"!"==f[d-1]||c>m&&"1"==f[m]?"1":"N",v=d;m>v;++v)f[v]=g;d=m-1}}for(var d=0,h=u;c>d;++d){var r=f[d];"L"==h&&"1"==r?f[d]="L":a.test(r)&&(h=r)}for(var d=0;c>d;++d)if(o.test(f[d])){for(var m=d+1;c>m&&o.test(f[m]);++m);for(var y="L"==(d?f[d-1]:u),b="L"==(c>m?f[m]:u),g=y||b?"L":"R",v=d;m>v;++v)f[v]=g;d=m-1}for(var w,x=[],d=0;c>d;)if(s.test(f[d])){var k=d;for(++d;c>d&&s.test(f[d]);++d);x.push(new t(0,k,d))}else{var C=d,_=x.length;for(++d;c>d&&"L"!=f[d];++d);for(var v=C;d>v;)if(l.test(f[v])){v>C&&x.splice(_,0,new t(1,C,v));var S=v;for(++v;d>v&&l.test(f[v]);++v);x.splice(_,0,new t(2,S,v)),C=v}else++v;d>C&&x.splice(_,0,new t(1,C,d))}return 1==x[0].level&&(w=n.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new t(0,0,w[0].length))),1==Eo(x).level&&(w=n.match(/\s+$/))&&(Eo(x).to-=w[0].length,x.push(new t(0,c-w[0].length,c))),2==x[0].level&&x.unshift(new t(1,x[0].to,x[0].to)),x[0].level!=Eo(x).level&&x.push(new t(x[0].level,c,c)),x}}();return e.version="5.3.1",e}),function(e,t,n){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var e="$$ngAnimateChildren";return function(n,r,i){var o=i.ngAnimateChildren;t.isString(o)&&0===o.length?r.data(e,!0):n.$watch(o,function(t){r.data(e,!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(e,t){var n=t[0].body;return function(t){return e(function(){n.offsetWidth+1;t()})}}]).config(["$provide","$animateProvider",function(r,i){function o(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==g)return n}}function a(e){return e&&t.element(e)}function s(e){return t.element(o(e))}function l(e,t){return o(e)==o(t)}var u,c=t.noop,f=t.forEach,d=i.$$selectors,p=t.isArray,h=t.isString,m=t.isObject,g=1,v="$$ngAnimateState",y="$$ngAnimateChildren",b="ng-animate",w={running:!0};r.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(e,n,r,g,x,k,C,_,S,$){function M(e,t){var n=e.data(v)||{};return t&&(n.running=!0,n.structural=!0,e.data(v,n)),n.disabled||n.running&&n.structural}function T(e){var t,r=n.defer();return r.promise.$$cancelFn=function(){t&&t()},C.$$postDigest(function(){t=e(function(){r.resolve()})}),r.promise}function L(e){return m(e)?(e.tempClasses&&h(e.tempClasses)&&(e.tempClasses=e.tempClasses.split(/\s+/)),e):void 0}function E(e,t,n){n=n||{};var r={};f(n,function(e,t){f(t.split(" "),function(t){r[t]=e})});var i=Object.create(null);f((e.attr("class")||"").split(/\s+/),function(e){i[e]=!0});var o=[],a=[];return f(t&&t.classes||[],function(e,t){var n=i[t],s=r[t]||{};e===!1?(n||"addClass"==s.event)&&a.push(t):e===!0&&(n&&"removeClass"!=s.event||o.push(t))}),o.length+a.length>0&&[o.join(" "),a.join(" ")]}function A(e){if(e){var t=[],n={},i=e.substr(1).split(".");(g.transitions||g.animations)&&t.push(r.get(d[""]));for(var o=0;o<i.length;o++){var a=i[o],s=d[a];s&&!n[a]&&(t.push(r.get(s)),n[a]=!0)}return t}}function D(e,n,r,i){function o(e,t){var n=e[t],r=e["before"+t.charAt(0).toUpperCase()+t.substr(1)];return n||r?("leave"==t&&(r=n,n=null),k.push({event:t,fn:n}),b.push({event:t,fn:r}),!0):void 0}function a(t,n,o){function a(e){if(n){if((n[e]||c)(),++d<s.length)return;n=null}o()}var s=[];f(t,function(e){e.fn&&s.push(e)});var d=0;f(s,function(t,o){var s=function(){a(o)};switch(t.event){case"setClass":n.push(t.fn(e,l,u,s,i));break;case"animate":n.push(t.fn(e,r,i.from,i.to,s));break;case"addClass":n.push(t.fn(e,l||r,s,i));break;case"removeClass":n.push(t.fn(e,u||r,s,i));break;default:n.push(t.fn(e,s,i))}}),n&&0===n.length&&o()}var s=e[0];if(s){i&&(i.to=i.to||{},i.from=i.from||{});var l,u;p(r)&&(l=r[0],u=r[1],l?u?r=l+" "+u:(r=l,n="addClass"):(r=u,n="removeClass"));var d="setClass"==n,h=d||"addClass"==n||"removeClass"==n||"animate"==n,m=e.attr("class"),g=m+" "+r;if(R(g)){var v=c,y=[],b=[],w=c,x=[],k=[],C=(" "+g).replace(/\s+/g,".");return f(A(C),function(e){var t=o(e,n);!t&&d&&(o(e,"addClass"),o(e,"removeClass"))}),{node:s,event:n,className:r,isClassBased:h,isSetClassOperation:d,applyStyles:function(){i&&e.css(t.extend(i.from||{},i.to||{}))},before:function(e){v=e,a(b,y,function(){v=c,e()})},after:function(e){w=e,a(k,x,function(){w=c,e()})},cancel:function(){y&&(f(y,function(e){(e||c)(!0)}),v(!0)),x&&(f(x,function(e){(e||c)(!0)}),w(!0))}}}}}function N(e,n,r,i,o,a,s,l){function d(t){var i="$animate:"+t;C&&C[i]&&C[i].length>0&&k(function(){r.triggerHandler(i,{event:e,className:n})})}function p(){d("before")}function h(){d("after")}function m(){d("close"),l()}function g(){g.hasBeenRun||(g.hasBeenRun=!0,a())}function y(){if(!y.hasBeenRun){x&&x.applyStyles(),y.hasBeenRun=!0,s&&s.tempClasses&&f(s.tempClasses,function(e){u.removeClass(r,e)});var t=r.data(v);t&&(x&&x.isClassBased?I(r,n):(k(function(){var t=r.data(v)||{};N==t.index&&I(r,n,e)}),r.data(v,t))),m()}}var w=c,x=D(r,e,n,s);if(!x)return g(),p(),h(),y(),w;e=x.event,n=x.className;var C=t.element._data(x.node);if(C=C&&C.events,i||(i=o?o.parent():r.parent()),P(r,i))return g(),p(),h(),y(),w;var _=r.data(v)||{},S=_.active||{},$=_.totalActive||0,M=_.last,T=!1;if($>0){var L=[];if(x.isClassBased){if("setClass"==M.event)L.push(M),I(r,n);else if(S[n]){var E=S[n];E.event==e?T=!0:(L.push(E),I(r,n))}}else if("leave"==e&&S["ng-leave"])T=!0;else{for(var A in S)L.push(S[A]);_={},I(r,!0)}L.length>0&&f(L,function(e){e.cancel()})}if(!x.isClassBased||x.isSetClassOperation||"animate"==e||T||(T="addClass"==e==r.hasClass(n)),T)return g(),p(),h(),m(),w;S=_.active||{},$=_.totalActive||0,"leave"==e&&r.one("$destroy",function(){var e=t.element(this),n=e.data(v);if(n){var r=n.active["ng-leave"];r&&(r.cancel(),I(e,"ng-leave"))}}),u.addClass(r,b),s&&s.tempClasses&&f(s.tempClasses,function(e){u.addClass(r,e)});var N=F++;return $++,S[n]=x,r.data(v,{last:x,active:S,index:N,totalActive:$}),p(),x.before(function(t){var i=r.data(v);t=t||!i||!i.active[n]||x.isClassBased&&i.active[n].event!=e,g(),t===!0?y():(h(),x.after(y))}),x.cancel}function O(e){var n=o(e);if(n){var r=t.isFunction(n.getElementsByClassName)?n.getElementsByClassName(b):n.querySelectorAll("."+b);f(r,function(e){e=t.element(e);var n=e.data(v);n&&n.active&&f(n.active,function(e){e.cancel()})})}}function I(e,t){if(l(e,x))w.disabled||(w.running=!1,w.structural=!1);else if(t){var n=e.data(v)||{},r=t===!0;!r&&n.active&&n.active[t]&&(n.totalActive--,delete n.active[t]),(r||!n.totalActive)&&(u.removeClass(e,b),e.removeData(v))}}function P(e,n){if(w.disabled)return!0;if(l(e,x))return w.running;var r,i,o;do{if(0===n.length)break;var a=l(n,x),s=a?w:n.data(v)||{};if(s.disabled)return!0;if(a&&(o=!0),r!==!1){var u=n.data(y);t.isDefined(u)&&(r=u)}i=i||s.running||s.last&&!s.last.isClassBased}while(n=n.parent());return!o||!r&&i}u=$,x.data(v,w);var z=C.$watch(function(){return S.totalPendingRequests},function(e){0===e&&(z(),C.$$postDigest(function(){C.$$postDigest(function(){w.running=!1})}))}),F=0,j=i.classNameFilter(),R=j?function(e){return j.test(e)}:function(){return!0};return{animate:function(e,t,n,r,i){return r=r||"ng-inline-animate",i=L(i)||{},i.from=n?t:null,i.to=n?n:t,T(function(t){return N("animate",r,s(e),null,null,c,i,t)})},enter:function(n,r,i,o){return o=L(o),n=t.element(n),r=a(r),i=a(i),M(n,!0),e.enter(n,r,i),T(function(e){return N("enter","ng-enter",s(n),r,i,c,o,e)})},leave:function(n,r){return r=L(r),n=t.element(n),O(n),M(n,!0),T(function(t){return N("leave","ng-leave",s(n),null,null,function(){e.leave(n)},r,t)})},move:function(n,r,i,o){return o=L(o),n=t.element(n),r=a(r),i=a(i),O(n),M(n,!0),e.move(n,r,i),T(function(e){return N("move","ng-move",s(n),r,i,c,o,e)})},addClass:function(e,t,n){return this.setClass(e,t,[],n)},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},setClass:function(n,r,i,a){a=L(a);var l="$$animateClasses";if(n=t.element(n),n=s(n),M(n))return e.$$setClassImmediately(n,r,i,a);var u,c=n.data(l),d=!!c;return c||(c={},c.classes={}),u=c.classes,r=p(r)?r:r.split(" "),f(r,function(e){e&&e.length&&(u[e]=!0)}),i=p(i)?i:i.split(" "),f(i,function(e){e&&e.length&&(u[e]=!1)}),d?(a&&c.options&&(c.options=t.extend(c.options||{},a)),c.promise):(n.data(l,c={classes:u,options:a}),c.promise=T(function(t){var r=n.parent(),i=o(n),a=i.parentNode;
if(!a||a.$$NG_REMOVED||i.$$NG_REMOVED)return void t();var s=n.data(l);n.removeData(l);var u=n.data(v)||{},c=E(n,s,u.active);return c?N("setClass",c,n,r,null,function(){c[0]&&e.$$addClassImmediately(n,c[0]),c[1]&&e.$$removeClassImmediately(n,c[1])},s.options,t):t()}))},cancel:function(e){e.$$cancelFn()},enabled:function(e,t){switch(arguments.length){case 2:if(e)I(t);else{var n=t.data(v)||{};n.disabled=!0,t.data(v,n)}break;case 1:w.disabled=!e;break;default:e=!w.disabled}return!!e}}}]),i.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,i,a,s){function l(){I||(I=s(function(){G=[],I=null,Y={}}))}function d(e,t){I&&I(),G.push(t),I=s(function(){f(G,function(e){e()}),G=[],I=null,Y={}})}function m(e,n){var r=o(e);e=t.element(r),X.push(e);var i=Date.now()+n;Z>=i||(a.cancel(K),Z=i,K=a(function(){v(X),X=[]},n,!1))}function v(e){f(e,function(e){var t=e.data(H);t&&f(t.closeAnimationFns,function(e){e()})})}function y(e,t){var n=t?Y[t]:null;if(!n){var i=0,o=0,a=0,s=0;f(e,function(e){if(e.nodeType==g){var t=r.getComputedStyle(e)||{},n=t[E+P];i=Math.max(b(n),i);var l=t[E+F];o=Math.max(b(l),o);{t[D+F]}s=Math.max(b(t[D+F]),s);var u=b(t[D+P]);u>0&&(u*=parseInt(t[D+j],10)||1),a=Math.max(u,a)}}),n={total:0,transitionDelay:o,transitionDuration:i,animationDelay:s,animationDuration:a},t&&(Y[t]=n)}return n}function b(e){var t=0,n=h(e)?e.split(/\s*,\s*/):[];return f(n,function(e){t=Math.max(parseFloat(e)||0,t)}),t}function w(e){var t=e.parent(),n=t.data(W);return n||(t.data(W,++V),n=V),n+"-"+o(e).getAttribute("class")}function x(e,t,n,r){var i=["ng-enter","ng-leave","ng-move"].indexOf(n)>=0,a=w(t),s=a+" "+n,l=Y[s]?++Y[s].total:0,c={};if(l>0){var f=n+"-stagger",d=a+" "+f,p=!Y[d];p&&u.addClass(t,f),c=y(t,d),p&&u.removeClass(t,f)}u.addClass(t,n);var h=t.data(H)||{},m=y(t,s),g=m.transitionDuration,v=m.animationDuration;if(i&&0===g&&0===v)return u.removeClass(t,n),!1;var b=r||i&&g>0,x=v>0&&c.animationDelay>0&&0===c.animationDuration,k=h.closeAnimationFns||[];t.data(H,{stagger:c,cacheKey:s,running:h.running||0,itemIndex:l,blockTransition:b,closeAnimationFns:k});var S=o(t);return b&&(C(S,!0),r&&t.css(r)),x&&_(S,!0),!0}function k(e,t,n,r,i){function s(){t.off(F,l),u.removeClass(t,p),u.removeClass(t,h),P&&a.cancel(P),T(t,n);var e=o(t);for(var r in v)e.style.removeProperty(v[r])}function l(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||t.timeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(U));Math.max(n-z,0)>=D&&i>=L&&r()}var c=o(t),d=t.data(H);if(-1==c.getAttribute("class").indexOf(n)||!d)return void r();var p="",h="";f(n.split(" "),function(e,t){var n=(t>0?" ":"")+e;p+=n+"-active",h+=n+"-pending"});var g="",v=[],b=d.itemIndex,w=d.stagger,x=0;if(b>0){var k=0;w.transitionDelay>0&&0===w.transitionDuration&&(k=w.transitionDelay*b);var S=0;w.animationDelay>0&&0===w.animationDuration&&(S=w.animationDelay*b,v.push(O+"animation-play-state")),x=Math.round(100*Math.max(k,S))/100}x||(u.addClass(t,p),d.blockTransition&&C(c,!1));var $=d.cacheKey+" "+p,M=y(t,$),L=Math.max(M.transitionDuration,M.animationDuration);if(0===L)return u.removeClass(t,p),T(t,n),void r();!x&&i&&Object.keys(i).length>0&&(M.transitionDuration||(t.css("transition",M.animationDuration+"s linear all"),v.push("transition")),t.css(i));var E=Math.max(M.transitionDelay,M.animationDelay),D=E*q;if(v.length>0){var I=c.getAttribute("style")||"";";"!==I.charAt(I.length-1)&&(I+=";"),c.setAttribute("style",I+" "+g)}var P,z=Date.now(),F=N+" "+A,j=(E+L)*B,R=(x+j)*q;return x>0&&(u.addClass(t,h),P=a(function(){P=null,M.transitionDuration>0&&C(c,!1),M.animationDuration>0&&_(c,!1),u.addClass(t,p),u.removeClass(t,h),i&&(0===M.transitionDuration&&t.css("transition",M.animationDuration+"s linear all"),t.css(i),v.push("transition"))},x*q,!1)),t.on(F,l),d.closeAnimationFns.push(function(){s(),r()}),d.running++,m(t,R),s}function C(e,t){e.style[E+z]=t?"none":""}function _(e,t){e.style[D+R]=t?"paused":""}function S(e,t,n,r){return x(e,t,n,r)?function(e){e&&T(t,n)}:void 0}function $(e,t,n,r,i){return t.data(H)?k(e,t,n,r,i):(T(t,n),void r())}function M(e,t,n,r,i){var o=S(e,t,n,i.from);if(!o)return l(),void r();var a=o;return d(t,function(){a=$(e,t,n,r,i.to)}),function(e){(a||c)(e)}}function T(e,t){u.removeClass(e,t);var n=e.data(H);n&&(n.running&&n.running--,n.running&&0!==n.running||e.removeData(H))}function L(e,t){var n="";return e=p(e)?e:e.split(/\s+/),f(e,function(e,r){e&&e.length>0&&(n+=(r>0?" ":"")+e+t)}),n}var E,A,D,N,O="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(O="-webkit-",E="WebkitTransition",A="webkitTransitionEnd transitionend"):(E="transition",A="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(O="-webkit-",D="WebkitAnimation",N="webkitAnimationEnd animationend"):(D="animation",N="animationend");var I,P="Duration",z="Property",F="Delay",j="IterationCount",R="PlayState",W="$$ngAnimateKey",H="$$ngAnimateCSS3Data",U=3,B=1.5,q=1e3,Y={},V=0,G=[],K=null,Z=0,X=[];return{animate:function(e,t,n,r,i,o){return o=o||{},o.from=n,o.to=r,M("animate",e,t,i,o)},enter:function(e,t,n){return n=n||{},M("enter",e,"ng-enter",t,n)},leave:function(e,t,n){return n=n||{},M("leave",e,"ng-leave",t,n)},move:function(e,t,n){return n=n||{},M("move",e,"ng-move",t,n)},beforeSetClass:function(e,t,n,r,i){i=i||{};var o=L(n,"-remove")+" "+L(t,"-add"),a=S("setClass",e,o,i.from);return a?(d(e,r),a):(l(),void r())},beforeAddClass:function(e,t,n,r){r=r||{};var i=S("addClass",e,L(t,"-add"),r.from);return i?(d(e,n),i):(l(),void n())},beforeRemoveClass:function(e,t,n,r){r=r||{};var i=S("removeClass",e,L(t,"-remove"),r.from);return i?(d(e,n),i):(l(),void n())},setClass:function(e,t,n,r,i){i=i||{},n=L(n,"-remove"),t=L(t,"-add");var o=n+" "+t;return $("setClass",e,o,r,i.to)},addClass:function(e,t,n,r){return r=r||{},$("addClass",e,L(t,"-add"),n,r.to)},removeClass:function(e,t,n,r){return r=r||{},$("removeClass",e,L(t,"-remove"),n,r.to)}}}])}])}(window,window.angular),function(e,t,n){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,r){function i(){var e,i,o,l;for(e in s)c(a[e])&&r.cookies(e,n);for(e in a)i=a[e],t.isString(i)||(i=""+i,a[e]=i),i!==s[e]&&(r.cookies(e,i),l=!0);if(l){l=!1,o=r.cookies();for(e in a)a[e]!==o[e]&&(c(o[e])?delete a[e]:a[e]=o[e],l=!0)}}var o,a={},s={},l=!1,u=t.copy,c=t.isUndefined;return r.addPollFn(function(){var t=r.cookies();o!=t&&(o=t,u(t,s),u(t,a),l&&e.$apply())})(),l=!0,e.$watch(i),a}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){var r=e[n];return r?t.fromJson(r):r},put:function(n,r){e[n]=t.toJson(r)},remove:function(t){delete e[t]}}}])}(window,window.angular),function(){"use strict";function e(e,t){return e.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null,statefulFilters:!0}).constant("moment",t).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function(t,n,r,i,o){return function(a,s,l){function u(){var e;if(i.serverTime){var t=(new Date).getTime(),r=t-x+i.serverTime;e=n(r)}else e=n();return e}function c(){m&&(t.clearTimeout(m),m=null)}function f(e){var n=u().diff(e,"day"),r=b&&n>=b;if(s.text(r?e.format(w):e.from(u(),v)),y&&!s.attr("title")&&s.attr("title",e.local().format(y)),!r){var i=Math.abs(u().diff(e,"minute")),o=3600;1>i?o=1:60>i?o=30:180>i&&(o=300),m=t.setTimeout(function(){f(e)},1e3*o)}}function d(e){_&&s.attr("datetime",e)}function p(){if(c(),h){var e=r.preprocessDate(h,k,g);f(e),d(e.toISOString())}}var h,m=null,g=o.format,v=i.withoutSuffix,y=i.titleFormat,b=i.fullDateThreshold,w=i.fullDateFormat,x=(new Date).getTime(),k=o.preprocess,C=l.amTimeAgo,_="TIME"===s[0].nodeName.toUpperCase();a.$watch(C,function(e){return"undefined"==typeof e||null===e||""===e?(c(),void(h&&(s.text(""),d(""),h=null))):(h=e,void p())}),e.isDefined(l.amWithoutSuffix)&&a.$watch(l.amWithoutSuffix,function(e){"boolean"==typeof e?(v=e,p()):v=i.withoutSuffix}),l.$observe("amFormat",function(e){"undefined"!=typeof e&&(g=e,p())}),l.$observe("amPreprocess",function(e){k=e,p()}),l.$observe("amFullDateThreshold",function(e){b=e,p()}),l.$observe("amFullDateFormat",function(e){w=e,p()}),a.$on("$destroy",function(){c()}),a.$on("amMoment:localeChanged",function(){p()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(t,n,r,i){this.preprocessors={utc:t.utc,unix:t.unix},this.changeLocale=function(r,i){var o=t.locale(r,i);return e.isDefined(r)&&n.$broadcast("amMoment:localeChanged"),o},this.changeTimezone=function(e){i.timezone=e,n.$broadcast("amMoment:timezoneChanged")},this.preprocessDate=function(n,o,a){return e.isUndefined(o)&&(o=i.preprocess),this.preprocessors[o]?this.preprocessors[o](n,a):(o&&r.warn("angular-moment: Ignoring unsupported value for preprocess: "+o),!isNaN(parseFloat(n))&&isFinite(n)?t(parseInt(n,10)):t(n,a))},this.applyTimezone=function(e,t){return t=t||i.timezone,e&&t&&(e.tz?e=e.tz(t):r.warn("angular-moment: timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?")),e}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(e,t,n){function r(n,r){if("undefined"==typeof n||null===n)return"";n=t.preprocessDate(n,r);var i=e(n);return i.isValid()?t.applyTimezone(i).calendar():""}return r.$stateful=n.statefulFilters,r}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(e,t,n){function r(n,r,i,o,a,s){if("undefined"==typeof n||null===n)return"";n=t.preprocessDate(n,a);var l=e(n);if(!l.isValid())return"";var u;if("undefined"==typeof r||null===r)u=e();else if(r=t.preprocessDate(r,s),u=e(r),!u.isValid())return"";return t.applyTimezone(l).diff(t.applyTimezone(u),i,o)}return r.$stateful=n.statefulFilters,r}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(e,t,n){function r(n,r,i,o){if("undefined"==typeof n||null===n)return"";n=t.preprocessDate(n,i);var a=e(n);return a.isValid()?t.applyTimezone(a,o).format(r):""}return r.$stateful=n.statefulFilters,r}]).filter("amDurationFormat",["moment","angularMomentConfig",function(e,t){function n(t,n,r){return"undefined"==typeof t||null===t?"":e.duration(t,n).humanize(r)}return n.$stateful=t.statefulFilters,n}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(e,t,n){function r(n,r,i){if("undefined"==typeof n||null===n)return"";n=t.preprocessDate(n,r);var o=e(n);return o.isValid()?t.applyTimezone(o).fromNow(i):""}return r.$stateful=n.statefulFilters,r}])}"function"==typeof define&&define.amd?define(["angular","moment"],e):"undefined"!=typeof module&&module&&module.exports?(e(angular,require("moment")),module.exports="angularMoment"):e(angular,window.moment)}(),function(e,t){"use strict";function n(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return o(t,l(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function r(e){var n=[],r=l(n,t.noop);return r.chars(e),n.join("")}function i(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function o(e,n){function r(e,r,o,s){if(r=t.lowercase(r),_[r])for(;b.last()&&S[b.last()];)i("",b.last());C[r]&&b.last()==r&&i("",r),s=w[r]||!!s,s||b.push(r);var l={};o.replace(d,function(e,t,n,r,i){var o=n||r||i||"";l[t]=a(o)}),n.start&&n.start(r,l,s)}function i(e,r){var i,o=0;if(r=t.lowercase(r))for(o=b.length-1;o>=0&&b[o]!=r;o--);if(o>=0){for(i=b.length-1;i>=o;i--)n.end&&n.end(b[i]);b.length=o}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var o,s,l,y,b=[],x=e;for(b.last=function(){return b[b.length-1]};e;){if(y="",s=!0,b.last()&&M[b.last()]?(e=e.replace(new RegExp("(.*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(e,t){return t=t.replace(m,"$1").replace(v,"$1"),n.chars&&n.chars(a(t)),""}),i("",b.last())):(0===e.indexOf("<!--")?(o=e.indexOf("--",4),o>=0&&e.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(e.substring(4,o)),e=e.substring(o+3),s=!1)):g.test(e)?(l=e.match(g),l&&(e=e.replace(l[0],""),s=!1)):h.test(e)?(l=e.match(f),l&&(e=e.substring(l[0].length),l[0].replace(f,i),s=!1)):p.test(e)&&(l=e.match(c),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(c,r)),s=!1):(y+="<",e=e.substring(1))),s&&(o=e.indexOf("<"),y+=0>o?e:e.substring(0,o),e=0>o?"":e.substring(o),n.chars&&n.chars(a(y)))),e==x)throw u("badparse","The sanitizer was unable to parse the following block of html: {0}",e);x=e}i()}function a(e){if(!e)return"";var t=O.exec(e),n=t[1],r=t[3],i=t[2];return i&&(N.innerHTML=i.replace(/</g,"&lt;"),i="textContent"in N?N.textContent:N.innerText),n+i+r}function s(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(b,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!r&&M[e]&&(r=e),r||T[e]!==!0||(i("<"),i(e),t.forEach(o,function(r,o){var a=t.lowercase(o),l="img"===e&&"src"===a||"background"===a;D[a]!==!0||L[a]===!0&&!n(r,l)||(i(" "),i(o),i('="'),i(s(r)),i('"'))}),i(a?"/>":">"))},end:function(e){e=t.lowercase(e),r||T[e]!==!0||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(s(e))}}}var u=t.$$minErr("$sanitize"),c=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,f=/^<\/\s*([\w:-]+)[^>]*>/,d=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,h=/^<\//,m=/<!--(.*?)-->/g,g=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]>/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,w=i("area,br,col,hr,img,wbr"),x=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=i("rp,rt"),C=t.extend({},k,x),_=t.extend({},x,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),S=t.extend({},k,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),$=i("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),M=i("script,style"),T=t.extend({},w,_,S,C,$),L=i("background,cite,href,longdesc,src,usemap,xlink:href"),E=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),A=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),D=t.extend({},L,A,E),N=document.createElement("pre"),O=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,i=/^mailto:/;return function(o,a){function s(e){e&&p.push(r(e))}function l(e,n){p.push("<a "),t.isDefined(a)&&p.push('target="',a,'" '),p.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),p.push("</a>")}if(!o)return o;for(var u,c,f,d=o,p=[];u=d.match(n);)c=u[0],u[2]||u[4]||(c=(u[3]?"http://":"mailto:")+c),f=u.index,s(d.substr(0,f)),l(c,u[0].replace(i,"")),d=d.substring(f+u[0].length);return s(d),e(p.join(""))}}])}(window,window.angular),function(){angular.module("angular-storage",["angular-storage.store"]),angular.module("angular-storage.cookieStorage",[]).service("cookieStorage",["$injector",function(e){var t=e.get("$cookieStore");this.set=function(e,n){return t.put(e,n)},this.get=function(e){return t.get(e)},this.remove=function(e){return t.remove(e)}}]),angular.module("angular-storage.internalStore",["angular-storage.localStorage","angular-storage.sessionStorage"]).factory("InternalStore",["$log","$injector",function(e,t){function n(e,n,r){this.namespace=e||null,this.delimiter=r||".",this.inMemoryCache={},this.storage=t.get(n||"localStorage")}return n.prototype.getNamespacedKey=function(e){return this.namespace?[this.namespace,e].join(this.delimiter):e},n.prototype.set=function(e,t){this.inMemoryCache[e]=t,this.storage.set(this.getNamespacedKey(e),JSON.stringify(t))},n.prototype.get=function(t){var n=null;if(t in this.inMemoryCache)return this.inMemoryCache[t];var r=this.storage.get(this.getNamespacedKey(t));try{n="undefined"==typeof r||"undefined"===r?void 0:JSON.parse(r),this.inMemoryCache[t]=n}catch(i){e.error("Error parsing saved value",i),this.remove(t)}return n},n.prototype.remove=function(e){this.inMemoryCache[e]=null,this.storage.remove(this.getNamespacedKey(e))},n}]),angular.module("angular-storage.localStorage",["angular-storage.cookieStorage"]).service("localStorage",["$window","$injector",function(e,t){var n=!!e.localStorage;if(n)try{e.localStorage.setItem("testKey","test"),e.localStorage.removeItem("testKey"),n=!0}catch(r){n=!1}if(n)this.set=function(t,n){return e.localStorage.setItem(t,n)},this.get=function(t){return e.localStorage.getItem(t)},this.remove=function(t){return e.localStorage.removeItem(t)};else{var i=t.get("cookieStorage");this.set=i.set,this.get=i.get,this.remove=i.remove}}]),angular.module("angular-storage.sessionStorage",["angular-storage.cookieStorage"]).service("sessionStorage",["$window","$injector",function(e,t){if(e.sessionStorage)this.set=function(t,n){return e.sessionStorage.setItem(t,n)},this.get=function(t){return e.sessionStorage.getItem(t)},this.remove=function(t){return e.sessionStorage.removeItem(t)};else{var n=t.get("cookieStorage");this.set=n.set,this.get=n.get,this.remove=n.remove}}]),angular.module("angular-storage.store",["angular-storage.internalStore"]).provider("store",function(){var e="localStorage";this.setStore=function(t){t&&angular.isString(t)&&(e=t)},this.$get=["InternalStore",function(t){var n=new t(null,e);return n.getNamespacedStore=function(e,n,r){return new t(e,n,r)},n}]})}(),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return F(new(F(function(){},{prototype:e})),t)}function i(e){return z(arguments,function(t){t!==e&&z(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function a(e){if(Object.keys)return Object.keys(e);var n=[];return t.forEach(e,function(e,t){n.push(t)}),n}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function l(e,t,n,r){var i,l=o(n,r),u={},c=[];for(var f in l)if(l[f].params&&(i=a(l[f].params),i.length))for(var d in i)s(c,i[d])>=0||(c.push(i[d]),u[i[d]]=e[i[d]]);return F({},u,t)}function u(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!=t[o])return!1}return!0}function c(e,t){var n={};return z(e,function(e){n[e]=t[e]}),n}function f(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==s(n,r)&&(t[r]=e[r]);return t}function d(e,t){var n=P(e),r=n?[]:{};return z(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function p(e,t){var n=P(e)?[]:{};return z(e,function(e,r){n[r]=t(e,r)}),n}function h(e,t){var r=1,o=2,l={},u=[],c=l,d=F(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function p(e,n){if(y[n]!==o){if(v.push(n),y[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=r,O(e))g.push(n,[function(){return t.get(e)}],u);else{var i=t.annotate(e);z(i,function(e){e!==n&&l.hasOwnProperty(e)&&p(l[e],e)}),g.push(n,e,i)}v.pop(),y[n]=o}}function h(e){return I(e)&&e.then&&e.$$promises}if(!I(l))throw new Error("'invocables' must be an object");var m=a(l||{}),g=[],v=[],y={};return z(l,p),l=v=y=null,function(r,o,a){function s(){--w||(x||i(b,o.$$values),v.$$values=b,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,p.resolve(b))}function l(e){v.$$failure=e,p.reject(e)}function u(n,i,o){function u(e){f.reject(e),l(e)}function c(){if(!D(v.$$failure))try{f.resolve(t.invoke(i,a,b)),f.promise.then(function(e){b[n]=e,s()},u)}catch(e){u(e)}}var f=e.defer(),d=0;z(o,function(e){y.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(d++,y[e].then(function(t){b[e]=t,--d||c()},u))}),d||c(),y[n]=f.promise}if(h(r)&&a===n&&(a=o,o=r,r=null),r){if(!I(r))throw new Error("'locals' must be an object")}else r=c;if(o){if(!h(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=d;var p=e.defer(),v=p.promise,y=v.$$promises={},b=F({},r),w=1+g.length/3,x=!1;if(D(o.$$failure))return l(o.$$failure),v;o.$$inheritedValues&&i(b,f(o.$$inheritedValues,m)),F(y,o.$$promises),o.$$values?(x=i(b,f(o.$$values,m)),v.$$inheritedValues=f(o.$$values,m),s()):(o.$$inheritedValues&&(v.$$inheritedValues=f(o.$$inheritedValues,m)),o.then(s,l));for(var k=0,C=g.length;C>k;k+=3)r.hasOwnProperty(g[k])?s():u(g[k],g[k+1],g[k+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function m(e,t,n){this.fromConfig=function(e,t,n){return D(e.template)?this.fromString(e.template,t):D(e.templateUrl)?this.fromUrl(e.templateUrl,t):D(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return N(e)?e(t):e},this.fromUrl=function(n,r){return N(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function g(e,t,i){function o(t,n,r,i){if(g.push(t),h[t])return h[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(m[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return m[t]=new R.Param(t,n,r,i),m[t]}function a(e,t,n){var r=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(n){case!1:r=["(",")"];break;case!0:r=["?(",")?"];break;default:r=["("+n+"|",")?"]}return i+r[0]+t+r[1]}function s(n,i){var o,a,s,l,u;return o=n[2]||n[3],u=t.params[o],s=e.substring(d,n.index),a=i?n[4]:n[4]||("*"==n[1]?".*":null),l=R.type(a||"string")||r(R.type("string"),{pattern:new RegExp(a)}),{id:o,regexp:a,segment:s,type:l,cfg:u}}t=F({params:{}},I(t)?t:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",d=0,p=this.segments=[],h=i?i.params:{},m=this.params=i?i.params.$$new():new R.ParamSet,g=[];this.source=e;for(var v,y,b;(l=u.exec(e))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),f+=a(v.segment,y.type.pattern.source,y.squash),p.push(v.segment),d=u.lastIndex;b=e.substring(d);var w=b.indexOf("?");if(w>=0){var x=this.sourceSearch=b.substring(w);if(b=b.substring(0,w),this.sourcePath=e.substring(0,d+w),x.length>0)for(d=0;l=c.exec(x);)v=s(l,!0),y=o(v.id,v.type,v.cfg,"search"),d=u.lastIndex}else this.sourcePath=e,this.sourceSearch="";f+=a(b)+(t.strict===!1?"/?":"")+"$",p.push(b),this.regexp=new RegExp(f,t.caseInsensitive?"i":n),this.prefix=p[0],this.$$paramNames=g}function v(e){F(this,e)}function y(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function i(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function o(e){return this.pattern.test(e)}function l(){return{strict:b,caseInsensitive:m}}function u(e){return N(e)||P(e)&&N(e[e.length-1])}function c(){for(;C.length;){var e=C.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(x[e.name],h.invoke(e.def))}}function f(e){F(this,e||{})}R=this;var h,m=!1,b=!0,w=!1,x={},k=!0,C=[],_={string:{encode:e,decode:i,is:o,pattern:/[^/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return D(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,is:t.identity,equals:t.equals,pattern:/.*/}};y.$$getDefaultValue=function(e){if(!u(e.value))return e.value;if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(e.value)},this.caseInsensitive=function(e){return D(e)&&(m=e),m},this.strictMode=function(e){return D(e)&&(b=e),b},this.defaultSquashPolicy=function(e){if(!D(e))return w;if(e!==!0&&e!==!1&&!O(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return w=e,e},this.compile=function(e,t){return new g(e,F(l(),t))},this.isMatcher=function(e){if(!I(e))return!1;var t=!0;return z(g.prototype,function(n,r){N(n)&&(t=t&&D(e[r])&&N(e[r]))}),t},this.type=function(e,t,n){if(!D(t))return x[e];if(x.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return x[e]=new v(F({name:e},t)),n&&(C.push({name:e,def:n}),k||c()),this},z(_,function(e,t){x[t]=new v(F({name:t},e))}),x=r(x,{}),this.$get=["$injector",function(e){return h=e,k=!1,c(),z(_,function(e,t){x[t]||(x[t]=new v(e))}),this}],this.Param=function(e,t,r,i){function o(e){var t=I(e)?a(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=u(e.value)?e.value:function(){return e.value},e}function l(t,n,r){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof v?t.type:new v(t.type):"config"===r?x.any:x.string}function c(){var t={array:"search"===i?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return F(t,n,r).array}function f(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!D(n)||null==n)return w;if(n===!0||O(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function m(e,t,r,i){var o,a,l=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return o=P(e.replace)?e.replace:[],O(i)&&o.push({from:i,to:n}),a=p(o,function(e){return e.from}),d(l,function(e){return-1===s(a,e.from)}).concat(o)}function g(){if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(r.$$fn)}function y(e){function t(e){return function(t){return t.from===e}}function n(e){var n=p(d(k.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),D(e)?k.type.decode(e):g()}function b(){return"{Param:"+e+" "+t+" squash: '"+S+"' optional: "+_+"}"}var k=this;r=o(r),t=l(r,t,i);var C=c();t=C?t.$asArray(C,"search"===i):t,"string"!==t.name||C||"path"!==i||r.value!==n||(r.value="");var _=r.value!==n,S=f(r,_),$=m(r,C,_,S);F(this,{id:e,type:t,location:i,array:C,squash:S,replace:$,isOptional:_,value:y,dynamic:n,config:r,toString:b})},f.prototype={$$new:function(){return r(this,F(new f,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=a(f.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),z(t,function(t){z(a(t),function(t){-1===s(e,t)&&-1===s(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return z(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return z(r.$$keys(),function(i){var o=e&&e[i],a=t&&t[i];r[i].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var t,n,r,i=!0,o=this;return z(this.$$keys(),function(a){r=o[a],n=e[a],t=!n&&r.isOptional,i=i&&(t||!!r.type.is(n))}),i},$$parent:n},this.ParamSet=f}function b(e,r){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return D(r)?r:!0}function s(r,i,o,a){function s(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function d(e){function t(e){var t=e(o,r);return t?(O(t)&&r.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){var i=h&&r.url()===h;if(h=n,i)return!0;var a,s=u.length;for(a=0;s>a;a++)if(t(u[a]))return;c&&t(c)}}function p(){return l=l||i.$on("$locationChangeSuccess",d)}var h,m=a.baseHref(),g=r.url();return f||p(),{sync:function(){d()},listen:function(){return p()},update:function(e){return e?void(g=r.url()):void(r.url()!==g&&(r.url(g),r.replace()))},push:function(e,t,i){r.url(e.format(t||{})),h=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled);var l=n.format(i);if(o=o||{},a||null===l||(l="#"+e.hashPrefix()+l),l=s(l,a,o.absolute),!o.absolute||!l)return l;var u=!a&&l?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,u,l].join("")}}}var l,u=[],c=null,f=!1;this.rule=function(e){if(!N(e))throw new Error("'rule' must be a function");return u.push(e),this},this.otherwise=function(e){if(O(e)){var t=e;e=function(){return t}}else if(!N(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var n,s=O(t);if(O(e)&&(e=r.compile(e)),!s&&!N(t)&&!P(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),F(function(n,r){return a(n,t,e.exec(r.path(),r.search()))},{prefix:O(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return o(n,e)}]),F(function(n,r){return a(n,t,e.exec(r.path()))},{prefix:i(e)})}},u={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),f=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function w(e,i){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")
}function f(e,t){if(!e)return n;var r=O(e),i=r?e:e.name,a=o(i);if(a){if(!t)throw new Error("No reference point given for path '"+i+"'");t=f(t);for(var s=i.split("."),l=0,u=s.length,c=t;u>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;s=s.slice(l).join("."),i=c.name+(c.name&&s?".":"")+s}var d=_[i];return!d||!r&&(r||d!==e&&d.self!==e)?n:d}function d(e,t){S[e]||(S[e]=[]),S[e].push(t)}function h(e){for(var t=S[e]||[];t.length;)m(t.shift())}function m(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!O(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(_.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):O(t.parent)?t.parent:I(t.parent)&&O(t.parent.name)?t.parent.name:"";if(i&&!_[i])return d(i,t.self);for(var o in M)N(M[o])&&(t[o]=M[o](t,M.$delegates[o]));return _[n]=t,!t[$]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){C.$current.navigable==t&&u(e,n)||C.transitionTo(t,e,{inherit:!0,location:!1})}]),h(n),t}function g(e){return e.indexOf("*")>-1}function v(e){var t=e.split("."),n=C.$current.name.split(".");if("**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length)return!1;for(var r=0,i=t.length;i>r;r++)"*"===t[r]&&(n[r]="*");return n.join("")===t.join("")}function y(e,t){return O(e)&&!D(t)?M[e]:N(t)&&O(e)?(M[e]&&!M.$delegates[e]&&(M.$delegates[e]=M[e]),M[e]=t,this):this}function b(e,t){return I(e)?t=e:t.name=e,m(t),this}function w(e,i,o,s,d,h,m){function y(t,n,r,o){var a=e.$broadcast("$stateNotFound",t,n,r);if(a.defaultPrevented)return m.update(),M;if(!a.retry)return null;if(o.$retry)return m.update(),T;var s=C.transition=i.when(a.retry);return s.then(function(){return s!==C.transition?w:(t.options.$retry=!0,C.transitionTo(t.to,t.toParams,t.options))},function(){return M}),m.update(),s}function b(e,n,r,a,l,u){var f=r?n:c(e.params.$$keys(),n),p={$stateParams:f};l.resolve=d.resolve(e.resolve,p,l.resolve,e);var h=[l.resolve.then(function(e){l.globals=e})];return a&&h.push(a),z(e.views,function(n,r){var i=n.resolve&&n.resolve!==e.resolve?n.resolve:{};i.$template=[function(){return o.load(r,{view:n,locals:p,params:f,notify:u.notify})||""}],h.push(d.resolve(i,p,l.resolve,e).then(function(o){if(N(n.controllerProvider)||P(n.controllerProvider)){var a=t.extend({},i,p);o.$$controller=s.invoke(n.controllerProvider,null,a)}else o.$$controller=n.controller;o.$$state=e,o.$$controllerAs=n.controllerAs,l[r]=o}))}),i.all(h).then(function(){return l})}var w=i.reject(new Error("transition superseded")),S=i.reject(new Error("transition prevented")),M=i.reject(new Error("transition aborted")),T=i.reject(new Error("transition failed"));return k.locals={resolve:null,globals:{$stateParams:{}}},C={params:{},current:k.self,$current:k,transition:null},C.reload=function(){return C.transitionTo(C.current,h,{reload:!0,inherit:!1,notify:!0})},C.go=function(e,t,n){return C.transitionTo(e,t,F({inherit:!0,relative:C.$current},n))},C.transitionTo=function(t,n,o){n=n||{},o=F({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,u=C.$current,d=C.params,p=u.path,g=f(t,o.relative);if(!D(g)){var v={to:t,toParams:n,options:o},_=y(v,u.self,d,o);if(_)return _;if(t=v.to,n=v.toParams,o=v.options,g=f(t,o.relative),!D(g)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(g[$])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=l(h,n||{},C.$current,g)),!g.params.$$validates(n))return T;n=g.params.$$values(n),t=g;var M=t.path,L=0,E=M[L],A=k.locals,N=[];if(!o.reload)for(;E&&E===p[L]&&E.ownParams.$$equals(n,d);)A=N[L]=E.locals,L++,E=M[L];if(x(t,u,A,o))return t.self.reloadOnSearch!==!1&&m.update(),C.transition=null,i.when(C.current);if(n=c(t.params.$$keys(),n||{}),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,u.self,d).defaultPrevented)return m.update(),S;for(var O=i.when(A),I=L;I<M.length;I++,E=M[I])A=N[I]=r(A),O=b(E,n,E===t,O,A,o);var P=C.transition=O.then(function(){var r,i,a;if(C.transition!==P)return w;for(r=p.length-1;r>=L;r--)a=p[r],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=L;r<M.length;r++)i=M[r],i.locals=N[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return C.transition!==P?w:(C.$current=t,C.current=t.self,C.params=n,j(C.params,h),C.transition=null,o.location&&t.navigable&&m.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,u.self,d),m.update(!0),C.current)},function(r){return C.transition!==P?w:(C.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,u.self,d,r),a.defaultPrevented||m.update(),i.reject(r))});return P},C.is=function(e,t,r){r=F({relative:C.$current},r||{});var i=f(e,r.relative);return D(i)?C.$current!==i?!1:t?u(i.params.$$values(t),h):!0:n},C.includes=function(e,t,r){if(r=F({relative:C.$current},r||{}),O(e)&&g(e)){if(!v(e))return!1;e=C.$current.name}var i=f(e,r.relative);return D(i)?D(C.$current.includes[i.name])?t?u(i.params.$$values(t),h,a(t)):!0:!1:n},C.href=function(e,t,r){r=F({lossy:!0,inherit:!0,absolute:!1,relative:C.$current},r||{});var i=f(e,r.relative);if(!D(i))return null;r.inherit&&(t=l(h,t||{},C.$current,i));var o=i&&r.lossy?i.navigable:i;return o&&o.url!==n&&null!==o.url?m.href(o.url,c(i.params.$$keys(),t||{}),{absolute:r.absolute}):null},C.get=function(e,t){if(0===arguments.length)return p(a(_),function(e){return _[e].self});var n=f(e,t||C.$current);return n&&n.self?n.self:null},C}function x(e,t,n,r){return e!==t||(n!==t.locals||r.reload)&&e.self.reloadOnSearch!==!1?void 0:!0}var k,C,_={},S={},$="abstract",M={parent:function(e){if(D(e.parent)&&e.parent)return f(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?f(t[1]):k},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=F({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(O(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||k).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new R.ParamSet;return z(e.params||{},function(e,n){t[n]||(t[n]=new R.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?F(e.parent.params.$$new(),e.ownParams):new R.ParamSet},views:function(e){var t={};return z(D(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?F({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};k=m({name:"",url:"^",views:null,"abstract":!0}),k.navigable=null,this.decorator=y,this.state=b,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function x(){function e(e,t){return{load:function(n,r){var i,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=F(o,r),r.view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function k(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}function C(e,n,r,i){function o(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function a(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(u)return{enter:function(e,t,n){var r=u.enter(e,null,t,n);r&&r.then&&r.then(n)},leave:function(e,t){var n=u.leave(e,t);n&&n.then&&n.then(t)}};if(l){var r=l&&l(t,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return n()}var s=o(),l=s("$animator"),u=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,l){function u(){f&&(f.remove(),f=null),p&&(p.$destroy(),p=null),d&&(v.leave(d,function(){f=null}),f=d,d=null)}function c(a){var c,f=S(n,l,o,i),y=f&&e.$current&&e.$current.locals[f];if(a||y!==h){c=n.$new(),h=e.$current.locals[f];var b=s(c,function(e){v.enter(e,o,function(){p&&p.$emit("$viewContentAnimationEnded"),(t.isDefined(g)&&!g||n.$eval(g))&&r(e)}),u()});d=b,p=c,p.$emit("$viewContentLoaded"),p.$eval(m)}}var f,d,p,h,m=l.onload||"",g=l.autoscroll,v=a(l,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function _(e,t,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,a,s){var l=n.$current,u=S(i,s,a,r),c=l&&l.locals[u];if(c){a.data("$uiView",{name:u,state:c.$$state}),a.html(c.$template?c.$template:o);var f=e(a.contents());if(c.$$controller){c.$scope=i;var d=t(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=d),a.data("$ngControllerController",d),a.children().data("$ngControllerController",d)}f(i)}}}}}function S(e,t,n,r){var i=r(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function $(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function M(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function T(e,n){var r=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,o,a,s){var l=$(a.uiSref,e.current.name),u=null,c=M(o)||e.$current,f=null,d="A"===o.prop("tagName"),p="FORM"===o[0].nodeName,h=p?"action":"href",m=!0,g={relative:c,inherit:!0},v=i.$eval(a.uiSrefOpts)||{};t.forEach(r,function(e){e in v&&(g[e]=v[e])});var y=function(n){if(n&&(u=t.copy(n)),m){f=e.href(l.state,u,g);var r=s[1]||s[0];return r&&r.$$setStateInfo(l.state,u),null===f?(m=!1,!1):void a.$set(h,f)}};l.paramExpr&&(i.$watch(l.paramExpr,function(e){e!==u&&y(e)},!0),u=t.copy(i.$eval(l.paramExpr))),y(),p||o.bind("click",function(t){var r=t.which||t.button;if(!(r>1||t.ctrlKey||t.metaKey||t.shiftKey||o.attr("target"))){var i=n(function(){e.go(l.state,u,g)});t.preventDefault();var a=d&&!f?1:0;t.preventDefault=function(){a--<=0&&n.cancel(i)}}})}}}function L(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,i){function o(){a()?r.addClass(u):r.removeClass(u)}function a(){return"undefined"!=typeof i.uiSrefActiveEq?s&&e.is(s.name,l):s&&e.includes(s.name,l)}var s,l,u;u=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(t),this.$$setStateInfo=function(t,n){s=e.get(t,M(r)),l=n,o()},t.$on("$stateChangeSuccess",o)}]}}function E(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function A(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var D=t.isDefined,N=t.isFunction,O=t.isString,I=t.isObject,P=t.isArray,z=t.forEach,F=t.extend,j=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),h.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",h),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var R;g.prototype.concat=function(e,t){var n={caseInsensitive:R.caseInsensitive(),strict:R.strictMode(),squash:R.defaultSquashPolicy()};return new g(this.sourcePath+e+this.sourceSearch,F(n,t),this)},g.prototype.toString=function(){return this.source},g.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/,"-")}var r=t(e).split(/-(?!\\)/),i=p(r,t);return p(i,n).reverse()}var r=this.regexp.exec(e);if(!r)return null;t=t||{};var i,o,a,s=this.parameters(),l=s.length,u=this.segments.length-1,c={};if(u!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;u>i;i++){a=s[i];var f=this.params[a],d=r[i+1];for(o=0;o<f.replace;o++)f.replace[o].from===d&&(d=f.replace[o].to);d&&f.array===!0&&(d=n(d)),c[a]=f.value(d)}for(;l>i;i++)a=s[i],c[a]=this.params[a].value(t[a]);return c},g.prototype.parameters=function(e){return D(e)?this.params[e]||null:this.$$paramNames},g.prototype.validates=function(e){return this.params.$$validates(e)},g.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(e))return null;var o,a=!1,s=n.length-1,l=r.length,u=n[0];for(o=0;l>o;o++){var c=s>o,f=r[o],d=i[f],h=d.value(e[f]),m=d.isOptional&&d.type.equals(d.value(),h),g=m?d.squash:!1,v=d.type.encode(h);if(c){var y=n[o+1];if(g===!1)null!=v&&(u+=P(v)?p(v,t).join("-"):encodeURIComponent(v)),u+=y;else if(g===!0){var b=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=y.match(b)[1]}else O(g)&&(u+=g+y)}else{if(null==v||m&&g!==!1)continue;P(v)||(v=[v]),v=p(v,encodeURIComponent).join("&"+f+"="),u+=(a?"&":"?")+(f+"="+v),a=!0}}return u},v.prototype.is=function(){return!0},v.prototype.encode=function(e){return e},v.prototype.decode=function(e){return e},v.prototype.equals=function(e,t){return e==t},v.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},v.prototype.pattern=/.*/,v.prototype.toString=function(){return"{Type:"+this.name+"}"},v.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return P(e)?e:D(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(n){n=i(n);var r=p(n,e);return t===!0?0===d(r,a).length:o(r)}}function l(e){return function(t,n){var r=i(t),o=i(n);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!e(r[a],o[a]))return!1;return!0}}this.encode=s(r(e,"encode")),this.decode=s(r(e,"decode")),this.is=s(r(e,"is"),!0),this.equals=l(r(e,"equals")),this.pattern=e.pattern,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",y),t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),b.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",b),w.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",w),x.$inject=[],t.module("ui.router.state").provider("$view",x),t.module("ui.router.state").provider("$uiViewScroll",k),C.$inject=["$state","$injector","$uiViewScroll","$interpolate"],_.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",C),t.module("ui.router.state").directive("uiView",_),T.$inject=["$state","$timeout"],L.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",T).directive("uiSrefActive",L).directive("uiSrefActiveEq",L),E.$inject=["$state"],A.$inject=["$state"],t.module("ui.router.state").filter("isState",E).filter("includedByState",A)}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.popover","ui.bootstrap.tooltip","ui.bootstrap.position","ui.bootstrap.bindHtml","ui.bootstrap.transition","ui.bootstrap.modal","ui.bootstrap.rating"]),angular.module("ui.bootstrap.tpls",["template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/modal/backdrop.html","template/modal/window.html","template/rating/rating.html"]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(i,o,a,s,l,u){return function(i,c,f,d){function p(e){var t=e||d.trigger||f,r=n[t]||t;return{show:t,hide:r}}d=angular.extend({},t,r,d);var h=e(i),m=u.startSymbol(),g=u.endSymbol(),v="<div "+h+'-popup title="'+m+"title"+g+'" '+(d.useContentExp?'content-exp="contentExp()" ':'content="'+m+"content"+g+'" ')+'placement="'+m+"placement"+g+'" popup-class="'+m+"popupClass"+g+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var e=o(v);return function(t,n,r){function o(){E.isOpen?f():u()}function u(){(!L||t.$eval(r[c+"Enable"]))&&(y(),E.popupDelay?$||($=a(h,E.popupDelay,!1),$.then(function(e){e()})):h()())}function f(){t.$apply(function(){m()})}function h(){return $=null,S&&(a.cancel(S),S=null),(d.useContentExp?E.contentExp():E.content)?(g(),C.css({top:0,left:0,display:"block"}),E.$digest(),A(),E.isOpen=!0,E.$apply(),A):angular.noop}function m(){E.isOpen=!1,a.cancel($),$=null,E.animation?S||(S=a(v,500)):v()}function g(){C&&v(),_=E.$new(),C=e(_,function(e){M?s.find("body").append(e):n.after(e)}),d.useContentExp&&_.$watch("contentExp()",function(e){D(),!e&&E.isOpen&&m()})}function v(){S=null,C&&(C.remove(),C=null),_&&(_.$destroy(),_=null)}function y(){b(),w(),x()}function b(){E.popupClass=r[c+"Class"]}function w(){var e=r[c+"Placement"];E.placement=angular.isDefined(e)?e:d.placement}function x(){var e=r[c+"PopupDelay"],t=parseInt(e,10);E.popupDelay=isNaN(t)?d.popupDelay:t}function k(){var e=r[c+"Trigger"];N(),T=p(e),T.show===T.hide?n.bind(T.show,o):(n.bind(T.show,u),n.bind(T.hide,f))}var C,_,S,$,M=angular.isDefined(d.appendToBody)?d.appendToBody:!1,T=p(void 0),L=angular.isDefined(r[c+"Enable"]),E=t.$new(!0),A=function(){if(C){var e=l.positionElements(n,C,E.placement,M);e.top+="px",e.left+="px",C.css(e)}},D=function(){a(A,0,!1)};E.origScope=t,E.isOpen=!1,E.contentExp=function(){return t.$eval(r[i])},d.useContentExp||r.$observe(i,function(e){E.content=e,D(),!e&&E.isOpen&&m()}),r.$observe("disabled",function(e){e&&E.isOpen&&m()}),r.$observe(c+"Title",function(e){E.title=e,D()}),r.$observe(c+"Placement",function(){E.isOpen&&a(function(){w(),h()()},0,!1)});var N=function(){n.unbind(T.show,u),n.unbind(T.hide,f)};k();var O=t.$eval(r[c+"Animation"]);E.animation=angular.isDefined(O)?!!O:d.animation;var I=t.$eval(r[c+"AppendToBody"]);M=angular.isDefined(I)?I:M,M&&t.$on("$locationChangeSuccess",function(){E.isOpen&&m()}),t.$on("$destroy",function(){a.cancel(S),a.cancel($),N(),v(),E=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,r){return{link:function(i,o,a){var s,l,u,c=i.$eval(a.tooltipTemplateTranscludeScope),f=0,d=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(e.leave(u).then(function(){l=null}),l=u,u=null)};i.$watch(t.parseAsResourceUrl(a.tooltipTemplateTransclude),function(t){var a=++f;t?(r(t,!0).then(function(r){if(a===f){var i=c.$new(),l=r,p=n(l)(i,function(t){d(),e.enter(t,o)});s=i,u=p,s.$emit("$includeContentLoaded",t)}},function(){a===f&&(d(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):d()}),i.$on("$destroy",d)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},o=i(t[0]);o!=e[0]&&(r=this.offset(angular.element(o)),r.top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft);var a=t[0].getBoundingClientRect();return{width:a.width||t.prop("offsetWidth"),height:a.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i,o,a,s,l=n.split("-"),u=l[0],c=l[1]||"center";i=r?this.offset(e):this.position(e),o=t.prop("offsetWidth"),a=t.prop("offsetHeight");var f={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},d={center:function(){return i.top+i.height/2-a/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(u){case"right":s={top:d[c](),left:f[u]()};break;case"left":s={top:d[c](),left:i.left-o};break;case"bottom":s={top:d[u](),left:f[c]()};break;default:s={top:i.top-a,left:f[c]()}}return s}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(e,t){return function(n,r,i){t||e.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),r.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),n.$watch(i.bindHtmlUnsafe,function(e){r.html(e||"")})}}]),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,t,n,r,i){function o(e){for(var t in e)if(void 0!==s.style[t])return e[t]}i||r.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var a=function(r,i,o){o=o||{};var s=e.defer(),l=a[o.animation?"animationEndEventName":"transitionEndEventName"],u=function(){n.$apply(function(){r.unbind(l,u),s.resolve(r)})};return l&&r.bind(l,u),t(function(){angular.isString(i)?r.addClass(i):angular.isFunction(i)?i(r):angular.isObject(i)&&r.css(i),l||s.resolve(r)}),s.promise.cancel=function(){l&&r.unbind(l,u),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},u={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return a.transitionEndEventName=o(l),a.animationEndEventName=o(u),a}]),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$animate","$modalStack",function(e,t){function n(n,r,i){i.modalInClass&&(e.addClass(r,i.modalInClass),n.$on(t.NOW_CLOSING_EVENT,function(t,n){var o=n();e.removeClass(r,i.modalInClass).then(o)}))}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),n}}}]).directive("modalWindow",["$modalStack","$q","$animate",function(e,t,n){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(r,i,o){i.addClass(o.windowClass||""),r.size=o.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},r.$isRendered=!0;var a=t.defer();o.$observe("modalRender",function(e){"true"==e&&a.resolve()}),a.promise.then(function(){o.modalInClass&&(n.addClass(i,o.modalInClass),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var r=t();n.removeClass(i,o.modalInClass).then(r)}));var t=i[0].querySelectorAll("[autofocus]");t.length?t[0].focus():i[0].focus();var a=e.getTop();a&&e.modalRendered(a.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,r,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$$stackedMap",function(e,t,n,r,i,o,a){function s(){for(var e=-1,t=g.keys(),n=0;n<t.length;n++)g.get(t[n]).value.backdrop&&(e=n);return e}function l(e,t){var r=n.find("body").eq(0),i=g.get(e).value;g.remove(e),c(i.modalDomEl,i.modalScope,function(){r.toggleClass(m,g.length()>0)}),u(),t&&t.focus?t.focus():r.focus()}function u(){if(d&&-1==s()){var e=p;c(d,p,function(){e=null}),d=void 0,p=void 0}}function c(t,n,r){function i(){i.done||(i.done=!0,e.leave(t),n.$destroy(),r&&r())}var a,s=null,l=function(){return a||(a=o.defer(),s=a.promise),function(){a.resolve()}};return n.$broadcast(v.NOW_CLOSING_EVENT,l),o.when(s).then(i)}function f(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var d,p,h,m="modal-open",g=a.createNew(),v={NOW_CLOSING_EVENT:"modal.stack.now-closing"},y=0,b="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return i.$watch(s,function(e){p&&(p.index=e)}),n.bind("keydown",function(e){var t=g.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),i.$apply(function(){v.dismiss(t.key,"escape key press")});break;case 9:v.loadFocusElementList(t);var n=!1;e.shiftKey?v.isFocusInFirstItem(e)&&(n=v.focusLastFocusableElement()):v.isFocusInLastItem(e)&&(n=v.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),v.open=function(e,t){var o=n[0].activeElement;g.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var a=n.find("body").eq(0),l=s();if(l>=0&&!d){p=i.$new(!0),p.index=l;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",t.backdropClass),t.animation&&u.attr("modal-animation","true"),d=r(u)(p),a.append(d)}var c=angular.element('<div modal-window="modal-window"></div>');c.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:g.length()-1,animate:"animate"}).html(t.content),t.animation&&c.attr("modal-animation","true");var f=r(c)(t.scope);g.top().value.modalDomEl=f,g.top().value.modalOpener=o,a.append(f),a.addClass(m),v.clearFocusListCache()},v.close=function(e,t){var n=g.get(e);return n&&f(n,t,!0)?(n.value.deferred.resolve(t),l(e,n.value.modalOpener),!0):!n},v.dismiss=function(e,t){var n=g.get(e);return n&&f(n,t,!1)?(n.value.deferred.reject(t),l(e,n.value.modalOpener),!0):!n},v.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},v.getTop=function(){return g.top()},v.modalRendered=function(e){var t=g.get(e);t&&t.value.renderDeferred.resolve()},v.focusFirstFocusableElement=function(){return h.length>0?(h[0].focus(),!0):!1},v.focusLastFocusableElement=function(){return h.length>0?(h[h.length-1].focus(),!0):!1},v.isFocusInFirstItem=function(e){return h.length>0?(e.target||e.srcElement)==h[0]:!1},v.isFocusInLastItem=function(e){return h.length>0?(e.target||e.srcElement)==h[h.length-1]:!1},v.clearFocusListCache=function(){h=[],y=0},v.loadFocusElementList=function(e){if((void 0===h||!h.length0)&&e){var t=e.value.modalDomEl;t&&t.length&&(h=t[0].querySelectorAll(b))}},v}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,r,i,o,a){function s(e){return e.template?r.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function l(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(r.when(t.invoke(e)))}),n}var u={};return u.open=function(t){var i=r.defer(),u=r.defer(),c=r.defer(),f={result:i.promise,opened:u.promise,rendered:c.promise,close:function(e){return a.close(f,e)},dismiss:function(e){return a.dismiss(f,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");
var d=r.all([s(t)].concat(l(t.resolve)));return d.then(function(e){var r=(t.scope||n).$new();r.$close=f.close,r.$dismiss=f.dismiss;var s,l={},u=1;t.controller&&(l.$scope=r,l.$modalInstance=f,angular.forEach(t.resolve,function(t,n){l[n]=e[u++]}),s=o(t.controller,l),t.controllerAs&&(t.bindToController&&angular.extend(s,r),r[t.controllerAs]=s)),a.open(f,{scope:r,deferred:i,renderDeferred:c,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){i.reject(e)}),d.then(function(){u.resolve(!0)},function(e){u.reject(e)}),f},u}]};return e}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,r.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(r.$setViewValue(r.$viewValue===t?0:t),r.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n	ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" >\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>\n')}]),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.4",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e(o);t&&t.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.4",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var i="prev"==e?-1:1,o=(n+i)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(t,i),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=e.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var f=e(this.$indicators.children()[this.getItemIndex(o)]);f&&f.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),o=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),o=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.4",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var o=t(i),a=o.data("bs.collapse"),s=a?"toggle":i.data();n.call(o,s)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(i).remove(),e(o).each(function(){var r=e(this),i=n(r),o={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.4",a.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var o=n(i),a=o.hasClass("open");if(t(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(o.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var i=n(r),a=i.hasClass("open");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",l=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var u=l.index(t.target);38==t.which&&u>0&&u--,40==t.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',a.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](r):a.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,a,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var c=this.getPosition(),f=o[0].offsetWidth,d=o[0].offsetHeight;if(u){var p=s,h=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(h);s="bottom"==s&&c.bottom+d>m.bottom?"top":"top"==s&&c.top-d<m.top?"bottom":"right"==s&&c.right+f>m.width?"left":"left"==s&&c.left-f<m.left?"right":s,o.removeClass(p).addClass(s)}var g=this.getCalculatedOffset(s,c,f,d);this.applyPlacement(g,s);var v=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top=t.top+a,t.left=t.left+s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var l=r[0].offsetWidth,u=r[0].offsetHeight;"top"==n&&u!=o&&(t.top=t.top+o-u);var c=this.getViewportAdjustedDelta(n,t,l,u);c.left?t.left+=c.left:t.top+=c.top;var f=/top|bottom/.test(n),d=f?2*c.left-i+l:2*c.top-o+u,p=f?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(d,r[0][p],f)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&o.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)
},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=r?{top:0,left:0}:t.offset(),a={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,a,s,o)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+r;s<a.top?i.top=a.top-s:l>a.top+a.height&&(i.top=a.top+a.height-l)}else{var u=t.left-o,c=t.left+o+n;u<a.left?i.left=a.left-u:c>a.width&&(i.left=a.left+a.width-c)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.4",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.4",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)a!=o[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&e.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),o="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.4",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=o.top?!1:"bottom":e-r>=i+a?!1:"bottom";var s=null==this.affixed,l=s?i:o.top,u=s?a:t;return null!=n&&n>=i?"top":null!=r&&l+u>=e-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=e(document.body).height();"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,t,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=e.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",uiCodemirrorDirective),uiCodemirrorDirective.$inject=["$timeout","uiCodemirrorConfig"],!function(e){"undefined"!=typeof exports?e(exports):(window.hljs=e({}),"function"==typeof define&&define.amd&&define("hljs",[],function(){return window.hljs}))}(function(e){function t(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function n(e){return e.nodeName.toLowerCase()}function r(e,t){var n=e&&e.exec(t);return n&&0==n.index}function i(e){return/no-?highlight|plain|text/.test(e)}function o(e){var t,n,r,o=e.className+" ";if(o+=e.parentNode?e.parentNode.className:"",n=/\blang(?:uage)?-([\w-]+)\b/.exec(o))return w(n[1])?n[1]:"no-highlight";for(o=o.split(/\s+/),t=0,r=o.length;r>t;t++)if(w(o[t])||i(o[t]))return o[t]}function a(e,t){var n,r={};for(n in e)r[n]=e[n];if(t)for(n in t)r[n]=t[n];return r}function s(e){var t=[];return function r(e,i){for(var o=e.firstChild;o;o=o.nextSibling)3==o.nodeType?i+=o.nodeValue.length:1==o.nodeType&&(t.push({event:"start",offset:i,node:o}),i=r(o,i),n(o).match(/br|hr|img|input/)||t.push({event:"stop",offset:i,node:o}));return i}(e,0),t}function l(e,r,i){function o(){return e.length&&r.length?e[0].offset!=r[0].offset?e[0].offset<r[0].offset?e:r:"start"==r[0].event?e:r:e.length?e:r}function a(e){function r(e){return" "+e.nodeName+'="'+t(e.value)+'"'}c+="<"+n(e)+Array.prototype.map.call(e.attributes,r).join("")+">"}function s(e){c+="</"+n(e)+">"}function l(e){("start"==e.event?a:s)(e.node)}for(var u=0,c="",f=[];e.length||r.length;){var d=o();if(c+=t(i.substr(u,d[0].offset-u)),u=d[0].offset,d==e){f.reverse().forEach(s);do l(d.splice(0,1)[0]),d=o();while(d==e&&d.length&&d[0].offset==u);f.reverse().forEach(a)}else"start"==d[0].event?f.push(d[0].node):f.pop(),l(d.splice(0,1)[0])}return c+t(i.substr(u))}function u(e){function t(e){return e&&e.source||e}function n(n,r){return new RegExp(t(n),"m"+(e.cI?"i":"")+(r?"g":""))}function r(i,o){if(!i.compiled){if(i.compiled=!0,i.k=i.k||i.bK,i.k){var s={},l=function(t,n){e.cI&&(n=n.toLowerCase()),n.split(" ").forEach(function(e){var n=e.split("|");s[n[0]]=[t,n[1]?Number(n[1]):1]})};"string"==typeof i.k?l("keyword",i.k):Object.keys(i.k).forEach(function(e){l(e,i.k[e])}),i.k=s}i.lR=n(i.l||/\b\w+\b/,!0),o&&(i.bK&&(i.b="\\b("+i.bK.split(" ").join("|")+")\\b"),i.b||(i.b=/\B|\b/),i.bR=n(i.b),i.e||i.eW||(i.e=/\B|\b/),i.e&&(i.eR=n(i.e)),i.tE=t(i.e)||"",i.eW&&o.tE&&(i.tE+=(i.e?"|":"")+o.tE)),i.i&&(i.iR=n(i.i)),void 0===i.r&&(i.r=1),i.c||(i.c=[]);var u=[];i.c.forEach(function(e){e.v?e.v.forEach(function(t){u.push(a(e,t))}):u.push("self"==e?i:e)}),i.c=u,i.c.forEach(function(e){r(e,i)}),i.starts&&r(i.starts,o);var c=i.c.map(function(e){return e.bK?"\\.?("+e.b+")\\.?":e.b}).concat([i.tE,i.i]).map(t).filter(Boolean);i.t=c.length?n(c.join("|"),!0):{exec:function(){return null}}}}r(e)}function c(e,n,i,o){function a(e,t){for(var n=0;n<t.c.length;n++)if(r(t.c[n].bR,e))return t.c[n]}function s(e,t){if(r(e.eR,t)){for(;e.endsParent&&e.parent;)e=e.parent;return e}return e.eW?s(e.parent,t):void 0}function l(e,t){return!i&&r(t.iR,e)}function d(e,t){var n=b.cI?t[0].toLowerCase():t[0];return e.k.hasOwnProperty(n)&&e.k[n]}function p(e,t,n,r){var i=r?"":x.classPrefix,o='<span class="'+i,a=n?"":"</span>";return o+=e+'">',o+t+a}function h(){if(!_.k)return t(M);var e="",n=0;_.lR.lastIndex=0;for(var r=_.lR.exec(M);r;){e+=t(M.substr(n,r.index-n));var i=d(_,r);i?(T+=i[1],e+=p(i[0],t(r[0]))):e+=t(r[0]),n=_.lR.lastIndex,r=_.lR.exec(M)}return e+t(M.substr(n))}function m(){if(_.sL&&!k[_.sL])return t(M);var e=_.sL?c(_.sL,M,!0,S[_.sL]):f(M);return _.r>0&&(T+=e.r),"continuous"==_.subLanguageMode&&(S[_.sL]=e.top),p(e.language,e.value,!1,!0)}function g(){return void 0!==_.sL?m():h()}function v(e,n){var r=e.cN?p(e.cN,"",!0):"";e.rB?($+=r,M=""):e.eB?($+=t(n)+r,M=""):($+=r,M=n),_=Object.create(e,{parent:{value:_}})}function y(e,n){if(M+=e,void 0===n)return $+=g(),0;var r=a(n,_);if(r)return $+=g(),v(r,n),r.rB?0:n.length;var i=s(_,n);if(i){var o=_;o.rE||o.eE||(M+=n),$+=g();do _.cN&&($+="</span>"),T+=_.r,_=_.parent;while(_!=i.parent);return o.eE&&($+=t(n)),M="",i.starts&&v(i.starts,""),o.rE?0:n.length}if(l(n,_))throw new Error('Illegal lexeme "'+n+'" for mode "'+(_.cN||"<unnamed>")+'"');return M+=n,n.length||1}var b=w(e);if(!b)throw new Error('Unknown language: "'+e+'"');u(b);var C,_=o||b,S={},$="";for(C=_;C!=b;C=C.parent)C.cN&&($=p(C.cN,"",!0)+$);var M="",T=0;try{for(var L,E,A=0;_.t.lastIndex=A,L=_.t.exec(n),L;)E=y(n.substr(A,L.index-A),L[0]),A=L.index+E;for(y(n.substr(A)),C=_;C.parent;C=C.parent)C.cN&&($+="</span>");return{r:T,value:$,language:e,top:_}}catch(D){if(-1!=D.message.indexOf("Illegal"))return{r:0,value:t(n)};throw D}}function f(e,n){n=n||x.languages||Object.keys(k);var r={r:0,value:t(e)},i=r;return n.forEach(function(t){if(w(t)){var n=c(t,e,!1);n.language=t,n.r>i.r&&(i=n),n.r>r.r&&(i=r,r=n)}}),i.language&&(r.second_best=i),r}function d(e){return x.tabReplace&&(e=e.replace(/^((<[^>]+>|\t)+)/gm,function(e,t){return t.replace(/\t/g,x.tabReplace)})),x.useBR&&(e=e.replace(/\n/g,"<br>")),e}function p(e,t,n){var r=t?C[t]:n,i=[e.trim()];return e.match(/\bhljs\b/)||i.push("hljs"),-1===e.indexOf(r)&&i.push(r),i.join(" ").trim()}function h(e){var t=o(e);if(!i(t)){var n;x.useBR?(n=document.createElementNS("http://www.w3.org/1999/xhtml","div"),n.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):n=e;var r=n.textContent,a=t?c(t,r,!0):f(r),u=s(n);if(u.length){var h=document.createElementNS("http://www.w3.org/1999/xhtml","div");h.innerHTML=a.value,a.value=l(u,s(h),r)}a.value=d(a.value),e.innerHTML=a.value,e.className=p(e.className,t,a.language),e.result={language:a.language,re:a.r},a.second_best&&(e.second_best={language:a.second_best.language,re:a.second_best.r})}}function m(e){x=a(x,e)}function g(){if(!g.called){g.called=!0;var e=document.querySelectorAll("pre code");Array.prototype.forEach.call(e,h)}}function v(){addEventListener("DOMContentLoaded",g,!1),addEventListener("load",g,!1)}function y(t,n){var r=k[t]=n(e);r.aliases&&r.aliases.forEach(function(e){C[e]=t})}function b(){return Object.keys(k)}function w(e){return k[e]||k[C[e]]}var x={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},k={},C={};return e.highlight=c,e.highlightAuto=f,e.fixMarkup=d,e.highlightBlock=h,e.configure=m,e.initHighlighting=g,e.initHighlightingOnLoad=v,e.registerLanguage=y,e.listLanguages=b,e.getLanguage=w,e.inherit=a,e.IR="[a-zA-Z]\\w*",e.UIR="[a-zA-Z_]\\w*",e.NR="\\b\\d+(\\.\\d+)?",e.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",e.BNR="\\b(0b[01]+)",e.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",e.BE={b:"\\\\[\\s\\S]",r:0},e.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[e.BE]},e.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[e.BE]},e.PWM={b:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/},e.C=function(t,n,r){var i=e.inherit({cN:"comment",b:t,e:n,c:[]},r||{});return i.c.push(e.PWM),i.c.push({cN:"doctag",bK:"TODO FIXME NOTE BUG XXX",r:0}),i},e.CLCM=e.C("//","$"),e.CBCM=e.C("/\\*","\\*/"),e.HCM=e.C("#","$"),e.NM={cN:"number",b:e.NR,r:0},e.CNM={cN:"number",b:e.CNR,r:0},e.BNM={cN:"number",b:e.BNR,r:0},e.CSSNM={cN:"number",b:e.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},e.RM={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[e.BE,{b:/\[/,e:/\]/,r:0,c:[e.BE]}]},e.TM={cN:"title",b:e.IR,r:0},e.UTM={cN:"title",b:e.UIR,r:0},e}),hljs.registerLanguage("ruby",function(e){var t="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",n="and false then defined module in return redo if BEGIN retry end for true self when next until do begin unless END rescue nil else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",r={cN:"doctag",b:"@[A-Za-z]+"},i={cN:"value",b:"#<",e:">"},o=[e.C("#","$",{c:[r]}),e.C("^\\=begin","^\\=end",{c:[r],r:10}),e.C("^__END__","\\n$")],a={cN:"subst",b:"#\\{",e:"}",k:n},s={cN:"string",c:[e.BE,a],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/`/,e:/`/},{b:"%[qQwWx]?\\(",e:"\\)"},{b:"%[qQwWx]?\\[",e:"\\]"},{b:"%[qQwWx]?{",e:"}"},{b:"%[qQwWx]?<",e:">"},{b:"%[qQwWx]?/",e:"/"},{b:"%[qQwWx]?%",e:"%"},{b:"%[qQwWx]?-",e:"-"},{b:"%[qQwWx]?\\|",e:"\\|"},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/}]},l={cN:"params",b:"\\(",e:"\\)",k:n},u=[s,i,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[e.inherit(e.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{cN:"inheritance",b:"<\\s*",c:[{cN:"parent",b:"("+e.IR+"::)?"+e.IR}]}].concat(o)},{cN:"function",bK:"def",e:" |$|;",r:0,c:[e.inherit(e.TM,{b:t}),l].concat(o)},{cN:"constant",b:"(::)?(\\b[A-Z]\\w*(::)?)+",r:0},{cN:"symbol",b:e.UIR+"(\\!|\\?)?:",r:0},{cN:"symbol",b:":",c:[s,{b:t}],r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{cN:"variable",b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{b:"("+e.RSR+")\\s*",c:[i,{cN:"regexp",c:[e.BE,a],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}].concat(o),r:0}].concat(o);a.c=u,l.c=u;var c="[>?]>",f="[\\w#]+\\(\\w+\\):\\d+:\\d+>",d="(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>",p=[{b:/^\s*=>/,cN:"status",starts:{e:"$",c:u}},{cN:"prompt",b:"^("+c+"|"+f+"|"+d+")",starts:{e:"$",c:u}}];return{aliases:["rb","gemspec","podspec","thor","irb"],k:n,c:o.concat(p).concat(u)}}),hljs.registerLanguage("objectivec",function(e){var t={cN:"built_in",b:"(AV|CA|CF|CG|CI|MK|MP|NS|UI)\\w+"},n={keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"BOOL dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},r=/[a-zA-Z@][a-zA-Z0-9_]*/,i="@interface @class @protocol @implementation";return{aliases:["mm","objc","obj-c"],k:n,l:r,i:"</",c:[t,e.CLCM,e.CBCM,e.CNM,e.QSM,{cN:"string",v:[{b:'@"',e:'"',i:"\\n",c:[e.BE]},{b:"'",e:"[^\\\\]'",i:"[^\\\\][^']"}]},{cN:"preprocessor",b:"#",e:"$",c:[{cN:"title",v:[{b:'"',e:'"'},{b:"<",e:">"}]}]},{cN:"class",b:"("+i.split(" ").join("|")+")\\b",e:"({|$)",eE:!0,k:i,l:r,c:[e.UTM]},{cN:"variable",b:"\\."+e.UIR,r:0}]}}),hljs.registerLanguage("javascript",function(e){return{aliases:["js"],k:{keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},c:[{cN:"pi",r:10,b:/^\s*['"]use (strict|asm)['"]/},e.ASM,e.QSM,{cN:"string",b:"`",e:"`",c:[e.BE,{cN:"subst",b:"\\$\\{",e:"\\}"}]},e.CLCM,e.CBCM,{cN:"number",v:[{b:"\\b(0[bB][01]+)"},{b:"\\b(0[oO][0-7]+)"},{b:e.CNR}],r:0},{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBCM,e.RM,{b:/</,e:/>\s*[);\]]/,r:0,sL:"xml"}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,c:[e.CLCM,e.CBCM],i:/["'\(]/}],i:/\[|%/},{b:/\$[(.]/},{b:"\\."+e.IR,r:0},{bK:"import",e:"[;$]",k:"import from as",c:[e.ASM,e.QSM]},{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},e.UTM]}]}}),hljs.registerLanguage("less",function(e){var t="[\\w-]+",n="("+t+"|@{"+t+"})",r=[],i=[],o=function(e){return{cN:"string",b:"~?"+e+".*?"+e}},a=function(e,t,n){return{cN:e,b:t,r:n}},s=function(t,n,r){return e.inherit({cN:t,b:n+"\\(",e:"\\(",rB:!0,eE:!0,r:0},r)},l={b:"\\(",e:"\\)",c:i,r:0};i.push(e.CLCM,e.CBCM,o("'"),o('"'),e.CSSNM,a("hexcolor","#[0-9A-Fa-f]+\\b"),s("function","(url|data-uri)",{starts:{cN:"string",e:"[\\)\\n]",eE:!0}}),s("function",t),l,a("variable","@@?"+t,10),a("variable","@{"+t+"}"),a("built_in","~?`[^`]*?`"),{cN:"attribute",b:t+"\\s*:",e:":",rB:!0,eE:!0});var u=i.concat({b:"{",e:"}",c:r}),c={bK:"when",eW:!0,c:[{bK:"and not"}].concat(i)},f={cN:"attribute",b:n,e:":",eE:!0,c:[e.CLCM,e.CBCM],i:/\S/,starts:{e:"[;}]",rE:!0,c:i,i:"[<=$]"}},d={cN:"at_rule",b:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{e:"[;{}]",rE:!0,c:i,r:0}},p={cN:"variable",v:[{b:"@"+t+"\\s*:",r:15},{b:"@"+t}],starts:{e:"[;}]",rE:!0,c:u}},h={v:[{b:"[\\.#:&\\[]",e:"[;{}]"},{b:n+"[^;]*{",e:"{"}],rB:!0,rE:!0,i:"[<='$\"]",c:[e.CLCM,e.CBCM,c,a("keyword","all\\b"),a("variable","@{"+t+"}"),a("tag",n+"%?",0),a("id","#"+n),a("class","\\."+n,0),a("keyword","&",0),s("pseudo",":not"),s("keyword",":extend"),a("pseudo","::?"+n),{cN:"attr_selector",b:"\\[",e:"\\]"},{b:"\\(",e:"\\)",c:u},{b:"!important"}]};return r.push(e.CLCM,e.CBCM,d,p,h,f),{cI:!0,i:"[=>'/<($\"]",c:r}}),hljs.registerLanguage("css",function(e){var t="[a-zA-Z-][a-zA-Z0-9_-]*",n={cN:"function",b:t+"\\(",rB:!0,eE:!0,e:"\\("},r={cN:"rule",b:/[A-Z\_\.\-]+\s*:/,rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{cN:"value",eW:!0,eE:!0,c:[n,e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:"hexcolor",b:"#[0-9A-Fa-f]+"},{cN:"important",b:"!important"}]}}]};return{cI:!0,i:/[=\/|'\$]/,c:[e.CBCM,r,{cN:"id",b:/\#[A-Za-z0-9_-]+/},{cN:"class",b:/\.[A-Za-z0-9_-]+/},{cN:"attr_selector",b:/\[/,e:/\]/,i:"$"},{cN:"pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"']+/},{cN:"at_rule",b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{cN:"at_rule",b:"@",e:"[{;]",c:[{cN:"keyword",b:/\S+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[n,e.ASM,e.QSM,e.CSSNM]}]},{cN:"tag",b:t,r:0},{cN:"rules",b:"{",e:"}",i:/\S/,c:[e.CBCM,r]}]}}),hljs.registerLanguage("cpp",function(e){var t={cN:"keyword",b:"[a-z\\d_]*_t"},n={keyword:"false int float while private char catch export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const struct for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using true class asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignof constexpr decltype noexcept nullptr static_assert thread_local restrict _Bool complex _Complex _Imaginary atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong",built_in:"std string cin cout cerr clog stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf"};return{aliases:["c","cc","h","c++","h++","hpp"],k:n,i:"</",c:[t,e.CLCM,e.CBCM,{cN:"string",v:[e.inherit(e.QSM,{b:'((u8?|U)|L)?"'}),{b:'(u8?|U)?R"',e:'"',c:[e.BE]},{b:"'\\\\?.",e:"'",i:"."}]},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},e.CNM,{cN:"preprocessor",b:"#",e:"$",k:"if else elif endif define undef warning error line pragma",c:[{b:/\\\n/,r:0},{b:'include\\s*[<"]',e:'[>"]',k:"include",i:"\\n"},e.CLCM]},{b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:n,c:["self",t]},{b:e.IR+"::",k:n},{bK:"new throw return else",r:0},{cN:"function",b:"("+e.IR+"\\s+)+"+e.IR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:n,c:[{b:e.IR+"\\s*\\(",rB:!0,c:[e.TM],r:0},{cN:"params",b:/\(/,e:/\)/,k:n,r:0,c:[e.CBCM]},e.CLCM,e.CBCM]}]}}),hljs.registerLanguage("makefile",function(e){var t={cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]};return{aliases:["mk","mak"],c:[e.HCM,{b:/^\w+\s*\W*=/,rB:!0,r:0,starts:{cN:"constant",e:/\s*\W*=/,eE:!0,starts:{e:/$/,r:0,c:[t]}}},{cN:"title",b:/^[\w]+:\s*$/},{cN:"phony",b:/^\.PHONY:/,e:/$/,k:".PHONY",l:/[\.\w]+/},{b:/^\t+/,e:/$/,r:0,c:[e.QSM,t]}]}}),hljs.registerLanguage("markdown",function(){return{aliases:["md","mkdown","mkd"],c:[{cN:"header",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",r:0},{cN:"bullet",b:"^([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",r:0}]},{cN:"blockquote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"`.+?`"},{b:"^( {4}|	)",e:"$",r:0}]},{cN:"horizontal_rule",b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].*?[\\)\\]]",rB:!0,c:[{cN:"link_label",b:"\\[",e:"\\]",eB:!0,rE:!0,r:0},{cN:"link_url",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"link_reference",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],r:10},{b:"^\\[.+\\]:",rB:!0,c:[{cN:"link_reference",b:"\\[",e:"\\]:",eB:!0,eE:!0,starts:{cN:"link_url",e:"$"}}]}]}}),hljs.registerLanguage("python",function(e){var t={cN:"prompt",b:/^(>>>|\.\.\.) /},n={cN:"string",c:[e.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[t],r:10},{b:/(u|b)?r?"""/,e:/"""/,c:[t],r:10},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)"/,e:/"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},e.ASM,e.QSM]},r={cN:"number",r:0,v:[{b:e.BNR+"[lLjJ]?"},{b:"\\b(0o[0-7]+)[lLjJ]?"},{b:e.CNR+"[lLjJ]?"}]},i={cN:"params",b:/\(/,e:/\)/,c:["self",t,r,n]};return{aliases:["py","gyp"],k:{keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},i:/(<\/|->|\?)/,c:[t,r,n,e.HCM,{v:[{cN:"function",bK:"def",r:10},{cN:"class",bK:"class"}],e:/:/,i:/[${=;\n,]/,c:[e.UTM,i]},{cN:"decorator",b:/@/,e:/$/},{b:/\b(print|exec)\(/}]}}),hljs.registerLanguage("swift",function(e){var t={keyword:"class deinit enum extension func import init let protocol static struct subscript typealias var break case continue default do else fallthrough if in for return switch where while as dynamicType is new super self Self Type __COLUMN__ __FILE__ __FUNCTION__ __LINE__ associativity didSet get infix inout left mutating none nonmutating operator override postfix precedence prefix right set unowned unowned safe unsafe weak willSet",literal:"true false nil",built_in:"abs advance alignof alignofValue assert bridgeFromObjectiveC bridgeFromObjectiveCUnconditional bridgeToObjectiveC bridgeToObjectiveCUnconditional c contains count countElements countLeadingZeros debugPrint debugPrintln distance dropFirst dropLast dump encodeBitsAsWords enumerate equal filter find getBridgedObjectiveCType getVaList indices insertionSort isBridgedToObjectiveC isBridgedVerbatimToObjectiveC isUniquelyReferenced join lexicographicalCompare map max maxElement min minElement numericCast partition posix print println quickSort reduce reflect reinterpretCast reverse roundUpToAlignment sizeof sizeofValue sort split startsWith strideof strideofValue swap swift toString transcode underestimateCount unsafeReflect withExtendedLifetime withObjectAtPlusZero withUnsafePointer withUnsafePointerToObject withUnsafePointers withVaList"},n={cN:"type",b:"\\b[A-Z][\\w']*",r:0},r=e.C("/\\*","\\*/",{c:["self"]}),i={cN:"subst",b:/\\\(/,e:"\\)",k:t,c:[]},o={cN:"number",b:"\\b([\\d_]+(\\.[\\deE_]+)?|0x[a-fA-F0-9_]+(\\.[a-fA-F0-9p_]+)?|0b[01_]+|0o[0-7_]+)\\b",r:0},a=e.inherit(e.QSM,{c:[i,e.BE]});return i.c=[o],{k:t,c:[a,e.CLCM,r,n,o,{cN:"func",bK:"func",e:"{",eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/,i:/\(/}),{cN:"generics",b:/</,e:/>/,i:/>/},{cN:"params",b:/\(/,e:/\)/,endsParent:!0,k:t,c:["self",o,a,e.CBCM,{b:":"}],i:/["']/}],i:/\[|%/},{cN:"class",bK:"struct protocol class extension enum",k:t,e:"\\{",eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/})]},{cN:"preprocessor",b:"(@assignment|@class_protocol|@exported|@final|@lazy|@noreturn|@NSCopying|@NSManaged|@objc|@optional|@required|@auto_closure|@noreturn|@IBAction|@IBDesignable|@IBInspectable|@IBOutlet|@infix|@prefix|@postfix)"}]}}),hljs.registerLanguage("xml",function(e){var t="[A-Za-z0-9\\._:-]+",n={b:/<\?(php)?(?!\w)/,e:/\?>/,sL:"php",subLanguageMode:"continuous"},r={eW:!0,i:/</,r:0,c:[n,{cN:"attribute",b:t,r:0},{b:"=",r:0,c:[{cN:"value",c:[n],v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s\/>]+/}]}]}]};
return{aliases:["html","xhtml","rss","atom","xsl","plist"],cI:!0,c:[{cN:"doctype",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},e.C("<!--","-->",{r:10}),{cN:"cdata",b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{title:"style"},c:[r],starts:{e:"</style>",rE:!0,sL:"css"}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{title:"script"},c:[r],starts:{e:"</script>",rE:!0,sL:""}},n,{cN:"pi",b:/<\?\w+/,e:/\?>/,r:10},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"title",b:/[^ \/><\n\t]+/,r:0},r]}]}}),hljs.registerLanguage("java",function(e){var t=e.UIR+"(<"+e.UIR+">)?",n="false synchronized int abstract float private char boolean static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private",r="\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",i={cN:"number",b:r,r:0};return{aliases:["jsp"],k:n,i:/<\//,c:[e.C("/\\*\\*","\\*/",{r:0,c:[{cN:"doctag",b:"@[A-Za-z]+"}]}),e.CLCM,e.CBCM,e.ASM,e.QSM,{cN:"class",bK:"class interface",e:/[{;=]/,eE:!0,k:"class interface",i:/[:"\[\]]/,c:[{bK:"extends implements"},e.UTM]},{bK:"new throw return else",r:0},{cN:"function",b:"("+t+"\\s+)+"+e.UIR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:n,c:[{b:e.UIR+"\\s*\\(",rB:!0,r:0,c:[e.UTM]},{cN:"params",b:/\(/,e:/\)/,k:n,r:0,c:[e.ASM,e.QSM,e.CNM,e.CBCM]},e.CLCM,e.CBCM]},i,{cN:"annotation",b:"@[A-Za-z]+"}]}}),hljs.registerLanguage("sql",function(e){var t=e.C("--","$");return{cI:!0,i:/[<>]/,c:[{cN:"operator",bK:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate savepoint release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke",e:/;/,eW:!0,k:{keyword:"abs absolute acos action add adddate addtime aes_decrypt aes_encrypt after aggregate all allocate alter analyze and any are as asc ascii asin assertion at atan atan2 atn2 authorization authors avg backup before begin benchmark between bin binlog bit_and bit_count bit_length bit_or bit_xor both by cache call cascade cascaded case cast catalog ceil ceiling chain change changed char_length character_length charindex charset check checksum checksum_agg choose close coalesce coercibility collate collation collationproperty column columns columns_updated commit compress concat concat_ws concurrent connect connection connection_id consistent constraint constraints continue contributors conv convert convert_tz corresponding cos cot count count_big crc32 create cross cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime data database databases datalength date_add date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts datetimeoffsetfromparts day dayname dayofmonth dayofweek dayofyear deallocate declare decode default deferrable deferred degrees delayed delete des_decrypt des_encrypt des_key_file desc describe descriptor diagnostics difference disconnect distinct distinctrow div do domain double drop dumpfile each else elt enclosed encode encrypt end end-exec engine engines eomonth errors escape escaped event eventdata events except exception exec execute exists exp explain export_set extended external extract fast fetch field fields find_in_set first first_value floor flush for force foreign format found found_rows from from_base64 from_days from_unixtime full function get get_format get_lock getdate getutcdate global go goto grant grants greatest group group_concat grouping grouping_id gtid_subset gtid_subtract handler having help hex high_priority hosts hour ident_current ident_incr ident_seed identified identity if ifnull ignore iif ilike immediate in index indicator inet6_aton inet6_ntoa inet_aton inet_ntoa infile initially inner innodb input insert install instr intersect into is is_free_lock is_ipv4 is_ipv4_compat is_ipv4_mapped is_not is_not_null is_used_lock isdate isnull isolation join key kill language last last_day last_insert_id last_value lcase lead leading least leaves left len lenght level like limit lines ln load load_file local localtime localtimestamp locate lock log log10 log2 logfile logs low_priority lower lpad ltrim make_set makedate maketime master master_pos_wait match matched max md5 medium merge microsecond mid min minute mod mode module month monthname mutex name_const names national natural nchar next no no_write_to_binlog not now nullif nvarchar oct octet_length of old_password on only open optimize option optionally or ord order outer outfile output pad parse partial partition password patindex percent_rank percentile_cont percentile_disc period_add period_diff pi plugin position pow power pragma precision prepare preserve primary prior privileges procedure procedure_analyze processlist profile profiles public publishingservername purge quarter query quick quote quotename radians rand read references regexp relative relaylog release release_lock rename repair repeat replace replicate reset restore restrict return returns reverse revoke right rlike rollback rollup round row row_count rows rpad rtrim savepoint schema scroll sec_to_time second section select serializable server session session_user set sha sha1 sha2 share show sign sin size slave sleep smalldatetimefromparts snapshot some soname soundex sounds_like space sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sql_variant_property sqlstate sqrt square start starting status std stddev stddev_pop stddev_samp stdev stdevp stop str str_to_date straight_join strcmp string stuff subdate substr substring subtime subtring_index sum switchoffset sysdate sysdatetime sysdatetimeoffset system_user sysutcdatetime table tables tablespace tan temporary terminated tertiary_weights then time time_format time_to_sec timediff timefromparts timestamp timestampadd timestampdiff timezone_hour timezone_minute to to_base64 to_days to_seconds todatetimeoffset trailing transaction translation trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse ucase uncompress uncompressed_length unhex unicode uninstall union unique unix_timestamp unknown unlock update upgrade upped upper usage use user user_resources using utc_date utc_time utc_timestamp uuid uuid_short validate_password_strength value values var var_pop var_samp variables variance varp version view warnings week weekday weekofyear weight_string when whenever where with work write xml xor year yearweek zon",literal:"true false null",built_in:"array bigint binary bit blob boolean char character date dec decimal float int integer interval number numeric real serial smallint varchar varying int8 serial8 text"},c:[{cN:"string",b:"'",e:"'",c:[e.BE,{b:"''"}]},{cN:"string",b:'"',e:'"',c:[e.BE,{b:'""'}]},{cN:"string",b:"`",e:"`",c:[e.BE]},e.CNM,e.CBCM,t]},e.CBCM,t]}}),hljs.registerLanguage("json",function(e){var t={literal:"true false null"},n=[e.QSM,e.CNM],r={cN:"value",e:",",eW:!0,eE:!0,c:n,k:t},i={b:"{",e:"}",c:[{cN:"attribute",b:'\\s*"',e:'"\\s*:\\s*',eB:!0,eE:!0,c:[e.BE],i:"\\n",starts:r}],i:"\\S"},o={b:"\\[",e:"\\]",c:[e.inherit(r,{cN:null})],i:"\\S"};return n.splice(n.length,0,i,o),{c:n,k:t,i:"\\S"}}),hljs.registerLanguage("bash",function(e){var t={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)}/}]},n={cN:"string",b:/"/,e:/"/,c:[e.BE,t,{cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]}]},r={cN:"string",b:/'/,e:/'/};return{aliases:["sh","zsh"],l:/-?[a-z\.]+/,k:{keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",operator:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"shebang",b:/^#![^\n]+sh\s*$/,r:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[e.inherit(e.TM,{b:/\w[\w\d_]*/})],r:0},e.HCM,e.NM,n,r,t]}}),hljs.registerLanguage("gradle",function(e){return{cI:!0,k:{keyword:"task project allprojects subprojects artifacts buildscript configurations dependencies repositories sourceSets description delete from into include exclude source classpath destinationDir includes options sourceCompatibility targetCompatibility group flatDir doLast doFirst flatten todir fromdir ant def abstract break case catch continue default do else extends final finally for if implements instanceof native new private protected public return static switch synchronized throw throws transient try volatile while strictfp package import false null super this true antlrtask checkstyle codenarc copy boolean byte char class double float int interface long short void compile runTime file fileTree abs any append asList asWritable call collect compareTo count div dump each eachByte eachFile eachLine every find findAll flatten getAt getErr getIn getOut getText grep immutable inject inspect intersect invokeMethods isCase join leftShift minus multiply newInputStream newOutputStream newPrintWriter newReader newWriter next plus pop power previous print println push putAt read readBytes readLines reverse reverseEach round size sort splitEachLine step subMap times toInteger toList tokenize upto waitForOrKill withPrintWriter withReader withStream withWriter withWriterAppend write writeLine"},c:[e.CLCM,e.CBCM,e.ASM,e.QSM,e.NM,e.RM]}}),hljs.registerLanguage("diff",function(){return{aliases:["patch"],c:[{cN:"chunk",r:10,v:[{b:/^@@ +\-\d+,\d+ +\+\d+,\d+ +@@$/},{b:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{b:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{cN:"header",v:[{b:/Index: /,e:/$/},{b:/=====/,e:/=====$/},{b:/^\-\-\-/,e:/$/},{b:/^\*{3} /,e:/$/},{b:/^\+\+\+/,e:/$/},{b:/\*{5}/,e:/\*{5}$/}]},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"change",b:"^\\!",e:"$"}]}}),function(){"use strict";angular.module("hc.marked",[]).provider("marked",function(){var e=this;e.setOptions=function(e){this.defaults=e},e.$get=["$window",function(t){var n=t.marked;return e.setOptions=n.setOptions,n.setOptions(e.defaults),n}]}).directive("marked",["marked",function(e){return{restrict:"AE",replace:!0,scope:{opts:"=",marked:"="},link:function(t,n,r){function i(r){n.html(e(r||"",t.opts||null))}i(t.marked||n.text()||""),r.marked&&t.$watch("marked",i)}}}])}(),function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||f.defaults,this.rules=d.normal,this.options.gfm&&(this.rules=this.options.tables?d.tables:d.gfm)}function t(e,t){if(this.options=t||f.defaults,this.links=e,this.rules=p.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?p.breaks:p.gfm:this.options.pedantic&&(this.rules=p.pedantic),this.emojiTemplate=r(t)}function n(e){return'<img src="/graphics/emojis/'+encodeURIComponent(e)+'.png" alt=":'+a(e)+':" title=":'+a(e)+':" class="emoji" align="absmiddle" height="20" width="20">'}function r(e){if(e.emoji){if("function"==typeof e.emoji)return e.emoji;if("string"==typeof e.emoji){var t=e.emoji.split(/\{emoji\}/g);return function(e){return t.join(e)}}}return n}function i(e){this.options=e||{}}function o(e){this.tokens=[],this.token=null,this.options=e||f.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function a(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function s(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?String.fromCharCode("x"===t.charAt(1)?parseInt(t.substring(2),16):+t.substring(1)):""})}function l(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):new RegExp(e,t)}}function u(){}function c(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function f(t,n,r){if(r||"function"==typeof n){r||(r=n,n=null),n=c({},f.defaults,n||{});var i,s,l=n.highlight,u=0;try{i=e.lex(t,n)}catch(d){return r(d)}s=i.length;var p=function(e){if(e)return n.highlight=l,r(e);var t;try{t=o.parse(i,n)}catch(a){e=a}return n.highlight=l,e?r(e):r(null,t)};if(!l||l.length<3)return p();if(delete n.highlight,!s)return p();for(;u<i.length;u++)!function(e){return"code"!==e.type?--s||p():l(e.text,e.lang,function(t,n){return t?p(t):null==n||n===e.text?--s||p():(e.text=n,e.escaped=!0,void(--s||p()))})}(i[u])}else try{return n&&(n=c({},f.defaults,n)),o.parse(e.lex(t,n),n)}catch(d){if(d.message+="\nPlease report this to https://github.com/chjj/marked.",(n||f.defaults).silent)return"<p>An error occured:</p><pre>"+a(d.message+"",!0)+"</pre>";throw d}}var d={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:u,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:u,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:u,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};d.bullet=/(?:[*+-]|\d+\.)/,d.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,d.item=l(d.item,"gm")(/bull/g,d.bullet)(),d.list=l(d.list)(/bull/g,d.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+d.def.source+")")(),d.blockquote=l(d.blockquote)("def",d.def)(),d._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",d.html=l(d.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,d._tag)(),d.paragraph=l(d.paragraph)("hr",d.hr)("heading",d.heading)("lheading",d.lheading)("blockquote",d.blockquote)("tag","<"+d._tag)("def",d.def)(),d.normal=c({},d),d.gfm=c({},d.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),d.gfm.paragraph=l(d.paragraph)("(?!","(?!"+d.gfm.fences.source.replace("\\1","\\2")+"|"+d.list.source.replace("\\1","\\3")+"|")(),d.tables=c({},d.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=d,e.lex=function(t,n){var r=new e(n);return r.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var r,i,o,a,s,l,u,c,f,e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)l.align[c]=/^ *-+: *$/.test(l.align[c])?"right":/^ *:-+: *$/.test(l.align[c])?"center":/^ *:-+ *$/.test(l.align[c])?"left":null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),a=o[2],this.tokens.push({type:"list_start",ordered:a.length>1}),o=o[0].match(this.rules.item),r=!1,f=o.length,c=0;f>c;c++)l=o[c],u=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==f-1&&(s=d.bullet.exec(o[c+1])[0],a===s||a.length>1&&s.length>1||(e=o.slice(c+1).join("\n")+e,c=f-1)),i=r||/\n\n(?!\s*$)/.test(l),c!==f-1&&(r="\n"===l.charAt(l.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)l.align[c]=/^ *-+: *$/.test(l.align[c])?"right":/^ *:-+: *$/.test(l.align[c])?"center":/^ *:-+ *$/.test(l.align[c])?"left":null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:u,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:u,emoji:u,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};p._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,p._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,p.link=l(p.link)("inside",p._inside)("href",p._href)(),p.reflink=l(p.reflink)("inside",p._inside)(),p.normal=c({},p),p.pedantic=c({},p.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),p.gfm=c({},p.normal,{escape:l(p.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,emoji:/^:([A-Za-z0-9_\-\+\|]+?):/,text:l(p.text)("]|",":~]|")("|","|https?://|")()}),p.breaks=c({},p.gfm,{br:l(p.br)("{2,}","*")(),text:l(p.gfm.text)("{2,}","*")()}),t.rules=p,t.output=function(e,n,r){var i=new t(n,r);return i.output(e)},t.prototype.output=function(e){for(var t,n,r,i,o="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),o+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=this.mangle(":"===i[1].charAt(6)?i[1].substring(7):i[1]),r=this.mangle("mailto:")+n):(n=a(i[1]),r=n),o+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):a(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,o+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){o+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),o+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),o+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),o+=this.renderer.codespan(a(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),o+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),o+=this.renderer.del(this.output(i[1]));else if(i=this.rules.emoji.exec(e))e=e.substring(i[0].length),o+=this.emoji(i[1]);else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),o+=this.renderer.text(a(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),n=a(i[1]),r=n,o+=this.renderer.link(r,null,n);return o},t.prototype.outputLink=function(e,t){var n=a(t.href),r=t.title?a(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,a(e[1]))},t.prototype.emojiTemplate=n,t.prototype.emoji=function(e){return this.options.emoji?this.emojiTemplate(e):":"+e+":"},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e},t.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,i=0;r>i;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},i.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+a(t,!0)+'">'+(n?e:a(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:a(e,!0))+"\n</code></pre>"},i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},i.prototype.html=function(e){return e},i.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},i.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},i.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},i.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},i.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},i.prototype.strong=function(e){return"<strong>"+e+"</strong>"},i.prototype.em=function(e){return"<em>"+e+"</em>"},i.prototype.codespan=function(e){return"<code>"+e+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(e){return"<del>"+e+"</del>"},i.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(s(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(i){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>"},i.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},i.prototype.text=function(e){return e},o.parse=function(e,t,n){var r=new o(t,n);return r.parse(e)},o.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},o.prototype.next=function(){return this.token=this.tokens.pop()},o.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},o.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},o.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,i,o="",a="";for(n="",e=0;e<this.token.header.length;e++)r={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});a+=this.renderer.tablerow(n)}return this.renderer.table(o,a);case"blockquote_start":for(var a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":for(var a="",s=this.token.ordered;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,s);case"list_item_start":for(var a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(var a="";"list_item_end"!==this.next().type;)a+=this.tok();return this.renderer.listitem(a);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},u.exec=u,f.options=f.setOptions=function(e){return c(f.defaults,e),f},f.defaults={gfm:!0,emoji:!1,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new i,xhtml:!1},f.Parser=o,f.parser=o.parse,f.Renderer=i,f.Lexer=e,f.lexer=e.lex,f.InlineLexer=t,f.inlineLexer=t.output,f.parse=f,"undefined"!=typeof module&&"object"==typeof exports?module.exports=f:"function"==typeof define&&define.amd?define(function(){return f}):this.marked=f}.call(function(){return this||("undefined"!=typeof window?window:global)}()),function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n,r,a,s,l){function u(){return"input"===t[0].tagName.toLowerCase()&&t.attr("type")&&"file"===t.attr("type").toLowerCase()}function c(t){if(!m){m=!0;try{for(var l=t.__files_||t.target&&t.target.files,u=[],c=[],f=0;f<l.length;f++){var d=l.item(f);o(e,a,n,d,t)?u.push(d):c.push(d)}i(a,s,e,r,n,n.ngfChange||n.ngfSelect,u,c,t),0==u.length&&(t.target.value=u)}finally{m=!1}}}function f(r){n.ngfMultiple&&r.attr("multiple",a(n.ngfMultiple)(e)),a(n.ngfMultiple)(e)||r.attr("multiple",void 0),n.accept&&r.attr("accept",n.accept),n.ngfCapture&&r.attr("capture",a(n.ngfCapture)(e));for(var i=0;i<t[0].attributes.length;i++){var o=t[0].attributes[i];(u()&&"type"!==o.name||"type"!==o.name&&"class"!==o.name&&"id"!==o.name&&"style"!==o.name)&&r.attr(o.name,o.value)}}function d(){if(!t.attr("disabled")){var n=angular.element('<input type="file">');return f(n),u()?(t.replaceWith(n),t=n,n.attr("__ngf_gen__",!0),l(t)(e)):(n.css("visibility","hidden").css("position","absolute").css("width","1").css("height","1").css("z-index","-100000").attr("tabindex","-1"),t.__ngf_ref_elem__&&t.__ngf_ref_elem__.remove(),t.__ngf_ref_elem__=n,document.body.appendChild(n[0])),n}}function p(t){i(a,s,e,r,n,n.ngfChange||n.ngfSelect,[],[],t,!0)}function h(e){function n(){r[0].click(),u()&&(t.bind("click touchend",h),e.preventDefault())}e.preventDefault();var r=d(e);r&&(r.bind("change",c),p(e),navigator.userAgent.toLowerCase().match(/android/)?setTimeout(function(){n()},0):n())}if(!t.attr("__ngf_gen__")){var m=!1;window.FileAPI&&window.FileAPI.ngfFixIE?window.FileAPI.ngfFixIE(t,d,f,c,p):t.bind("click touchend",h)}}function n(e,t,n,a,s,l,u){function c(e,t,n){var r=!0,i=n.dataTransfer.items;if(null!=i)for(var a=0;a<i.length&&r;a++)r=r&&("file"==i[a].kind||""==i[a].kind)&&o(e,s,t,i[a],n);var l=s(t.ngfDragOverClass)(e,{$event:n});return l&&(l.delay&&(g=l.delay),l.accept&&(l=r?l.accept:l.reject)),l||t.ngfDragOverClass||"dragover"}function f(t,r,i,a){function c(r){o(e,s,n,r,t)?d.push(r):p.push(r)}function f(e,t,n){if(null!=t)if(t.isDirectory){var r=(n||"")+t.name;c({name:t.name,type:"directory",path:r});var i=t.createReader(),o=[];m++;var a=function(){i.readEntries(function(r){try{if(r.length)o=o.concat(Array.prototype.slice.call(r||[],0)),a();else{for(var i=0;i<o.length;i++)f(e,o[i],(n?n:"")+t.name+"/");m--}}catch(s){m--,console.error(s)}},function(){m--})};a()}else m++,t.file(function(e){try{m--,e.path=(n?n:"")+e.name,c(e)}catch(t){m--,console.error(t)}},function(){m--})}var d=[],p=[],h=t.dataTransfer.items,m=0;if(h&&h.length>0&&"file"!=u.protocol())for(var g=0;g<h.length;g++){if(h[g].webkitGetAsEntry&&h[g].webkitGetAsEntry()&&h[g].webkitGetAsEntry().isDirectory){var v=h[g].webkitGetAsEntry();if(v.isDirectory&&!i)continue;null!=v&&f(d,v)}else{var y=h[g].getAsFile();null!=y&&c(y)}if(!a&&d.length>0)break}else{var b=t.dataTransfer.files;if(null!=b)for(var g=0;g<b.length&&(c(b.item(g)),a||!(d.length>0));g++);}var w=0;!function x(e){l(function(){if(m)10*w++<2e4&&x(10);else{if(!a&&d.length>1){for(g=0;"directory"==d[g].type;)g++;d=[d[g]]}r(d,p)}},e||0)}()}var d=r();if(n.dropAvailable&&l(function(){e[n.dropAvailable]?e[n.dropAvailable].value=d:e[n.dropAvailable]=d}),!d)return void(1==s(n.ngfHideOnDropNotAvailable)(e)&&t.css("display","none"));{var p,h=null,m=s(n.ngfStopPropagation),g=1;s(n.ngfAccept)}t[0].addEventListener("dragover",function(r){if(!t.attr("disabled")){if(r.preventDefault(),m(e)&&r.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var i=r.dataTransfer.effectAllowed;r.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy"}l.cancel(h),e.actualDragOverClass||(p=c(e,n,r)),t.addClass(p)}},!1),t[0].addEventListener("dragenter",function(n){t.attr("disabled")||(n.preventDefault(),m(e)&&n.stopPropagation())},!1),t[0].addEventListener("dragleave",function(){t.attr("disabled")||(h=l(function(){t.removeClass(p),p=null},g||1))},!1),t[0].addEventListener("drop",function(r){t.attr("disabled")||(r.preventDefault(),m(e)&&r.stopPropagation(),t.removeClass(p),p=null,f(r,function(t,o){i(s,l,e,a,n,n.ngfChange||n.ngfDrop,t,o,r)},0!=s(n.ngfAllowDir)(e),n.multiple||s(n.ngfMultiple)(e)))},!1)}function r(){var e=document.createElement("div");
return"draggable"in e&&"ondrop"in e}function i(e,t,n,r,i,o,a,s,l,u){function c(){r&&(e(i.ngModel).assign(n,a),t(function(){r&&r.$setViewValue(null!=a&&0==a.length?null:a)})),i.ngModelRejected&&e(i.ngModelRejected).assign(n,s),o&&e(o)(n,{$files:a,$rejectedFiles:s,$event:l})}u?c():t(function(){c()})}function o(e,t,n,r,i){var o=t(n.ngfAccept)(e,{$file:r,$event:i}),s=t(n.ngfMaxSize)(e,{$file:r,$event:i})||9007199254740991,l=t(n.ngfMinSize)(e,{$file:r,$event:i})||-1;if(null!=o&&angular.isString(o)){var u=new RegExp(a(o),"gi");o=null!=r.type&&u.test(r.type.toLowerCase())||null!=r.name&&u.test(r.name.toLowerCase())}return(null==o||o)&&(null==r.size||r.size<s&&r.size>l)}function a(e){if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])return e.substring(1,e.length-1);var t=e.split(","),n="";if(t.length>1)for(var r=0;r<t.length;r++)n+="("+a(t[r])+")",r<t.length-1&&(n+="|");else 0==e.indexOf(".")&&(e="*"+e),n="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",n=n.replace(/\\\*/g,".*").replace(/\\\?/g,".");return n}var s;window.XMLHttpRequest&&!window.XMLHttpRequest.__isFileAPIShim&&e("setRequestHeader",function(e){return function(t,n){if("__setXHR_"===t){var r=n(this);r instanceof Function&&r(this)}else e.apply(this,arguments)}});var l=angular.module("ngFileUpload",[]);l.version="4.2.1",l.service("Upload",["$http","$q","$timeout",function(e,t,n){function r(r){r.method=r.method||"POST",r.headers=r.headers||{},r.transformRequest=r.transformRequest||function(t,n){return window.ArrayBuffer&&t instanceof window.ArrayBuffer?t:e.defaults.transformRequest[0](t,n)};var i=t.defer(),o=i.promise;return r.headers.__setXHR_=function(){return function(e){e&&(r.__XHR=e,r.xhrFn&&r.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=r,i.notify?i.notify(e):o.progress_fn&&n(function(){o.progress_fn(e)})},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=r,i.notify?i.notify(e):o.progress_fn&&n(function(){o.progress_fn(e)}))},!1))}},e(r).then(function(e){i.resolve(e)},function(e){i.reject(e)},function(e){i.notify(e)}),o.success=function(e){return o.then(function(t){e(t.data,t.status,t.headers,r)}),o},o.error=function(e){return o.then(null,function(t){e(t.data,t.status,t.headers,r)}),o},o.progress=function(e){return o.progress_fn=e,o.then(null,null,function(t){e(t)}),o},o.abort=function(){return r.__XHR&&n(function(){r.__XHR.abort()}),o},o.xhr=function(e){return r.xhrFn=function(t){return function(){t&&t.apply(o,arguments),e.apply(o,arguments)}}(r.xhrFn),o},o}this.upload=function(e){return e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var n=new FormData,r={};for(s in e.fields)e.fields.hasOwnProperty(s)&&(r[s]=e.fields[s]);if(t&&(r.data=t),e.formDataAppender)for(s in r)r.hasOwnProperty(s)&&e.formDataAppender(n,s,r[s]);else for(s in r)if(r.hasOwnProperty(s)){var i=r[s];void 0!==i&&(angular.isDate(i)&&(i=i.toISOString()),angular.isString(i)?n.append(s,i):e.sendObjectsAsJsonBlob&&angular.isObject(i)?n.append(s,new Blob([i],{type:"application/json"})):n.append(s,JSON.stringify(i)))}if(null!=e.file){var o=e.fileFormDataName||"file";if(angular.isArray(e.file))for(var a=angular.isString(o),l=0;l<e.file.length;l++)n.append(a?o:o[l],e.file[l],e.fileName&&e.fileName[l]||e.file[l].name);else n.append(o,e.file,e.fileName||e.file.name)}return n}),r(e)},this.http=function(e){return r(e)}}]),l.directive("ngfSelect",["$parse","$timeout","$compile",function(e,n,r){return{restrict:"AEC",require:"?ngModel",link:function(i,o,a,s){t(i,o,a,s,e,n,r)}}}]),l.directive("ngfDrop",["$parse","$timeout","$location",function(e,t,r){return{restrict:"AEC",require:"?ngModel",link:function(i,o,a,s){n(i,o,a,s,e,t,r)}}}]),l.directive("ngfNoFileDrop",function(){return function(e,t){r()&&t.css("display","none")}}),l.directive("ngfDropAvailable",["$parse","$timeout",function(e,t){return function(n,i,o){if(r()){var a=e(o.ngfDropAvailable);t(function(){a(n),a.assign&&a.assign(n,!0)})}}}]),l.directive("ngfSrc",["$parse","$timeout",function(e,t){return{restrict:"AE",link:function(n,r,i){window.FileReader&&n.$watch(i.ngfSrc,function(a){a&&o(n,e,i,a,null)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||a.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||a.size<4e6)?t(function(){var e=new FileReader;e.readAsDataURL(a),e.onload=function(e){t(function(){r.attr("src",e.target.result)})}}):r.attr("src",i.ngfDefaultSrc||"")})}}}])}(),function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(r){}}function n(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}var r=function(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!=navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1};if(window.XMLHttpRequest&&!window.FormData||window.FileAPI&&FileAPI.forceLoad){var i=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,r){e.__listeners[n]=r,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,n,r){i(this),this.__url=n;try{e.apply(this,[t,n,r])}catch(o){o.message.indexOf("Access is denied")>-1&&(this.__origError=o,e.apply(this,[t,"_fix_for_ie_crossdomain__",r]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,n){if("__setXHR_"===t){i(this);var r=n(this);r instanceof Function&&r(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=n,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var i=arguments[0],o={url:n.__url,jsonp:!1,cache:!0,complete:function(e,r){n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==r.status&&t(n,"status",function(){return 0==r.status&&e&&"abort"!==e?500:r.status}),void 0!==r.statusText&&t(n,"statusText",function(){return r.statusText}),t(n,"readyState",function(){return 4}),void 0!==r.response&&t(n,"response",function(){return r.response});var i=r.responseText||(e&&0==r.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return i}),t(n,"response",function(){return i}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=r,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};o.data={},o.files={};for(var a=0;a<i.data.length;a++){var s=i.data[a];null!=s.val&&null!=s.val.name&&null!=s.val.size&&null!=s.val.type?o.files[s.key]=s.val:o.data[s.key]=s.val}setTimeout(function(){if(!r())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(o)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}},function(){if(window.FileAPI||(window.FileAPI={}),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var e,t,n,i,o,a=document.createElement("script"),s=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)e=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)t=window.FileAPI.jsPath;else for(n=0;n<s.length;n++)if(o=s[n].src,i=o.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),i>-1){t=o.substring(0,i+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=t),a.setAttribute("src",e||t+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(a),FileAPI.hasFlash=r()}}(),FileAPI.ngfFixIE=function(e,t,i,o){if(!r())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var a=function(){function r(e){var t,n;if(t=n=0,e.offsetParent)do t+=e.offsetLeft,n+=e.offsetTop;while(e=e.offsetParent);return{left:t,top:n}}if(e.attr("disabled"))e.__ngf_elem__.removeClass("js-fileapi-wrapper");else{var l=e.__ngf_elem__;l?i(e.__ngf_elem__):(l=e.__ngf_elem__=t(),l.addClass("js-fileapi-wrapper"),!n(e),setTimeout(function(){l.bind("mouseenter",a)},10),l.bind("change",function(e){s.apply(this,[e]),o.apply(this,[e])})),n(e)||l.css("position","absolute").css("top",r(e[0]).top+"px").css("left",r(e[0]).left+"px").css("width",e[0].offsetWidth+"px").css("height",e[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",e.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible")}};e.bind("mouseenter",a);var s=function(e){for(var t=FileAPI.getFiles(e),n=0;n<t.length;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!=t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var r=0;r<n.length;r++)n[r].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var r={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(r.target.result=n.result),r},r=function(r){if(t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",r))),"load"===r.type){e.onloadend&&e.onloadend(n("loadend",r));var i=n("load",r);e.onload&&e.onload(i),e.dispatchEvent(i)}else if("progress"===r.type){var i=n("progress",r);e.onprogress&&e.onprogress(i),e.dispatchEvent(i)}else{var i=n("error",r);e.onerror&&e.onerror(i),e.dispatchEvent(i)}};this.readAsArrayBuffer=function(e){FileAPI.readAsBinaryString(e,r)},this.readAsBinaryString=function(e){FileAPI.readAsBinaryString(e,r)},this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,r)},this.readAsText=function(e){FileAPI.readAsText(e,r)}})}(),function(){function e(e){function t(t,n,r,i,o,a){for(;o>=0&&a>o;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r}return function(n,r,i,o){r=b(r,o,4);var a=!$(n)&&y.keys(n),s=(a||n).length,l=e>0?0:s-1;return arguments.length<3&&(i=n[a?a[l]:l],l+=e),t(n,r,i,a,l,s)}}function t(e){return function(t,n,r){n=w(n,r);for(var i=S(t),o=e>0?0:i-1;o>=0&&i>o;o+=e)if(n(t[o],o,t))return o;return-1}}function n(e,t,n){return function(r,i,o){var a=0,s=S(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(c.call(r,a,s),y.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&s>o;o+=e)if(r[o]===i)return o;return-1}}function r(e,t){var n=A.length,r=e.constructor,i=y.isFunction(r)&&r.prototype||s,o="constructor";for(y.has(e,o)&&!y.contains(t,o)&&t.push(o);n--;)o=A[n],o in e&&e[o]!==i[o]&&!y.contains(t,o)&&t.push(o)}var i=this,o=i._,a=Array.prototype,s=Object.prototype,l=Function.prototype,u=a.push,c=a.slice,f=s.toString,d=s.hasOwnProperty,p=Array.isArray,h=Object.keys,m=l.bind,g=Object.create,v=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return null==e?y.identity:y.isFunction(e)?b(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return w(e,t,1/0)};var x=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],a=e(o),s=a.length,l=0;s>l;l++){var u=a[l];t&&void 0!==n[u]||(n[u]=o[u])}return n}},k=function(e){if(!y.isObject(e))return{};if(g)return g(e);v.prototype=e;var t=new v;return v.prototype=null,t},C=function(e){return function(t){return null==t?void 0:t[e]}},_=Math.pow(2,53)-1,S=C("length"),$=function(e){var t=S(e);return"number"==typeof t&&t>=0&&_>=t};y.each=y.forEach=function(e,t,n){t=b(t,n);var r,i;if($(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var o=y.keys(e);for(r=0,i=o.length;i>r;r++)t(e[o[r]],o[r],e)}return e},y.map=y.collect=function(e,t,n){t=w(t,n);for(var r=!$(e)&&y.keys(e),i=(r||e).length,o=Array(i),a=0;i>a;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,t,n){var r;return r=$(e)?y.findIndex(e,t,n):y.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},y.filter=y.select=function(e,t,n){var r=[];return t=w(t,n),y.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},y.reject=function(e,t,n){return y.filter(e,y.negate(w(t)),n)},y.every=y.all=function(e,t,n){t=w(t,n);for(var r=!$(e)&&y.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},y.some=y.any=function(e,t,n){t=w(t,n);for(var r=!$(e)&&y.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,r){return $(e)||(e=y.values(e)),("number"!=typeof n||r)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=c.call(arguments,2),r=y.isFunction(t);return y.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t&&null!=e){e=$(e)?e:y.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],r>o&&(o=r)}else t=w(t,n),y.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},y.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=$(e)?e:y.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],o>r&&(o=r)}else t=w(t,n),y.each(e,function(e,n,r){i=t(e,n,r),(a>i||1/0===i&&1/0===o)&&(o=e,a=i)});return o},y.shuffle=function(e){for(var t,n=$(e)?e:y.values(e),r=n.length,i=Array(r),o=0;r>o;o++)t=y.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},y.sample=function(e,t,n){return null==t||n?($(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=w(t,n),y.pluck(y.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var M=function(e){return function(t,n,r){var i={};return n=w(n,r),y.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};y.groupBy=M(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=M(function(e,t,n){e[n]=t}),y.countBy=M(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?c.call(e):$(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:$(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=w(t,n);var r=[],i=[];return y.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},y.first=y.head=y.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var T=function(e,t,n,r){for(var i=[],o=0,a=r||0,s=S(e);s>a;a++){var l=e[a];if($(l)&&(y.isArray(l)||y.isArguments(l))){t||(l=T(l,t,n));var u=0,c=l.length;for(i.length+=c;c>u;)i[o++]=l[u++]}else n||(i[o++]=l)}return i};y.flatten=function(e,t){return T(e,t,!1)},y.without=function(e){return y.difference(e,c.call(arguments,1))},y.uniq=y.unique=function(e,t,n,r){y.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=w(n,r));for(var i=[],o=[],a=0,s=S(e);s>a;a++){var l=e[a],u=n?n(l,a,e):l;t?(a&&o===u||i.push(l),o=u):n?y.contains(o,u)||(o.push(u),i.push(l)):y.contains(i,l)||i.push(l)}return i},y.union=function(){return y.uniq(T(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=S(e);i>r;r++){var o=e[r];if(!y.contains(t,o)){for(var a=1;n>a&&y.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},y.difference=function(e){var t=T(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,S).length||0,n=Array(t),r=0;t>r;r++)n[r]=y.pluck(e,r);return n},y.object=function(e,t){for(var n={},r=0,i=S(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(e,t,n,r){n=w(n,r,1);for(var i=n(t),o=0,a=S(e);a>o;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;r>o;o++,e+=n)i[o]=e;return i};var L=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=k(e.prototype),a=e.apply(o,i);return y.isObject(a)?a:o};y.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,c.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),r=function(){return L(e,r,t,this,n.concat(c.call(arguments)))};return r},y.partial=function(e){var t=c.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;i>a;a++)o[a]=t[a]===y?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return L(e,n,this,this,o)};return n},y.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return y.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:y.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var u=y.now();s||n.leading!==!1||(s=u);var c=t-(u-s);return r=this,i=arguments,0>=c||c>t?(a&&(clearTimeout(a),a=null),s=u,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(l,c)),o}},y.debounce=function(e,t,n){var r,i,o,a,s,l=function(){var u=y.now()-a;t>u&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=y.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(o,i),o=i=null),s}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},y.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},y.once=y.partial(y.before,2);var E=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return E&&r(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return E&&r(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},y.mapObject=function(e,t,n){t=w(t,n);for(var r,i=y.keys(e),o=i.length,a={},s=0;o>s;s++)r=i[s],a[r]=t(e[r],r,e);return a},y.pairs=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},y.invert=function(e){for(var t={},n=y.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=x(y.allKeys),y.extendOwn=y.assign=x(y.keys),y.findKey=function(e,t,n){t=w(t,n);for(var r,i=y.keys(e),o=0,a=i.length;a>o;o++)if(r=i[o],t(e[r],r,e))return r},y.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;y.isFunction(t)?(i=y.allKeys(a),r=b(t,n)):(i=T(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,l=i.length;l>s;s++){var u=i[s],c=a[u];r(c,u,a)&&(o[u]=c)}return o},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var r=y.map(T(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(r,t)}}return y.pick(e,t,n)},y.defaults=x(y.allKeys,!0),y.create=function(e,t){var n=k(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;r>o;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var D=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var i=f.call(e);if(i!==f.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),o){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!D(e[l],t[l],n,r))return!1}else{var u,c=y.keys(e);if(l=c.length,y.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!y.has(t,u)||!D(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0};y.isEqual=function(e,t){return D(e,t)},y.isEmpty=function(e){return null==e?!0:$(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=p||function(e){return"[object Array]"===f.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===f.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&d.call(e,t)},y.noConflict=function(){return i._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=C,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var r=Array(Math.max(0,e));t=b(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=y.invert(N),I=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};y.escape=I(N),y.unescape=I(O),y.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),y.isFunction(r)?r.call(e):r};var P=0;y.uniqueId=function(e){var t=++P+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g,R=function(e){return"\\"+F[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var r=RegExp([(t.escape||z).source,(t.interpolate||z).source,(t.evaluate||z).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(j,R),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var l=function(e){return a.call(this,e,y)},u=t.variable||"obj";return l.source="function("+u+"){\n"+o+"}",l},y.chain=function(e){var t=y(e);return t._chain=!0,t};var W=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),W(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],W(this,n)}}),y.each(["concat","join","slice"],function(e){var t=a[e];y.prototype[e]=function(){return W(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.overlayMode=function(t,n,r){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:e.copyState(t,r.base),overlay:e.copyState(n,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(e,i){return(e!=i.streamSeen||Math.min(i.basePos,i.overlayPos)<e.start)&&(i.streamSeen=e,i.basePos=i.overlayPos=e.start),e.start==i.basePos&&(i.baseCur=t.token(e,i.base),i.basePos=e.pos),e.start==i.overlayPos&&(e.pos=e.start,i.overlayCur=n.token(e,i.overlay),i.overlayPos=e.pos),e.pos=Math.min(i.basePos,i.overlayPos),null==i.overlayCur?i.baseCur:null!=i.baseCur&&i.overlay.combineTokens||r&&null==i.overlay.combineTokens?i.baseCur+" "+i.overlayCur:i.overlayCur},indent:t.indent&&function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){t.blankLine&&t.blankLine(e.base),n.blankLine&&n.blankLine(e.overlay)}}}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function n(e,t){if(!t.startOfLine)return!1;for(;;){if(!e.skipTo("\\")){e.skipToEnd(),t.tokenize=null;break}if(e.next(),e.eol()){t.tokenize=n;break}}return"meta"}function r(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return n?(t.cpp11RawStringDelim=n[1],t.tokenize=o,o(e,t)):!1}return e.match(/(u8|u|U|L)/)?e.match(/["']/,!1)?"string":!1:(e.next(),!1)}function i(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function o(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),r=e.match(new RegExp(".*?\\)"+n+'"'));return r?t.tokenize=null:e.skipToEnd(),"string"}function a(t,n){function r(e){if(e)for(var t in e)e.hasOwnProperty(t)&&i.push(t)}"string"==typeof t&&(t=[t]);var i=[];r(n.keywords),r(n.builtin),r(n.atoms),i.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],i));for(var o=0;o<t.length;++o)e.defineMIME(t[o],n)}function s(e,t){for(var n=!1;!e.eol();){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"==e.next()&&!n}return"string"}e.defineMode("clike",function(t,n){function r(e,t){var n=e.next();if(v[n]){var r=v[n](e,t);if(r!==!1)return r}if('"'==n||"'"==n)return t.tokenize=i(n),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return u=n,null;if(/\d/.test(n))return e.eatWhile(/[\w\.]/),"number";if("/"==n){if(e.eat("*"))return t.tokenize=o,o(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(w.test(n))return e.eatWhile(w),"operator";e.eatWhile(/[\w\$_\xa1-\uffff]/);var a=e.current();return p.propertyIsEnumerable(a)?(m.propertyIsEnumerable(a)&&(u="newstatement"),"keyword"):h.propertyIsEnumerable(a)?(m.propertyIsEnumerable(a)&&(u="newstatement"),"builtin"):g.propertyIsEnumerable(a)?"atom":"variable"}function i(e){return function(t,n){for(var r,i=!1,o=!1;null!=(r=t.next());){if(r==e&&!i){o=!0;break}i=!i&&"\\"==r}return(o||!i&&!y)&&(n.tokenize=null),"string"}}function o(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function a(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function s(e,t,n){var r=e.indented;return e.context&&"statement"==e.context.type&&(r=e.context.indented),e.context=new a(r,t,n,null,e.context)}function l(e){var t=e.context.type;return(")"==t||"]"==t||"}"==t)&&(e.indented=e.context.indented),e.context=e.context.prev}var u,c=t.indentUnit,f=n.statementIndentUnit||c,d=n.dontAlignCalls,p=n.keywords||{},h=n.builtin||{},m=n.blockKeywords||{},g=n.atoms||{},v=n.hooks||{},y=n.multiLineStrings,b=n.indentStatements!==!1,w=/[+\-*&%=<>!?|\/]/;return{startState:function(e){return{tokenize:null,context:new a((e||0)-c,0,"top",!1),indented:0,startOfLine:!0}
},token:function(e,t){var n=t.context;if(e.sol()&&(null==n.align&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;u=null;var i=(t.tokenize||r)(e,t);if("comment"==i||"meta"==i)return i;if(null==n.align&&(n.align=!0),";"!=u&&":"!=u&&","!=u||"statement"!=n.type)if("{"==u)s(t,e.column(),"}");else if("["==u)s(t,e.column(),"]");else if("("==u)s(t,e.column(),")");else if("}"==u){for(;"statement"==n.type;)n=l(t);for("}"==n.type&&(n=l(t));"statement"==n.type;)n=l(t)}else u==n.type?l(t):b&&(("}"==n.type||"top"==n.type)&&";"!=u||"statement"==n.type&&"newstatement"==u)&&s(t,e.column(),"statement");else l(t);return t.startOfLine=!1,i},indent:function(t,n){if(t.tokenize!=r&&null!=t.tokenize)return e.Pass;var i=t.context,o=n&&n.charAt(0);"statement"==i.type&&"}"==o&&(i=i.prev);var a=o==i.type;return"statement"==i.type?i.indented+("{"==o?0:f):!i.align||d&&")"==i.type?")"!=i.type||a?i.indented+(a?0:c):i.indented+f:i.column+(a?0:1)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var l="auto if break int case long char register continue return default short do sizeof double static else struct switch extern typedef float union for unsigned goto while enum void const signed volatile";a(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:t(l),blockKeywords:t("case do else for if switch while struct"),atoms:t("null"),hooks:{"#":n},modeProps:{fold:["brace","include"]}}),a(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:t(l+" asm dynamic_cast namespace reinterpret_cast try bool explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected wchar_t alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),blockKeywords:t("catch class do else finally for if struct switch try while"),atoms:t("true false null"),hooks:{"#":n,u:r,U:r,L:r,R:r},modeProps:{fold:["brace","include"]}}),a("text/x-java",{name:"clike",keywords:t("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:t("catch class do else finally for if switch try while"),atoms:t("true false null"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}},modeProps:{fold:["brace","import"]}}),a("text/x-csharp",{name:"clike",keywords:t("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:t("catch class do else finally for foreach if struct switch try while"),builtin:t("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:t("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=i,i(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),a("text/x-scala",{name:"clike",keywords:t("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:t("catch class do else finally for forSome if match switch try while"),atoms:t("true false null"),indentStatements:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return e.match('""')?(t.tokenize=s,t.tokenize(e,t)):!1},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"}},modeProps:{closeBrackets:{triples:'"'}}}),a(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:t("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),blockKeywords:t("for while do if else struct"),builtin:t("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:t("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),hooks:{"#":n},modeProps:{fold:["brace","include"]}}),a("text/x-nesc",{name:"clike",keywords:t(l+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),blockKeywords:t("case do else for if switch while struct"),atoms:t("null"),hooks:{"#":n},modeProps:{fold:["brace","include"]}}),a("text/x-objectivec",{name:"clike",keywords:t(l+"inline restrict _Bool _Complex _Imaginery BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),atoms:t("YES NO NULL NILL ON OFF"),hooks:{"@":function(e){return e.eatWhile(/[\w\$]/),"keyword"},"#":n},modeProps:{fold:"brace"}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function n(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}function r(e,t){return e.skipTo("-->")?(e.match("-->"),t.tokenize=null):e.skipToEnd(),["comment","comment"]}e.defineMode("css",function(t,n){function r(e,t){return p=t,e}function i(e,t){var n=e.next();if(g[n]){var i=g[n](e,t);if(i!==!1)return i}return"@"==n?(e.eatWhile(/[\w\\\-]/),r("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?r(null,"compare"):'"'==n||"'"==n?(t.tokenize=o(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),r("atom","hash")):"!"==n?(e.match(/^\s*\w*/),r("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),r("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?r(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?r(null,n):"u"==n&&e.match("rl(")?(e.backUp(1),t.tokenize=a,r("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),r("property","word")):r(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),r("number","unit")):e.match(/^\w+-/)?r("meta","meta"):void 0}function o(e){return function(t,n){for(var i,o=!1;null!=(i=t.next());){if(i==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==i}return(i==e||!o&&")"!=e)&&(n.tokenize=null),r("string","string")}}function a(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\')]/,!1)?null:o(")"),r(null,"(")}function s(e,t,n){this.type=e,this.indent=t,this.prev=n}function l(e,t,n){return e.context=new s(n,t.indentation()+m,e.context),n}function u(e){return e.context=e.context.prev,e.context.type}function c(e,t,n){return S[n.context.type](e,t,n)}function f(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return c(e,t,n)}function d(e){var t=e.current().toLowerCase();h=k.hasOwnProperty(t)?"atom":x.hasOwnProperty(t)?"keyword":"variable"}n.propertyKeywords||(n=e.resolveMode("text/css"));var p,h,m=t.indentUnit,g=n.tokenHooks,v=n.mediaTypes||{},y=n.mediaFeatures||{},b=n.propertyKeywords||{},w=n.nonStandardPropertyKeywords||{},x=n.colorKeywords||{},k=n.valueKeywords||{},C=n.fontProperties||{},_=n.allowNested,S={};return S.top=function(e,t,n){if("{"==e)return l(n,t,"block");if("}"==e&&n.context.prev)return u(n);if("@media"==e)return l(n,t,"media");if("@font-face"==e)return"font_face_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(n,t,"at");if("hash"==e)h="builtin";else if("word"==e)h="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(n,t,"interpolation");if(":"==e)return"pseudo";if(_&&"("==e)return l(n,t,"parens")}return n.context.type},S.block=function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return b.hasOwnProperty(r)?(h="property","maybeprop"):w.hasOwnProperty(r)?(h="string-2","maybeprop"):_?(h=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(h+=" error","maybeprop")}return"meta"==e?"block":_||"hash"!=e&&"qualifier"!=e?S.top(e,t,n):(h="error","block")},S.maybeprop=function(e,t,n){return":"==e?l(n,t,"prop"):c(e,t,n)},S.prop=function(e,t,n){if(";"==e)return u(n);if("{"==e&&_)return l(n,t,"propBlock");if("}"==e||"{"==e)return f(e,t,n);if("("==e)return l(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())){if("word"==e)d(t);else if("interpolation"==e)return l(n,t,"interpolation")}else h+=" error";return"prop"},S.propBlock=function(e,t,n){return"}"==e?u(n):"word"==e?(h="property","maybeprop"):n.context.type},S.parens=function(e,t,n){return"{"==e||"}"==e?f(e,t,n):")"==e?u(n):"("==e?l(n,t,"parens"):("word"==e&&d(t),"parens")},S.pseudo=function(e,t,n){return"word"==e?(h="variable-3",n.context.type):c(e,t,n)},S.media=function(e,t,n){if("("==e)return l(n,t,"media_parens");if("}"==e)return f(e,t,n);if("{"==e)return u(n)&&l(n,t,_?"block":"top");if("word"==e){var r=t.current().toLowerCase();h="only"==r||"not"==r||"and"==r?"keyword":v.hasOwnProperty(r)?"attribute":y.hasOwnProperty(r)?"property":"error"}return n.context.type},S.media_parens=function(e,t,n){return")"==e?u(n):"{"==e||"}"==e?f(e,t,n,2):S.media(e,t,n)},S.font_face_before=function(e,t,n){return"{"==e?l(n,t,"font_face"):c(e,t,n)},S.font_face=function(e,t,n){return"}"==e?u(n):"word"==e?(h=C.hasOwnProperty(t.current().toLowerCase())?"property":"error","maybeprop"):"font_face"},S.keyframes=function(e,t,n){return"word"==e?(h="variable","keyframes"):"{"==e?l(n,t,"top"):c(e,t,n)},S.at=function(e,t,n){return";"==e?u(n):"{"==e||"}"==e?f(e,t,n):("word"==e?h="tag":"hash"==e&&(h="builtin"),"at")},S.interpolation=function(e,t,n){return"}"==e?u(n):"{"==e||";"==e?f(e,t,n):("variable"!=e&&(h="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:"top",context:new s("top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||i)(e,t);return n&&"object"==typeof n&&(p=n[1],n=n[0]),h=n,t.state=S[t.state](p,e,t),h},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),!n.prev||("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"font_face"!=n.type)&&(")"!=r||"parens"!=n.type&&"media_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"media"!=n.type)||(i=n.indent-m,n=n.prev),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=t(i),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],s=t(a),l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],u=t(l),c=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=t(c),d=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],p=t(d),h=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],m=t(h),g=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],v=t(g),y=i.concat(a).concat(l).concat(c).concat(d).concat(h);e.registerHelper("hintWords","css",y),e.defineMIME("text/css",{mediaTypes:o,mediaFeatures:s,propertyKeywords:u,nonStandardPropertyKeywords:f,colorKeywords:p,valueKeywords:m,fontProperties:v,tokenHooks:{"<":function(e,t){return e.match("!--")?(t.tokenize=r,r(e,t)):!1},"/":function(e,t){return e.eat("*")?(t.tokenize=n,n(e,t)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:s,propertyKeywords:u,nonStandardPropertyKeywords:f,colorKeywords:p,valueKeywords:m,fontProperties:v,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return e.match(/\s*\{/)?[null,"{"]:!1},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return e.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:s,propertyKeywords:u,nonStandardPropertyKeywords:f,colorKeywords:p,valueKeywords:m,fontProperties:v,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)?!1:(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("htmlembedded",function(t,n){function r(e,t){return e.match(s,!1)?(t.token=i,o.token(e,t.scriptState)):a.token(e,t.htmlState)}function i(e,t){return e.match(l,!1)?(t.token=r,a.token(e,t.htmlState)):o.token(e,t.scriptState)}var o,a,s=n.scriptStartRegex||/^<%/i,l=n.scriptEndRegex||/^%>/i;return{startState:function(){return o=o||e.getMode(t,n.scriptingModeSpec),a=a||e.getMode(t,"htmlmixed"),{token:n.startOpen?i:r,htmlState:e.startState(a),scriptState:e.startState(o)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){return e.token==r?a.indent(e.htmlState,t):o.indent?o.indent(e.scriptState,t):void 0},copyState:function(t){return{token:t.token,htmlState:e.copyState(a,t.htmlState),scriptState:e.copyState(o,t.scriptState)}},innerMode:function(e){return e.token==i?{state:e.scriptState,mode:o}:{state:e.htmlState,mode:a}}}},"htmlmixed"),e.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"}),e.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"}),e.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"}),e.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("htmlmixed",function(t,n){function r(e,t){var n=t.htmlState.tagName;n&&(n=n.toLowerCase());var r=s.token(e,t.htmlState);if("script"==n&&/\btag\b/.test(r)&&">"==e.current()){var i=e.string.slice(Math.max(0,e.pos-100),e.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);i=i?i[1]:"",i&&/[\"\']/.test(i.charAt(0))&&(i=i.slice(1,i.length-1));for(var c=0;c<u.length;++c){var f=u[c];if("string"==typeof f.matches?i==f.matches:f.matches.test(i)){f.mode&&(t.token=o,t.localMode=f.mode,t.localState=f.mode.startState&&f.mode.startState(s.indent(t.htmlState,"")));break}}}else"style"==n&&/\btag\b/.test(r)&&">"==e.current()&&(t.token=a,t.localMode=l,t.localState=l.startState(s.indent(t.htmlState,"")));
return r}function i(e,t,n){var r,i=e.current(),o=i.search(t);return o>-1?e.backUp(i.length-o):(r=i.match(/<\/?$/))&&(e.backUp(i.length),e.match(t,!1)||e.match(i)),n}function o(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=r,t.localState=t.localMode=null,null):i(e,/<\/\s*script\s*>/,t.localMode.token(e,t.localState))}function a(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=r,t.localState=t.localMode=null,null):i(e,/<\/\s*style\s*>/,l.token(e,t.localState))}var s=e.getMode(t,{name:"xml",htmlMode:!0,multilineTagIndentFactor:n.multilineTagIndentFactor,multilineTagIndentPastTag:n.multilineTagIndentPastTag}),l=e.getMode(t,"css"),u=[],c=n&&n.scriptTypes;if(u.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:e.getMode(t,"javascript")}),c)for(var f=0;f<c.length;++f){var d=c[f];u.push({matches:d.matches,mode:d.mode&&e.getMode(t,d.mode)})}return u.push({matches:/./,mode:e.getMode(t,"text/plain")}),{startState:function(){var e=s.startState();return{token:r,localMode:null,localState:null,htmlState:e}},copyState:function(t){if(t.localState)var n=e.copyState(t.localMode,t.localState);return{token:t.token,localMode:t.localMode,localState:n,htmlState:e.copyState(s,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n){return!t.localMode||/^\s*<\//.test(n)?s.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||s}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,n){function r(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function i(e,t,n){return ht=e,mt=n,t}function o(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=a(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==n&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&e.eat(">"))return i("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==n)return e.eat("*")?(t.tokenize=s,s(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(r(e),e.eatWhile(/[gimy]/),i("regexp","string-2")):(e.eatWhile(Ct),i("operator","operator",e.current()));if("`"==n)return t.tokenize=l,l(e,t);if("#"==n)return e.skipToEnd(),i("error","error");if(Ct.test(n))return e.eatWhile(Ct),i("operator","operator",e.current());if(xt.test(n)){e.eatWhile(xt);var o=e.current(),u=kt.propertyIsEnumerable(o)&&kt[o];return u&&"."!=t.lastType?i(u.type,u.style,o):i("variable","variable",o)}}function a(e){return function(t,n){var r,a=!1;if(yt&&"@"==t.peek()&&t.match(_t))return n.tokenize=o,i("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||a);)a=!a&&"\\"==r;return a||(n.tokenize=o),i("string","string")}}function s(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=o;break}r="*"==n}return i("comment","comment")}function l(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=o;break}r=!r&&"\\"==n}return i("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(0>n)){for(var r=0,i=!1,o=n-1;o>=0;--o){var a=e.string.charAt(o),s=St.indexOf(a);if(s>=0&&3>s){if(!r){++o;break}if(0==--r)break}else if(s>=3&&6>s)++r;else if(xt.test(a))i=!0;else if(i&&!r){++o;break}}i&&!r&&(t.fatArrowAt=o)}}function c(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function f(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function d(e,t,n,r,i){var o=e.cc;for(Mt.state=e,Mt.stream=i,Mt.marked=null,Mt.cc=o,Mt.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var a=o.length?o.pop():bt?k:x;if(a(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Mt.marked?Mt.marked:"variable"==n&&f(e,r)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)Mt.cc.push(arguments[e])}function h(){return p.apply(null,arguments),!0}function m(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var r=Mt.state;if(r.context){if(Mt.marked="def",t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;n.globalVars&&(r.globalVars={name:e,next:r.globalVars})}}function g(){Mt.state.context={prev:Mt.state.context,vars:Mt.state.localVars},Mt.state.localVars=Tt}function v(){Mt.state.localVars=Mt.state.context.vars,Mt.state.context=Mt.state.context.prev}function y(e,t){var n=function(){var n=Mt.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new c(r,Mt.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function b(){var e=Mt.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function w(e){function t(n){return n==e?h():";"==e?p():h(t)}return t}function x(e,t){return"var"==e?h(y("vardef",t.length),U,w(";"),b):"keyword a"==e?h(y("form"),k,x,b):"keyword b"==e?h(y("form"),x,b):"{"==e?h(y("}"),R,b):";"==e?h():"if"==e?("else"==Mt.state.lexical.info&&Mt.state.cc[Mt.state.cc.length-1]==b&&Mt.state.cc.pop()(),h(y("form"),k,x,b,G)):"function"==e?h(et):"for"==e?h(y("form"),K,x,b):"variable"==e?h(y("stat"),N):"switch"==e?h(y("form"),k,y("}","switch"),w("{"),R,b,b):"case"==e?h(k,w(":")):"default"==e?h(w(":")):"catch"==e?h(y("form"),g,w("("),tt,w(")"),x,b,v):"module"==e?h(y("form"),g,at,v,b):"class"==e?h(y("form"),nt,b):"export"==e?h(y("form"),st,b):"import"==e?h(y("form"),lt,b):p(y("stat"),k,w(";"),b)}function k(e){return _(e,!1)}function C(e){return _(e,!0)}function _(e,t){if(Mt.state.fatArrowAt==Mt.stream.start){var n=t?D:A;if("("==e)return h(g,y(")"),F(B,")"),b,w("=>"),n,v);if("variable"==e)return p(g,B,w("=>"),n,v)}var r=t?T:M;return $t.hasOwnProperty(e)?h(r):"function"==e?h(et,r):"keyword c"==e?h(t?$:S):"("==e?h(y(")"),S,pt,w(")"),b,r):"operator"==e||"spread"==e?h(t?C:k):"["==e?h(y("]"),ft,b,r):"{"==e?j(I,"}",null,r):"quasi"==e?p(L,r):h()}function S(e){return e.match(/[;\}\)\],]/)?p():p(k)}function $(e){return e.match(/[;\}\)\],]/)?p():p(C)}function M(e,t){return","==e?h(k):T(e,t,!1)}function T(e,t,n){var r=0==n?M:T,i=0==n?k:C;return"=>"==e?h(g,n?D:A,v):"operator"==e?/\+\+|--/.test(t)?h(r):"?"==t?h(k,w(":"),i):h(i):"quasi"==e?p(L,r):";"!=e?"("==e?j(C,")","call",r):"."==e?h(O,r):"["==e?h(y("]"),S,w("]"),b,r):void 0:void 0}function L(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?h(L):h(k,E)}function E(e){return"}"==e?(Mt.marked="string-2",Mt.state.tokenize=l,h(L)):void 0}function A(e){return u(Mt.stream,Mt.state),p("{"==e?x:k)}function D(e){return u(Mt.stream,Mt.state),p("{"==e?x:C)}function N(e){return":"==e?h(b,x):p(M,w(";"),b)}function O(e){return"variable"==e?(Mt.marked="property",h()):void 0}function I(e,t){return"variable"==e||"keyword"==Mt.style?(Mt.marked="property",h("get"==t||"set"==t?P:z)):"number"==e||"string"==e?(Mt.marked=yt?"property":Mt.style+" property",h(z)):"jsonld-keyword"==e?h(z):"["==e?h(k,w("]"),z):void 0}function P(e){return"variable"!=e?p(z):(Mt.marked="property",h(et))}function z(e){return":"==e?h(C):"("==e?p(et):void 0}function F(e,t){function n(r){if(","==r){var i=Mt.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),h(e,n)}return r==t?h():h(w(t))}return function(r){return r==t?h():p(e,n)}}function j(e,t,n){for(var r=3;r<arguments.length;r++)Mt.cc.push(arguments[r]);return h(y(t,n),F(e,t),b)}function R(e){return"}"==e?h():p(x,R)}function W(e){return wt&&":"==e?h(H):void 0}function H(e){return"variable"==e?(Mt.marked="variable-3",h()):void 0}function U(){return p(B,W,Y,V)}function B(e,t){return"variable"==e?(m(t),h()):"["==e?j(B,"]"):"{"==e?j(q,"}"):void 0}function q(e,t){return"variable"!=e||Mt.stream.match(/^\s*:/,!1)?("variable"==e&&(Mt.marked="property"),h(w(":"),B,Y)):(m(t),h(Y))}function Y(e,t){return"="==t?h(C):void 0}function V(e){return","==e?h(U):void 0}function G(e,t){return"keyword b"==e&&"else"==t?h(y("form","else"),x,b):void 0}function K(e){return"("==e?h(y(")"),Z,w(")"),b):void 0}function Z(e){return"var"==e?h(U,w(";"),Q):";"==e?h(Q):"variable"==e?h(X):p(k,w(";"),Q)}function X(e,t){return"in"==t||"of"==t?(Mt.marked="keyword",h(k)):h(M,Q)}function Q(e,t){return";"==e?h(J):"in"==t||"of"==t?(Mt.marked="keyword",h(k)):p(k,w(";"),J)}function J(e){")"!=e&&h(k)}function et(e,t){return"*"==t?(Mt.marked="keyword",h(et)):"variable"==e?(m(t),h(et)):"("==e?h(g,y(")"),F(tt,")"),b,x,v):void 0}function tt(e){return"spread"==e?h(tt):p(B,W)}function nt(e,t){return"variable"==e?(m(t),h(rt)):void 0}function rt(e,t){return"extends"==t?h(k,rt):"{"==e?h(y("}"),it,b):void 0}function it(e,t){return"variable"==e||"keyword"==Mt.style?(Mt.marked="property","get"==t||"set"==t?h(ot,et,it):h(et,it)):"*"==t?(Mt.marked="keyword",h(it)):";"==e?h(it):"}"==e?h():void 0}function ot(e){return"variable"!=e?p():(Mt.marked="property",h())}function at(e,t){return"string"==e?h(x):"variable"==e?(m(t),h(ct)):void 0}function st(e,t){return"*"==t?(Mt.marked="keyword",h(ct,w(";"))):"default"==t?(Mt.marked="keyword",h(k,w(";"))):p(x)}function lt(e){return"string"==e?h():p(ut,ct)}function ut(e,t){return"{"==e?j(ut,"}"):("variable"==e&&m(t),h())}function ct(e,t){return"from"==t?(Mt.marked="keyword",h(k)):void 0}function ft(e){return"]"==e?h():p(C,dt)}function dt(e){return"for"==e?p(pt,w("]")):","==e?h(F($,"]")):p(F(C,"]"))}function pt(e){return"for"==e?h(K,pt):"if"==e?h(k,pt):void 0}var ht,mt,gt=t.indentUnit,vt=n.statementIndent,yt=n.jsonld,bt=n.json||yt,wt=n.typescript,xt=n.wordCharacters||/[\w$\xa1-\uffff]/,kt=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},a={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"debugger":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":r,"export":e("export"),"import":e("import"),"extends":r};if(wt){var s={type:"variable",style:"variable-3"},l={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:s,number:s,bool:s,any:s};for(var u in l)a[u]=l[u]}return a}(),Ct=/[+\-*&%=<>!?|~^]/,_t=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,St="([{}])",$t={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Mt={state:null,column:null,marked:null,cc:null},Tt={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new c((e||0)-gt,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=s&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==ht?n:(t.lastType="operator"!=ht||"++"!=mt&&"--"!=mt?ht:"incdec",d(t,n,ht,mt,e))},indent:function(t,r){if(t.tokenize==s)return e.Pass;if(t.tokenize!=o)return 0;var i=r&&r.charAt(0),a=t.lexical;if(!/^\s*else\b/.test(r))for(var l=t.cc.length-1;l>=0;--l){var u=t.cc[l];if(u==b)a=a.prev;else if(u!=G)break}"stat"==a.type&&"}"==i&&(a=a.prev),vt&&")"==a.type&&"stat"==a.prev.type&&(a=a.prev);var c=a.type,f=i==c;return"vardef"==c?a.indented+("operator"==t.lastType||","==t.lastType?a.info+1:0):"form"==c&&"{"==i?a.indented:"form"==c?a.indented+gt:"stat"==c?a.indented+("operator"==t.lastType||","==t.lastType?vt||gt:0):"switch"!=a.info||f||0==n.doubleIndentSwitch?a.align?a.column+(f?0:1):a.indented+(f?0:gt):a.indented+(/^(?:case|default)\b/.test(r)?gt:2*gt)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:bt?null:"/*",blockCommentEnd:bt?null:"*/",lineComment:bt?null:"//",fold:"brace",helperType:bt?"json":"javascript",jsonldMode:yt,jsonMode:bt}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function n(e){return e.scopes[e.scopes.length-1]}var r=t(["and","or","not","is"]),i=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],o=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"],a={builtins:["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"],keywords:["exec","print"]},s={builtins:["ascii","bytes","exec","print"],keywords:["nonlocal","False","True","None"]};e.registerHelper("hintWords","python",i.concat(o)),e.defineMode("python",function(l,u){function c(e,t){if(e.sol()&&"py"==n(t).type){var r=n(t).offset;if(e.eatSpace()){var i=e.indentation();return i>r?p(e,t,"py"):r>i&&h(e,t)&&(t.errorToken=!0),null}var o=f(e,t);return r>0&&h(e,t)&&(o+=" "+g),o}return f(e,t)}function f(e,t){if(e.eatSpace())return null;var n=e.peek();if("#"==n)return e.skipToEnd(),"comment";if(e.match(/^[0-9\.]/,!1)){var i=!1;if(e.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(i=!0),e.match(/^\d+\.\d*/)&&(i=!0),e.match(/^\.\d+/)&&(i=!0),i)return e.eat(/J/i),"number";var o=!1;if(e.match(/^0x[0-9a-f]+/i)&&(o=!0),e.match(/^0b[01]+/i)&&(o=!0),e.match(/^0o[0-7]+/i)&&(o=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(e.eat(/J/i),o=!0),e.match(/^0(?![\dx])/i)&&(o=!0),o)return e.eat(/L/i),"number"}return e.match($)?(t.tokenize=d(e.current()),t.tokenize(e,t)):e.match(w)||e.match(b)?null:e.match(y)||e.match(x)||e.match(r)?"operator":e.match(v)?null:e.match(M)?"keyword":e.match(T)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(k)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),g)}function d(e){function t(t,i){for(;!t.eol();)if(t.eatWhile(/[^'"\\]/),t.eat("\\")){if(t.next(),n&&t.eol())return r}else{if(t.match(e))return i.tokenize=c,r;t.eat(/['"]/)}if(n){if(u.singleLineStringErrors)return g;i.tokenize=c}return r}for(;"rub".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,r="string";return t.isString=!0,t}function p(e,t,r){var i=0,o=null;if("py"==r)for(;"py"!=n(t).type;)t.scopes.pop();i=n(t).offset+("py"==r?l.indentUnit:C),"py"==r||e.match(/^(\s|#.*)*$/,!1)||(o=e.column()+1),t.scopes.push({offset:i,type:r,align:o})}function h(e,t){for(var r=e.indentation();n(t).offset>r;){if("py"!=n(t).type)return!0;t.scopes.pop()}return n(t).offset!=r}function m(e,t){var r=t.tokenize(e,t),i=e.current();if("."==i)return r=e.match(k,!1)?null:g,null==r&&"meta"==t.lastStyle&&(r="meta"),r;if("@"==i)return u.version&&3==parseInt(u.version,10)?e.match(k,!1)?"meta":"operator":e.match(k,!1)?"meta":g;"variable"!=r&&"builtin"!=r||"meta"!=t.lastStyle||(r="meta"),("pass"==i||"return"==i)&&(t.dedent+=1),"lambda"==i&&(t.lambda=!0),":"!=i||t.lambda||"py"!=n(t).type||p(e,t,"py");var o=1==i.length?"[({".indexOf(i):-1;if(-1!=o&&p(e,t,"])}".slice(o,o+1)),o="])}".indexOf(i),-1!=o){if(n(t).type!=i)return g;t.scopes.pop()}return t.dedent>0&&e.eol()&&"py"==n(t).type&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),r}var g="error",v=u.singleDelimiters||new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),y=u.doubleOperators||new RegExp("^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),b=u.doubleDelimiters||new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),w=u.tripleDelimiters||new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))");if(u.version&&3==parseInt(u.version,10))var x=u.singleOperators||new RegExp("^[\\+\\-\\*/%&|\\^~<>!@]"),k=u.identifiers||new RegExp("^[_A-Za-z-][_A-Za-z0-9-]*");else var x=u.singleOperators||new RegExp("^[\\+\\-\\*/%&|\\^~<>!]"),k=u.identifiers||new RegExp("^[_A-Za-z][_A-Za-z0-9]*");var C=u.hangingIndent||l.indentUnit,_=i,S=o;if(void 0!=u.extra_keywords&&(_=_.concat(u.extra_keywords)),void 0!=u.extra_builtins&&(S=S.concat(u.extra_builtins)),u.version&&3==parseInt(u.version,10)){_=_.concat(s.keywords),S=S.concat(s.builtins);var $=new RegExp("^(([rb]|(br))?('{3}|\"{3}|['\"]))","i")}else{_=_.concat(a.keywords),S=S.concat(a.builtins);var $=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var M=t(_),T=t(S),L={startState:function(e){return{tokenize:c,scopes:[{offset:e||0,type:"py",align:null}],lastStyle:null,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var r=m(e,t);t.lastStyle=r;var i=e.current();return i&&r&&(t.lastToken=i),e.eol()&&t.lambda&&(t.lambda=!1),n?r+" "+g:r},indent:function(t,r){if(t.tokenize!=c)return t.tokenize.isString?e.Pass:0;var i=n(t),o=r&&r.charAt(0)==i.type;return null!=i.align?i.align-(o?1:0):o&&t.scopes.length>1?t.scopes[t.scopes.length-2].offset:i.offset},lineComment:"#",fold:"indent"};return L}),e.defineMIME("text/x-python","python");var l=function(e){return e.split(" ")};e.defineMIME("text/x-cython",{name:"python",extra_keywords:l("by cdef cimport cpdef ctypedef enum exceptextern gil include nogil property publicreadonly struct union DEF IF ELIF ELSE")})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../meta")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("markdown",function(t,n){function r(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var i=e.getMode(t,n);return"null"==i.name?null:i}function i(e,t,n){return t.f=t.inline=n,n(e,t)}function o(e,t,n){return t.f=t.block=n,n(e,t)}function a(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,x||e.f!=l||(e.f=p,e.block=s),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.thisLineHasContent=!1,null}function s(e,t){var o=e.sol(),a=t.list!==!1;t.list!==!1&&t.indentationDiff>=0?(t.indentationDiff<4&&(t.indentation-=t.indentationDiff),t.list=null):t.list!==!1&&t.indentation>0?(t.list=null,t.listDepth=Math.floor(t.indentation/4)):t.list!==!1&&(t.list=!1,t.listDepth=0);var s=null;if(t.indentationDiff>=4)return t.indentation-=4,e.skipToEnd(),S;if(e.eatSpace())return null;if(s=e.match(B))return t.header=s[0].length<=6?s[0].length:6,n.highlightFormatting&&(t.formatting="header"),t.f=t.inline,f(t);if(t.prevLineHasContent&&(s=e.match(q)))return t.header="="==s[0].charAt(0)?1:2,n.highlightFormatting&&(t.formatting="header"),t.f=t.inline,f(t);if(e.eat(">"))return t.indentation++,t.quote=o?1:t.quote+1,n.highlightFormatting&&(t.formatting="quote"),e.eatSpace(),f(t);if("["===e.peek())return i(e,t,v);if(e.match(R,!0))return E;if((!t.prevLineHasContent||a)&&(e.match(W,!1)||e.match(H,!1))){var l=null;return e.match(W,!0)?l="ul":(e.match(H,!0),l="ol"),t.indentation+=4,t.list=!0,t.listDepth++,n.taskLists&&e.match(U,!1)&&(t.taskList=!0),t.f=t.inline,n.highlightFormatting&&(t.formatting=["list","list-"+l]),f(t)}return n.fencedCodeBlocks&&e.match(/^```[ \t]*([\w+#]*)/,!0)?(t.localMode=r(RegExp.$1),t.localMode&&(t.localState=t.localMode.startState()),t.f=t.block=u,n.highlightFormatting&&(t.formatting="code-block"),t.code=!0,f(t)):i(e,t,t.inline)}function l(e,t){var n=k.token(e,t.htmlState);return(x&&null===t.htmlState.tagStart&&!t.htmlState.context||t.md_inside&&e.current().indexOf(">")>-1)&&(t.f=p,t.block=s,t.htmlState=null),n}function u(e,t){return e.sol()&&e.match("```",!1)?(t.localMode=t.localState=null,t.f=t.block=c,null):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),S)}function c(e,t){e.match("```"),t.block=s,t.f=p,n.highlightFormatting&&(t.formatting="code-block"),t.code=!0;var r=f(t);return t.code=!1,r}function f(e){var t=[];if(e.formatting){t.push(D),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(D+"-"+e.formatting[r]),"header"===e.formatting[r]&&t.push(D+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&t.push(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?D+"-"+e.formatting[r]+"-"+e.quote:"error")}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref)return t.push(P),t.length?t.join(" "):null;if(e.strong&&t.push(F),e.em&&t.push(z),e.strikethrough&&t.push(j),e.linkText&&t.push(I),e.code&&t.push(S),e.header&&(t.push(_),t.push(_+"-"+e.header)),e.quote&&(t.push($),t.push(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?$+"-"+e.quote:$+"-"+n.maxBlockquoteDepth)),e.list!==!1){var i=(e.listDepth-1)%3;t.push(i?1===i?T:L:M)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function d(e,t){return e.match(Y,!0)?f(t):void 0}function p(t,r){var i=r.text(t,r);if("undefined"!=typeof i)return i;if(r.list)return r.list=null,f(r);if(r.taskList){var a="x"!==t.match(U,!0)[1];return a?r.taskOpen=!0:r.taskClosed=!0,n.highlightFormatting&&(r.formatting="task"),r.taskList=!1,f(r)}if(r.taskOpen=!1,r.taskClosed=!1,r.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(r.formatting="header"),f(r);var s=t.sol(),u=t.next();if("\\"===u&&(t.next(),n.highlightFormatting)){var c=f(r);return c?c+" formatting-escape":"formatting-escape"}if(r.linkTitle){r.linkTitle=!1;var d=u;"("===u&&(d=")"),d=(d+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var p="^\\s*(?:[^"+d+"\\\\]+|\\\\\\\\|\\\\.)"+d;if(t.match(new RegExp(p),!0))return P}if("`"===u){var g=r.formatting;n.highlightFormatting&&(r.formatting="code");var v=f(r),y=t.pos;t.eatWhile("`");var b=1+t.pos-y;return r.code?b===C?(r.code=!1,v):(r.formatting=g,f(r)):(C=b,r.code=!0,f(r))}if(r.code)return f(r);if("!"===u&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),r.inline=r.f=m,A;if("["===u&&t.match(/.*\](\(.*\)| ?\[.*\])/,!1))return r.linkText=!0,n.highlightFormatting&&(r.formatting="link"),f(r);if("]"===u&&r.linkText&&t.match(/\(.*\)| ?\[.*\]/,!1)){n.highlightFormatting&&(r.formatting="link");var c=f(r);return r.linkText=!1,r.inline=r.f=m,c}if("<"===u&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=h,n.highlightFormatting&&(r.formatting="link");var c=f(r);return c?c+=" ":c="",c+N}if("<"===u&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=h,n.highlightFormatting&&(r.formatting="link");var c=f(r);return c?c+=" ":c="",c+O}if("<"===u&&t.match(/^\w/,!1)){if(-1!=t.string.indexOf(">")){var w=t.string.substring(1,t.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(w)&&(r.md_inside=!0)}return t.backUp(1),r.htmlState=e.startState(k),o(t,r,l)}if("<"===u&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";var x=!1;if(!n.underscoresBreakWords&&"_"===u&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var _=t.pos-2;if(_>=0){var S=t.string.charAt(_);"_"!==S&&S.match(/(\w)/,!1)&&(x=!0)}}if("*"===u||"_"===u&&!x)if(s&&" "===t.peek());else{if(r.strong===u&&t.eat(u)){n.highlightFormatting&&(r.formatting="strong");var v=f(r);return r.strong=!1,v}if(!r.strong&&t.eat(u))return r.strong=u,n.highlightFormatting&&(r.formatting="strong"),f(r);if(r.em===u){n.highlightFormatting&&(r.formatting="em");var v=f(r);return r.em=!1,v}if(!r.em)return r.em=u,n.highlightFormatting&&(r.formatting="em"),f(r)}else if(" "===u&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return f(r);t.backUp(1)}if(n.strikethrough)if("~"===u&&t.eatWhile(u)){if(r.strikethrough){n.highlightFormatting&&(r.formatting="strikethrough");var v=f(r);return r.strikethrough=!1,v}if(t.match(/^[^\s]/,!1))return r.strikethrough=!0,n.highlightFormatting&&(r.formatting="strikethrough"),f(r)}else if(" "===u&&t.match(/^~~/,!0)){if(" "===t.peek())return f(r);t.backUp(2)}return" "===u&&(t.match(/ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),f(r)}function h(e,t){var r=e.next();if(">"===r){t.f=t.inline=p,n.highlightFormatting&&(t.formatting="link");var i=f(t);return i?i+=" ":i="",i+N}return e.match(/^[^>]+/,!0),N}function m(e,t){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?(t.f=t.inline=g("("===r?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,f(t)):"error"}function g(e){return function(t,r){var i=t.next();if(i===e){r.f=r.inline=p,n.highlightFormatting&&(r.formatting="link-string");var o=f(r);return r.linkHref=!1,o}return t.match(w(e),!0)&&t.backUp(1),r.linkHref=!0,f(r)}}function v(e,t){return e.match(/^[^\]]*\]:/,!1)?(t.f=y,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,f(t)):i(e,t,p)}function y(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=b,n.highlightFormatting&&(t.formatting="link");var r=f(t);return t.linkText=!1,r}return e.match(/^[^\]]+/,!0),I}function b(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=p,P)}function w(e){return V[e]||(e=(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),V[e]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+e+")")),V[e]}var x=e.modes.hasOwnProperty("xml"),k=e.getMode(t,x?{name:"xml",htmlMode:!0}:"text/plain");void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.underscoresBreakWords&&(n.underscoresBreakWords=!0),void 0===n.fencedCodeBlocks&&(n.fencedCodeBlocks=!1),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1);var C=0,_="header",S="comment",$="quote",M="variable-2",T="variable-3",L="keyword",E="hr",A="tag",D="formatting",N="link",O="link",I="link",P="string",z="em",F="strong",j="strikethrough",R=/^([*\-=_])(?:\s*\1){2,}\s*$/,W=/^[*\-+]\s+/,H=/^[0-9]+\.\s+/,U=/^\[(x| )\](?=\s)/,B=/^#+/,q=/^(?:\={1,}|-{1,})$/,Y=/^[^#!\[\]*_\\<>` "'(~]+/,V=[],G={startState:function(){return{f:s,prevLineHasContent:!1,thisLineHasContent:!1,block:s,htmlState:null,indentation:0,inline:p,text:d,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,em:!1,strong:!1,header:0,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1}},copyState:function(t){return{f:t.f,prevLineHasContent:t.prevLineHasContent,thisLineHasContent:t.thisLineHasContent,block:t.block,htmlState:t.htmlState&&e.copyState(k,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,taskList:t.taskList,list:t.list,listDepth:t.listDepth,quote:t.quote,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside}},token:function(e,t){if(t.formatting=!1,e.sol()){var n=!!t.header;if(t.header=0,e.match(/^\s*$/,!0)||n)return t.prevLineHasContent=!1,a(t),n?this.token(e,t):null;t.prevLineHasContent=t.thisLineHasContent,t.thisLineHasContent=!0,t.taskList=!1,t.code=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var r=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,i=4*Math.floor((r-t.indentation)/4);i>4&&(i=4);var o=t.indentation+i;if(t.indentationDiff=o-t.indentation,t.indentation=o,r>0)return null}return t.f(e,t)},innerMode:function(e){return e.block==l?{state:e.htmlState,mode:k}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:G}},blankLine:a,getType:f,fold:"markdown"};return G},"xml"),e.defineMIME("text/x-markdown","markdown")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../python/python"),require("../stex/stex"),require("../../addon/mode/overlay")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../python/python","../stex/stex","../../addon/mode/overlay"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("rst",function(t,n){var r=/^\*\*[^\*\s](?:[^\*]*[^\*\s])?\*\*/,i=/^\*[^\*\s](?:[^\*]*[^\*\s])?\*/,o=/^``[^`\s](?:[^`]*[^`\s])``/,a=/^(?:[\d]+(?:[\.,]\d+)*)/,s=/^(?:\s\+[\d]+(?:[\.,]\d+)*)/,l=/^(?:\s\-[\d]+(?:[\.,]\d+)*)/,u="[Hh][Tt][Tt][Pp][Ss]?://",c="(?:[\\d\\w.-]+)\\.(?:\\w{2,6})",f="(?:/[\\d\\w\\#\\%\\&\\-\\.\\,\\/\\:\\=\\?\\~]+)*",d=new RegExp("^"+u+c+f),p={token:function(e){if(e.match(r)&&e.match(/\W+|$/,!1))return"strong";if(e.match(i)&&e.match(/\W+|$/,!1))return"em";if(e.match(o)&&e.match(/\W+|$/,!1))return"string-2";if(e.match(a))return"number";if(e.match(s))return"positive";if(e.match(l))return"negative";if(e.match(d))return"link";for(;!(null==e.next()||e.match(r,!1)||e.match(i,!1)||e.match(o,!1)||e.match(a,!1)||e.match(s,!1)||e.match(l,!1)||e.match(d,!1)););return null}},h=e.getMode(t,n.backdrop||"rst-base");return e.overlayMode(h,p,!0)},"python","stex"),e.defineMode("rst-base",function(t){function n(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return"undefined"!=typeof t[n]?t[n]:e})}function r(t,n){var o=null;if(t.sol()&&t.match(Z,!1))c(n,l,{mode:p,local:e.startState(p)});else if(t.sol()&&t.match($))c(n,i),o="meta";else if(t.sol()&&t.match(S))c(n,r),o="header";else if(d(n)==z||t.match(z,!1))switch(f(n)){case 0:c(n,r,u(z,1)),t.match(/^:/),o="meta";break;case 1:c(n,r,u(z,2)),t.match(b),o="keyword",t.current().match(/^(?:math|latex)/)&&(n.tmp_stex=!0);break;case 2:c(n,r,u(z,3)),t.match(/^:`/),o="meta";break;case 3:if(n.tmp_stex&&(n.tmp_stex=void 0,n.tmp={mode:h,local:e.startState(h)}),n.tmp){if("`"==t.peek()){c(n,r,u(z,4)),n.tmp=void 0;break}o=n.tmp.mode.token(t,n.tmp.local);break}c(n,r,u(z,4)),t.match(_),o="string";break;case 4:c(n,r,u(z,5)),t.match(/^`/),o="meta";break;case 5:c(n,r,u(z,6)),t.match(v);break;default:c(n,r)}else if(d(n)==F||t.match(F,!1))switch(f(n)){case 0:c(n,r,u(F,1)),t.match(/^`/),o="meta";break;case 1:c(n,r,u(F,2)),t.match(_),o="string";break;case 2:c(n,r,u(F,3)),t.match(/^`:/),o="meta";break;case 3:c(n,r,u(F,4)),t.match(b),o="keyword";break;case 4:c(n,r,u(F,5)),t.match(/^:/),o="meta";
break;case 5:c(n,r,u(F,6)),t.match(v);break;default:c(n,r)}else if(d(n)==j||t.match(j,!1))switch(f(n)){case 0:c(n,r,u(j,1)),t.match(/^:/),o="meta";break;case 1:c(n,r,u(j,2)),t.match(b),o="keyword";break;case 2:c(n,r,u(j,3)),t.match(/^:/),o="meta";break;case 3:c(n,r,u(j,4)),t.match(v);break;default:c(n,r)}else if(d(n)==D||t.match(D,!1))switch(f(n)){case 0:c(n,r,u(D,1)),t.match(H),o="variable-2";break;case 1:c(n,r,u(D,2)),t.match(/^_?_?/)&&(o="link");break;default:c(n,r)}else if(t.match(N))c(n,r),o="quote";else if(t.match(O))c(n,r),o="quote";else if(t.match(I))c(n,r),(!t.peek()||t.peek().match(/^\W$/))&&(o="link");else if(d(n)==P||t.match(P,!1))switch(f(n)){case 0:!t.peek()||t.peek().match(/^\W$/)?c(n,r,u(P,1)):t.match(P);break;case 1:c(n,r,u(P,2)),t.match(/^`/),o="link";break;case 2:c(n,r,u(P,3)),t.match(_);break;case 3:c(n,r,u(P,4)),t.match(/^`_/),o="link";break;default:c(n,r)}else t.match(K)?c(n,a):t.next()&&c(n,r);return o}function i(t,n){var a=null;if(d(n)==L||t.match(L,!1))switch(f(n)){case 0:c(n,i,u(L,1)),t.match(H),a="variable-2";break;case 1:c(n,i,u(L,2)),t.match(U);break;case 2:c(n,i,u(L,3)),t.match(B),a="keyword";break;case 3:c(n,i,u(L,4)),t.match(q),a="meta";break;default:c(n,r)}else if(d(n)==T||t.match(T,!1))switch(f(n)){case 0:c(n,i,u(T,1)),t.match(R),a="keyword",t.current().match(/^(?:math|latex)/)?n.tmp_stex=!0:t.current().match(/^python/)&&(n.tmp_py=!0);break;case 1:c(n,i,u(T,2)),t.match(W),a="meta",(t.match(/^latex\s*$/)||n.tmp_stex)&&(n.tmp_stex=void 0,c(n,l,{mode:h,local:e.startState(h)}));break;case 2:c(n,i,u(T,3)),(t.match(/^python\s*$/)||n.tmp_py)&&(n.tmp_py=void 0,c(n,l,{mode:p,local:e.startState(p)}));break;default:c(n,r)}else if(d(n)==M||t.match(M,!1))switch(f(n)){case 0:c(n,i,u(M,1)),t.match(Y),t.match(V),a="link";break;case 1:c(n,i,u(M,2)),t.match(G),a="meta";break;default:c(n,r)}else t.match(E)?(c(n,r),a="quote"):t.match(A)?(c(n,r),a="quote"):(t.eatSpace(),t.eol()?c(n,r):(t.skipToEnd(),c(n,o),a="comment"));return a}function o(e,t){return s(e,t,"comment")}function a(e,t){return s(e,t,"meta")}function s(e,t,n){return e.eol()||e.eatSpace()?(e.skipToEnd(),n):(c(t,r),null)}function l(e,t){return t.ctx.mode&&t.ctx.local?e.sol()?(e.eatSpace()||c(t,r),null):t.ctx.mode.token(e,t.ctx.local):(c(t,r),null)}function u(e,t,n,r){return{phase:e,stage:t,mode:n,local:r}}function c(e,t,n){e.tok=t,e.ctx=n||{}}function f(e){return e.ctx.stage||0}function d(e){return e.ctx.phase}var p=e.getMode(t,"python"),h=e.getMode(t,"stex"),m="\\s+",g="(?:\\s*|\\W|$)",v=new RegExp(n("^{0}",g)),y="(?:[^\\W\\d_](?:[\\w!\"#$%&'()\\*\\+,\\-\\./:;<=>\\?]*[^\\W_])?)",b=new RegExp(n("^{0}",y)),w="(?:[^\\W\\d_](?:[\\w\\s!\"#$%&'()\\*\\+,\\-\\./:;<=>\\?]*[^\\W_])?)",x=n("(?:{0}|`{1}`)",y,w),k="(?:[^\\s\\|](?:[^\\|]*[^\\s\\|])?)",C="(?:[^\\`]+)",_=new RegExp(n("^{0}",C)),S=new RegExp("^([!'#$%&\"()*+,-./:;<=>?@\\[\\\\\\]^_`{|}~])\\1{3,}\\s*$"),$=new RegExp(n("^\\.\\.{0}",m)),M=new RegExp(n("^_{0}:{1}|^__:{1}",x,g)),T=new RegExp(n("^{0}::{1}",x,g)),L=new RegExp(n("^\\|{0}\\|{1}{2}::{3}",k,m,x,g)),E=new RegExp(n("^\\[(?:\\d+|#{0}?|\\*)]{1}",x,g)),A=new RegExp(n("^\\[{0}\\]{1}",x,g)),D=new RegExp(n("^\\|{0}\\|",k)),N=new RegExp(n("^\\[(?:\\d+|#{0}?|\\*)]_",x)),O=new RegExp(n("^\\[{0}\\]_",x)),I=new RegExp(n("^{0}__?",x)),P=new RegExp(n("^`{0}`_",C)),z=new RegExp(n("^:{0}:`{1}`{2}",y,C,g)),F=new RegExp(n("^`{1}`:{0}:{2}",y,C,g)),j=new RegExp(n("^:{0}:{1}",y,g)),R=new RegExp(n("^{0}",x)),W=new RegExp(n("^::{0}",g)),H=new RegExp(n("^\\|{0}\\|",k)),U=new RegExp(n("^{0}",m)),B=new RegExp(n("^{0}",x)),q=new RegExp(n("^::{0}",g)),Y=new RegExp("^_"),V=new RegExp(n("^{0}|_",x)),G=new RegExp(n("^:{0}",g)),K=new RegExp("^::\\s*$"),Z=new RegExp("^\\s+(?:>>>|In \\[\\d+\\]:)\\s");return{startState:function(){return{tok:r,ctx:u(void 0,0)}},copyState:function(t){var n=t.ctx,r=t.tmp;return n.local&&(n={mode:n.mode,local:e.copyState(n.mode,n.local)}),r&&(r={mode:r.mode,local:e.copyState(r.mode,r.local)}),{tok:t.tok,ctx:n,tmp:r}},innerMode:function(e){return e.tmp?{state:e.tmp.local,mode:e.tmp.mode}:e.ctx.mode?{state:e.ctx.local,mode:e.ctx.mode}:null},token:function(e,t){return t.tok(e,t)}}},"python","stex"),e.defineMIME("text/x-rst","rst")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("ruby",function(e){function t(e){for(var t={},n=0,r=e.length;r>n;++n)t[e[n]]=!0;return t}function n(e,t,n){return n.tokenize.push(e),e(t,n)}function r(e,t){if(u=null,e.sol()&&e.match("=begin")&&e.eol())return t.tokenize.push(l),"comment";if(e.eatSpace())return null;var r,i=e.next();if("`"==i||"'"==i||'"'==i)return n(a(i,"string",'"'==i||"`"==i),e,t);if("/"==i){var o=e.current().length;if(e.skipTo("/")){var c=e.current().length;e.backUp(e.current().length-o);for(var f=0;e.current().length<c;){var d=e.next();if("("==d?f+=1:")"==d&&(f-=1),0>f)break}if(e.backUp(e.current().length-o),0==f)return n(a(i,"string-2",!0),e,t)}return"operator"}if("%"==i){var h="string",m=!0;e.eat("s")?h="atom":e.eat(/[WQ]/)?h="string":e.eat(/[r]/)?h="string-2":e.eat(/[wxq]/)&&(h="string",m=!1);var g=e.eat(/[^\w\s=]/);return g?(p.propertyIsEnumerable(g)&&(g=p[g]),n(a(g,h,m,!0),e,t)):"operator"}if("#"==i)return e.skipToEnd(),"comment";if("<"==i&&(r=e.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return n(s(r[1]),e,t);if("0"==i)return e.eatWhile(e.eat("x")?/[\da-fA-F]/:e.eat("b")?/[01]/:/[0-7]/),"number";if(/\d/.test(i))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==i){for(;e.match(/^\\[CM]-/););return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}if(":"==i)return e.eat("'")?n(a("'","atom",!1),e,t):e.eat('"')?n(a('"',"atom",!0),e,t):e.eat(/[\<\>]/)?(e.eat(/[\<\>]/),"atom"):e.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":e.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(e.eatWhile(/[\w$\xa1-\uffff]/),e.eat(/[\?\!\=]/),"atom"):"operator";if("@"==i&&e.match(/^@?[a-zA-Z_\xa1-\uffff]/))return e.eat("@"),e.eatWhile(/[\w\xa1-\uffff]/),"variable-2";if("$"==i)return e.eat(/[a-zA-Z_]/)?e.eatWhile(/[\w]/):e.eat(/\d/)?e.eat(/\d/):e.next(),"variable-3";if(/[a-zA-Z_\xa1-\uffff]/.test(i))return e.eatWhile(/[\w\xa1-\uffff]/),e.eat(/[\?\!]/),e.eat(":")?"atom":"ident";if("|"!=i||!t.varList&&"{"!=t.lastTok&&"do"!=t.lastTok){if(/[\(\)\[\]{}\\;]/.test(i))return u=i,null;if("-"==i&&e.eat(">"))return"arrow";if(/[=+\-\/*:\.^%<>~|]/.test(i)){var v=e.eatWhile(/[=+\-\/*:\.^%<>~|]/);return"."!=i||v||(u="."),"operator"}return null}return u="|",null}function i(e){return e||(e=1),function(t,n){if("}"==t.peek()){if(1==e)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n);n.tokenize[n.tokenize.length-1]=i(e-1)}else"{"==t.peek()&&(n.tokenize[n.tokenize.length-1]=i(e+1));return r(t,n)}}function o(){var e=!1;return function(t,n){return e?(n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n)):(e=!0,r(t,n))}}function a(e,t,n,r){return function(a,s){var l,u=!1;for("read-quoted-paused"===s.context.type&&(s.context=s.context.prev,a.eat("}"));null!=(l=a.next());){if(l==e&&(r||!u)){s.tokenize.pop();break}if(n&&"#"==l&&!u){if(a.eat("{")){"}"==e&&(s.context={prev:s.context,type:"read-quoted-paused"}),s.tokenize.push(i());break}if(/[@\$]/.test(a.peek())){s.tokenize.push(o());break}}u=!u&&"\\"==l}return t}}function s(e){return function(t,n){return t.match(e)?n.tokenize.pop():t.skipToEnd(),"string"}}function l(e,t){return e.sol()&&e.match("=end")&&e.eol()&&t.tokenize.pop(),e.skipToEnd(),"comment"}var u,c=t(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"]),f=t(["def","class","case","for","while","module","then","catch","loop","proc","begin"]),d=t(["end","until"]),p={"[":"]","{":"}","(":")"};return{startState:function(){return{tokenize:[r],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,t){e.sol()&&(t.indented=e.indentation());var n,r=t.tokenize[t.tokenize.length-1](e,t),i=u;if("ident"==r){var o=e.current();r="."==t.lastTok?"property":c.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(o)?"tag":"def"==t.lastTok||"class"==t.lastTok||t.varList?"def":"variable","keyword"==r&&(i=o,f.propertyIsEnumerable(o)?n="indent":d.propertyIsEnumerable(o)?n="dedent":"if"!=o&&"unless"!=o||e.column()!=e.indentation()?"do"==o&&t.context.indented<t.indented&&(n="indent"):n="indent")}return(u||r&&"comment"!=r)&&(t.lastTok=i),"|"==u&&(t.varList=!t.varList),"indent"==n||/[\(\[\{]/.test(u)?t.context={prev:t.context,type:u||r,indented:t.indented}:("dedent"==n||/[\)\]\}]/.test(u))&&t.context.prev&&(t.context=t.context.prev),e.eol()&&(t.continuedLine="\\"==u||"operator"==r),r},indent:function(t,n){if(t.tokenize[t.tokenize.length-1]!=r)return 0;var i=n&&n.charAt(0),o=t.context,a=o.type==p[i]||"keyword"==o.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(n);return o.indented+(a?0:e.indentUnit)+(t.continuedLine?e.indentUnit:0)},electricChars:"}de",lineComment:"#"}}),e.defineMIME("text/x-ruby","ruby")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("sass",function(e){function t(e){return new RegExp("^"+e.join("|"))}function n(e,t){var n=e.peek();return")"===n?(e.next(),t.tokenizer=l,"operator"):"("===n?(e.next(),e.eatSpace(),"operator"):"'"===n||'"'===n?(t.tokenizer=i(e.next()),"string"):(t.tokenizer=i(")",!1),"string")}function r(e,t){return function(n,r){return n.sol()&&n.indentation()<=e?(r.tokenizer=l,l(n,r)):(t&&n.skipTo("*/")?(n.next(),n.next(),r.tokenizer=l):n.next(),"comment")}}function i(e,t){function n(r,i){var a=r.next(),s=r.peek(),u=r.string.charAt(r.pos-2),c="\\"!==a&&s===e||a===e&&"\\"!==u;return c?(a!==e&&t&&r.next(),i.tokenizer=l,"string"):"#"===a&&"{"===s?(i.tokenizer=o(n),r.next(),"operator"):"string"}return null==t&&(t=!0),n}function o(e){return function(t,n){return"}"===t.peek()?(t.next(),n.tokenizer=e,"operator"):l(t,n)}}function a(t){if(0==t.indentCount){t.indentCount++;var n=t.scopes[0].offset,r=n+e.indentUnit;t.scopes.unshift({offset:r})}}function s(e){1!=e.scopes.length&&e.scopes.shift()}function l(e,t){var s=e.peek();if(e.match("/*"))return t.tokenizer=r(e.indentation(),!0),t.tokenizer(e,t);if(e.match("//"))return t.tokenizer=r(e.indentation(),!1),t.tokenizer(e,t);if(e.match("#{"))return t.tokenizer=o(l),"operator";if("."===s)return e.next(),e.match(/^[\w-]+/)?(a(t),"atom"):"#"===e.peek()?(a(t),"atom"):"operator";if("#"===s){if(e.next(),e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/))return"number";if(e.match(/^[\w-]+/))return a(t),"atom";if("#"===e.peek())return a(t),"atom"}return e.match(/^-?[0-9\.]+/)?"number":e.match(/^(px|em|in)\b/)?"unit":e.match(f)?"keyword":e.match(/^url/)&&"("===e.peek()?(t.tokenizer=n,"atom"):"$"===s?(e.next(),e.eatWhile(/[\w-]/),":"===e.peek()?(e.next(),"variable-2"):"variable-3"):"!"===s?(e.next(),e.match(/^[\w]+/)?"keyword":"operator"):"="===s?(e.next(),e.match(/^[\w-]+/)?(a(t),"meta"):"operator"):"+"===s?(e.next(),e.match(/^[\w-]+/)?"variable-3":"operator"):e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/)?(a(t),"meta"):"@"===s?(e.next(),e.eatWhile(/[\w-]/),"meta"):'"'===s||"'"===s?(e.next(),t.tokenizer=i(s),"string"):":"==s&&e.match(h)?"keyword":e.eatWhile(/[\w-&]/)?":"!==e.peek()||e.match(h,!1)?"atom":"property":e.match(p)?"operator":(e.next(),null)}function u(t,n){t.sol()&&(n.indentCount=0);var r=n.tokenizer(t,n),i=t.current();if("@return"===i&&s(n),"atom"===r&&a(n),null!==r){for(var o=t.pos-i.length,l=o+e.indentUnit*n.indentCount,u=[],c=0;c<n.scopes.length;c++){var f=n.scopes[c];f.offset<=l&&u.push(f)}n.scopes=u}return r}var c=["true","false","null","auto"],f=new RegExp("^"+c.join("|")),d=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not"],p=t(d),h=/^::?[\w\-]+/;return{startState:function(){return{tokenizer:l,scopes:[{offset:0,type:"sass"}],indentCount:0,definedVars:[],definedMixins:[]}},token:function(e,t){var n=u(e,t);return t.lastToken={style:n,content:e.current()},n},indent:function(e){return e.scopes[0].offset}}}),e.defineMIME("text/x-sass","sass")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){for(var n=-1,i=1,o=e.split(r),a=0;a<o.length;a++){for(var s=1;s<=o[a].length;s++)i===t&&(n=a),i++;i++}var l=["",""];return 0===t?(l[1]=o[0],l[0]=null):(l[1]=o[n],l[0]=o[n-1]),l}var n=[" ","\\+","\\-","\\(","\\)","\\*","/",":","\\?","\\<","\\>"," "],r=new RegExp(n.join("|"),"g");e.defineMode("swift",function(){var e=["class","deinit","enum","extension","func","import","init","let","protocol","static","struct","subscript","typealias","var","as","dynamicType","is","new","super","self","Self","Type","__COLUMN__","__FILE__","__FUNCTION__","__LINE__","break","case","continue","default","do","else","fallthrough","if","in","for","return","switch","where","while","associativity","didSet","get","infix","inout","left","mutating","none","nonmutating","operator","override","postfix","precedence","prefix","right","set","unowned","unowned(safe)","unowned(unsafe)","weak","willSet"],n=["Infinity","NaN","undefined","null","true","false","on","off","yes","no","nil"],i=["0","1","2","3","4","5","6","7","8","9"],o=["+","-","/","*","%","=","|","&","<",">","[","]"],a=[";",",",".","(",")"],s=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,l=/^[_A-Za-z$][_A-Za-z$0-9]*/,u=/^(@|this\.)[_A-Za-z$][_A-Za-z$0-9]*/,c=/^(\/{3}|\/)/;return{startState:function(){return{prev:!1,func:!1,op:!1,string:!1,escape:!1,inner:!1,comment:!1,num_left:0,num_right:0,word:"",back:0,back_type:!1}},token:function(f,d){var p;if(f.eatSpace())return null;if(p=f.next(),d.string)return d.escape?(d.escape=!1,"string"):'"'!==p&&"'"!==p||d.escape?"\\"===p&&"("===f.peek()?(d.inner=!0,d.string=!1,"keyword"):"\\"===p&&"("!==f.peek()?(d.escape=!0,d.string=!0,"string"):"string":(d.string=!1,"string");if(d.comment)return"*"===p&&"/"===f.peek()?(d.prev="*","comment"):"/"===p&&"*"===d.prev?(d.prev=!1,d.comment=!1,"comment"):"comment";if("/"===p){if("/"===f.peek())return f.skipToEnd(),"comment";if("*"===f.peek())return d.comment=!0,"comment"}if("("===p&&d.inner)return d.num_left++,null;if(")"===p&&d.inner)return d.num_right++,d.num_left===d.num_right&&(d.inner=!1,d.string=!0),null;var h=t(f.string,f.pos),m=h[1],g=h[0];if(-1!==o.indexOf(p+""))return"operator";if(-1!==a.indexOf(p+""))return"punctuation";if("undefined"!=typeof m){if("#"===m.charAt(0))return null;if(-1!==n.indexOf(m))return"atom";if(-1!==i.indexOf(m))return"number";if((-1!==i.indexOf(m.charAt(0)+"")||o.indexOf(m.charAt(0)+""))&&-1!==i.indexOf(p))return"number";if(-1!==e.indexOf(m)||-1!==e.indexOf(m.split(r)[0]))return"keyword";if("@"===m.charAt(0))return"def";if("var"===g||"let"===g)return"def"}if("'"===p||'"'===p)return d.string=!0,"string";if("("===p&&d.inner&&d.num_left++,")"===p&&d.inner)return d.num_right++,d.num_left===d.num_right&&(d.inner=!1,d.string=!0),null;if(f.match(/^-?[0-9\.]/,!1)){var v=!1;if(f.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(v=!0),f.match(/^-?\d+\.\d*/)&&(v=!0),f.match(/^-?\.\d+/)&&(v=!0),v)return"."==f.peek()&&f.backUp(1),"number";var y=!1;if(f.match(/^-?0x[0-9a-f]+/i)&&(y=!0),f.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(y=!0),f.match(/^-?0(?![\dx])/i)&&(y=!0),y)return"number"}if(f.match(c)){if("/"!=f.current()||f.match(/^.*\//,!1))return"string";f.backUp(1)}return f.match(s)?"punctuation":f.match(l)?"variable":f.match(u)?"property":void 0}}}),e.defineMIME("text/swift","swift")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("xml",function(t,n){function r(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if("<"==r)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(a("atom","]]>")):null:e.match("--")?n(a("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(s(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=a("meta","?>"),"meta"):(C=e.eat("/")?"closeTag":"openTag",t.tokenize=i,"tag bracket");if("&"==r){var o;return o=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),o?"atom":"error"}return e.eatWhile(/[^&<]/),null}function i(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=r,C=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return C="equals",null;if("<"==n){t.tokenize=r,t.state=f,t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=o(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function o(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=i;break}return"string"};return t.isInAttribute=!0,t}function a(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=r;break}n.next()}return e}}function s(e){return function(t,n){for(var i;null!=(i=t.next());){if("<"==i)return n.tokenize=s(e+1),n.tokenize(t,n);if(">"==i){if(1==e){n.tokenize=r;break}return n.tokenize=s(e-1),n.tokenize(t,n)}}return"meta"}}function l(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(S.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function u(e){e.context&&(e.context=e.context.prev)}function c(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!S.contextGrabbers.hasOwnProperty(n)||!S.contextGrabbers[n].hasOwnProperty(t))return;u(e)}}function f(e,t,n){return"openTag"==e?(n.tagStart=t.column(),d):"closeTag"==e?p:f}function d(e,t,n){return"word"==e?(n.tagName=t.current(),_="tag",g):(_="error",d)}function p(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&S.implicitlyClosed.hasOwnProperty(n.context.tagName)&&u(n),n.context&&n.context.tagName==r?(_="tag",h):(_="tag error",m)}return _="error",m}function h(e,t,n){return"endTag"!=e?(_="error",h):(u(n),f)}function m(e,t,n){return _="error",h(e,t,n)}function g(e,t,n){if("word"==e)return _="attribute",v;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||S.autoSelfClosers.hasOwnProperty(r)?c(n,r):(c(n,r),n.context=new l(n,r,i==n.indented)),f}return _="error",g}function v(e,t,n){return"equals"==e?y:(S.allowMissing||(_="error"),g(e,t,n))}function y(e,t,n){return"string"==e?b:"word"==e&&S.allowUnquoted?(_="string",g):(_="error",g(e,t,n))}function b(e,t,n){return"string"==e?b:g(e,t,n)}var w=t.indentUnit,x=n.multilineTagIndentFactor||1,k=n.multilineTagIndentPastTag;null==k&&(k=!0);var C,_,S=n.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},$=n.alignCDATA;return{startState:function(){return{tokenize:r,state:f,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;C=null;var n=t.tokenize(e,t);return(n||C)&&"comment"!=n&&(_=null,t.state=t.state(C||n,e,t),_&&(n="error"==_?n+" error":_)),n},indent:function(t,n,o){var a=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+w;if(a&&a.noIndent)return e.Pass;if(t.tokenize!=i&&t.tokenize!=r)return o?o.match(/^(\s*)/)[0].length:0;if(t.tagName)return k?t.tagStart+t.tagName.length+2:t.tagStart+w*x;if($&&/<!\[CDATA\[/.test(n))return 0;var s=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(s&&s[1])for(;a;){if(a.tagName==s[2]){a=a.prev;break}if(!S.implicitlyClosed.hasOwnProperty(a.tagName))break;a=a.prev}else if(s)for(;a;){var l=S.contextGrabbers[a.tagName];if(!l||!l.hasOwnProperty(s[2]))break;a=a.prev}for(;a&&!a.startOfLine;)a=a.prev;return a?a.indent+w:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml"}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("yaml",function(){var e=["true","false","on","off","yes","no"],t=new RegExp("\\b(("+e.join(")|(")+"))$","i");return{token:function(e,n){var r=e.peek(),i=n.escaped;if(n.escaped=!1,"#"==r&&(0==e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(e.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(n.literal&&e.indentation()>n.keyCol)return e.skipToEnd(),"string";if(n.literal&&(n.literal=!1),e.sol()){if(n.keyCol=0,n.pair=!1,n.pairStart=!1,e.match(/---/))return"def";if(e.match(/\.\.\./))return"def";if(e.match(/\s*-\s+/))return"meta"}if(e.match(/^(\{|\}|\[|\])/))return"{"==r?n.inlinePairs++:"}"==r?n.inlinePairs--:"["==r?n.inlineList++:n.inlineList--,"meta";if(n.inlineList>0&&!i&&","==r)return e.next(),"meta";if(n.inlinePairs>0&&!i&&","==r)return n.keyCol=0,n.pair=!1,n.pairStart=!1,e.next(),"meta";if(n.pairStart){if(e.match(/^\s*(\||\>)\s*/))return n.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==n.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(n.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(e.match(t))return"keyword"}return!n.pair&&e.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(n.pair=!0,n.keyCol=e.indentation(),"atom"):n.pair&&e.match(/^:\s*/)?(n.pairStart=!0,"meta"):(n.pairStart=!1,n.escaped="\\"==r,e.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}}}),e.defineMIME("text/x-yaml","yaml")});
angular.module("udacity.grading",["angular-storage","ui.bootstrap","ui.codemirror","ui.router","udacity.templates","udacity.common","udacity.auth","udacity.submissions","udacity.projects","hc.marked"]).config(["$httpProvider","$locationProvider","$sceProvider","markedProvider",function(t,e,i,n){e.hashPrefix("!"),t.interceptors.push("AuthInterceptor"),n.setOptions({gfm:!0}),i.enabled(!1)}]).controller("MainCtrl",["$rootScope","$window","$location","store","UsersModel","AuthenticationService",function(t,e,i,n,r,o){var s=this;s.logout=function(){o.clear(),e.location.replace("http://www.udacity.com")},s.isGrader=function(){var t=o.getCurrentUser();return!(!t||!_.contains(["grader","staff"],t.role))}}]).run(["SmyteService","AuthenticationService",function(t,e){e.isAuthenticated()&&t.init(e.getCurrentUser().id)}]).factory("$exceptionHandler",function(){function t(t){Airbrake&&Airbrake.push({error:{message:t.toString(),stack:t.stack}})}return t}),angular.module("udacity.auth",["udacity.common","ngCookies","angular-storage","ui.router"]),function(){var t="https://review-api.udacity.com",e=72,i="a0324fc4fca953b2ee06047a12f1483a";angular.module("udacity.common",["angular-storage","ui.router","ngFileUpload","hc.marked","ui.codemirror"]).constant("ENDPOINT_URI",t+"/api/v1").constant("SESSION_URI",t+"/sessions").constant("GITHUB_URI",t+"/auth/github").constant("AUDIT_PROJECT_ID",e).constant("SMYTE_CLIENT_KEY",i)}(),angular.module("udacity.projects",["ui.bootstrap","ui.codemirror","udacity.common","ngAnimate","ngSanitize","angular-storage"]),angular.module("udacity.submissions",["ui.bootstrap","ui.codemirror","ui.router","angularMoment","udacity.common"]),angular.module("udacity.grading").config(["$urlRouterProvider",function(t){t.otherwise("/404")}]).run(["$rootScope","$location","AuthenticationService","LoadingService","AlertBoxService",function(t,e,i,n,r){t.$on("$stateChangeStart",function(t,o){n.setLoading(!1),r.propagateNextMessage(),o.authenticate&&!i.isAuthenticated()&&(n.setLoading(!0),i.authenticateAndRedirectTo(e.path()),t.preventDefault())})}]),angular.module("udacity.auth").config(["$stateProvider",function(t){t.state("auth",{url:"/auth",templateUrl:"common/templates/loading.tmpl.html",controller:"AuthResponseCtrl"})}]),angular.module("udacity.common").config(["$stateProvider",function(t){t.state("loading",{url:"/loading",templateUrl:"common/templates/loading.tmpl.html"}).state("error",{url:"/error",templateUrl:"common/templates/error.tmpl.html"}).state("forbidden",{url:"/forbidden",templateUrl:"common/templates/forbidden.tmpl.html"}).state("404",{url:"/404",templateUrl:"common/templates/404.tmpl.html"})}]),angular.module("udacity.projects").config(["$stateProvider",function(t){t.state("projects",{"abstract":!0,url:"/projects",template:"<div ui-view/>"}).state("projects.show",{url:"/:projectId",authenticate:!0,templateUrl:"common/templates/loading.tmpl.html",controller:"ShowCtrl"}).state("projects.start",{url:"/:projectId/start",authenticate:!0,templateUrl:"projects/templates/start.tmpl.html"}).state("projects.submit-repo",{url:"/:projectId/submit-repo",authenticate:!0,templateUrl:"projects/templates/submit-repo.tmpl.html"}).state("projects.submit-zip",{url:"/:projectId/submit-zip",authenticate:!0,templateUrl:"projects/templates/submit-zip.tmpl.html"}).state("projects.in-review",{url:"/:projectId/in-review",templateUrl:"projects/templates/in-review.tmpl.html"}).state("projects.feedback",{url:"/:projectId/feedback",authenticate:!0,templateUrl:"projects/templates/feedback.tmpl.html",controller:"FeedbackCtrl"}).state("reviews-show",{url:"/reviews/:submissionId?audit",authenticate:!0,templateUrl:"projects/templates/show-review.tmpl.html",controller:"ShowReviewCtrl"})}]),angular.module("udacity.submissions").config(["$stateProvider",function(t){t.state("submissions",{"abstract":!0,url:"/submissions",template:"<div ui-view/>"}).state("submissions.apply",{url:"/apply",authenticate:!0,templateUrl:"submissions/templates/apply.tmpl.html",controller:"ApplyCtrl"}).state("submissions.start",{url:"/start",authenticate:!0,templateUrl:"common/templates/loading.tmpl.html",controller:"SubmissionStartCtrl"}).state("submissions.projects-selector",{url:"/projects-selector",authenticate:!0,templateUrl:"submissions/templates/projects-selector.tmpl.html",controller:"ProjectsSelectorCtrl"}).state("submissions.ready",{url:"/ready",templateUrl:"submissions/templates/ready.tmpl.html"}).state("submissions.dashboard",{url:"/dashboard?tab",authenticate:!0,templateUrl:"submissions/templates/dashboard.tmpl.html",controller:"DashboardCtrl"}).state("submissions.agreement",{url:"/agreement",templateUrl:"submissions/templates/agreement.tmpl.html"}).state("submissions.show",{url:"/{submissionId:[0-9]+}",authenticate:!0,templateUrl:"submissions/templates/submission-details.tmpl.html",controller:"SubmissionDetailsCtrl"}).state("submissions.quality-specifications",{url:"/quality-specifications",authenticate:!0,templateUrl:"submissions/templates/quality-specifications.tmpl.html"})}]),angular.module("udacity.auth").controller("AuthResponseCtrl",["$location","AuthenticationService",function(t,e){var i=t.search();i.token&&i.role?e.authenticationCompleted(i.user_id,i.token,i.role):t.url("/error")}]),angular.module("udacity.auth").service("AuthenticationService",["$window","$location","store","SmyteService","SESSION_URI",function(t,e,i,n,r){function o(t){i.set(s,t)}var s="currentUser",a="redirectTo",c=this;c.getCurrentUser=function(){return i.get(s)},c.isAuthenticated=function(){return!!c.getCurrentUser()},c.clear=function(){i.remove(s)},c.authenticateAndRedirectTo=function(e){i.set(a,e),t.open(r,"_self")},c.authenticationCompleted=function(t,r,s){o({id:parseInt(t),token:r,role:s}),n.init(t),e.url(i.get(a))}}]),angular.module("udacity.common").directive("alertBox",function(){var t=15e3;return{scope:{},replace:!0,controller:["$timeout","$scope","AlertBoxService",function(e,i,n){function r(){o&&(e.cancel(o),o=null)}n.setAlertBoxDirectiveScope(i),i.dismissed=!0,i.message=null;var o;i.setMessage=function(n){r(),i.dismissed=!1,i.message=n,o=e(function(){i.dismiss()},t)},i.dismiss=function(){i.dismissed=!0,r()}}],restrict:"A",templateUrl:"common/directives/alert-box.tmpl.html"}}),angular.module("udacity.common").directive("busyClick",["$q",function(t){function e(t){t.find(".glyphicon").hide(),t.prepend(angular.element('<i class="busy-click-spinner glyphicon glyphicon-refresh animate-spin"></i>'))}function i(t){t.find(".busy-click-spinner").remove(),t.find(".glyphicon").show()}return{link:function(n,r){r.on("click",function(){r.prop("disabled",!0),e(r);var o=n.$apply(n.busyClick);o&&t.when(o)["finally"](function(){r.prop("disabled",!1),i(r)})})},scope:{busyClick:"&"}}}]),angular.module("udacity.common").directive("codeComment",["CommentsModel",function(t){var e=["$scope","$element","$timeout",function(e,i,n){function r(t){e.body=t.body,e.category=t.category,e.commentId=t.id}function o(){e.editing=!1,s(),c()}function s(){e.$emit("commentLayoutChanged",e.line)}function a(){e.$emit("newCommentCancelled",e.line)}function c(){n(function(){var t=i.find("img");t.on("load",function(){s()})})}c(),e.isNewComment=function(){return!e.commentId},e.editing=e.isNewComment(),e.categories=[{label:"Critical",value:"critical"},{label:"Nitpick",value:"nitpick"},{label:"Awesome",value:"awesome"}],e.modifiedComment={body:e.body||"",category:e.category},e.$on("cancelNewComment",function(){e.isNewComment()&&!e.modifiedComment.body&&e.cancelComment()}),e.submitComment=function(){var i={body:e.modifiedComment.body,category:e.modifiedComment.category,position:e.line};return e.isNewComment()?t.create(e.contentId,i).then(function(t){var i=t.data;r(i),e.$emit("commentAdded",i),o()}):t.update(e.commentId,i).then(function(t){r(t.data),o()})},e.cancelComment=function(){o(),e.modifiedComment.body=e.body,e.isNewComment()&&a()},e.deleteComment=function(){confirm("Are you sure?")&&t["delete"](e.commentId).then(function(){e.$emit("commentDeleted",e.line)})},e.startEdit=function(){e.editing=!0,s()}}];return{controller:e,templateUrl:"common/directives/code-comment.tmpl.html",scope:{contentId:"@",line:"@",body:"@",category:"@",commentId:"@",editable:"="}}}]),angular.module("udacity.common").directive("codeReview",function(){var t=["js","css","py","html","htm","txt","md","markdown","sql","swift","java","gradle","xml","rst","yml","yaml"],e=["readme"],i=["$scope","$timeout","$element",function(i,n,r){function o(t){return _.filter(t,function(t){return s(t)||a(t)})}function s(e){var i=e.path.substr(e.path.lastIndexOf(".")+1).toLowerCase();return _.contains(t,i)}function a(t){var i=t.path.substr(t.path.lastIndexOf("/")+1).toLowerCase();return _.contains(e,i)}function c(t){return m?m.test(t):!0}function u(t){var e=(t||"").trim();m=e.length>0?l(e):null}function l(t){return t=t.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&"),t=t.replace(/[\*]/g,".*"),new RegExp(t,"i")}function d(){var t=66,e=r.find("[mirror]");e.length>0&&$("html, body").animate({scrollTop:e.offset().top-t},70)}i.$watch("filterPattern",_.debounce(function(){i.$apply(function(){u(i.filterPattern)})},50)),i.files=_.sortBy(o(i.files),function(t){return-t.comments_count}),i.setCurrentFileIndex=function(t){i.currentFileIndex=i.currentFileIndex===t?null:t,n(function(){d()})},i.isFileVisible=function(t){return c(t.path)};var m=null}];return{controller:i,templateUrl:"common/directives/code-review.tmpl.html",restrict:"A",scope:{files:"=",allowComments:"="}}}),angular.module("udacity.common").directive("critiqueEditor",function(){return{templateUrl:"common/directives/critique-editor.tmpl.html",scope:{critique:"=",success:"&",error:"&",cancel:"&",failedRequiredPlaceholder:"=",passedRequiredPlaceholder:"=",optionalPlaceholder:"="},controller:"CritiqueEditorController",restrict:"A"}}).controller("CritiqueEditorController",["$scope","$q","CritiquesModel",function(t,e,i){function n(e){return t.modifiedCritique.result===e}function r(){return i.update(t.critique.id,t.modifiedCritique).then(function(e){_.extend(t.critique,e.data),(t.success||_.noop)()},function(){(t.error||_.noop)()})}var o=t.failedRequiredPlaceholder||"Explain why the project doesn't meet the specification and provide guidance for next submission.",s=t.passedRequiredPlaceholder||"Explain what the student needs to do to exceed the specification.",a=t.optionalPlaceholder||"Give the student some positive feedback.";t.rubric=t.critique.rubric,t.modifiedCritique=_.omit(t.critique,"rubric"),t.isObservationRequired=function(){return n("failed")||n("passed")&&t.isExceedable()},t.isExceedable=function(){return!(!t.rubric||!t.rubric.exceedable)};var c=!0;t.toggleExceededRequirements=function(t){c=_.isUndefined(t)?!c:t},t.isExceededRequirementsVisible=function(){return c},t.getPlaceholderText=function(){return n("failed")?"Required: "+o:n("passed")&&t.isObservationRequired()?"Required: "+s:"Optional: "+a},t._submit=function(){return r()},t._reset=function(){return confirm("Are you sure?")?(t.modifiedCritique.result=null,t.modifiedCritique.observation=null,r()):e.when()},t._cancel=function(){t.modifiedCritique=angular.copy(t.critique),(t.cancel||_.noop)()}}]),angular.module("udacity.common").directive("critiqueView",function(){return{templateUrl:"common/directives/critique-view.tmpl.html",scope:{critique:"=",editable:"=",editClicked:"&",commenterLabel:"="},controller:"CritiqueViewController",restrict:"A"}}).controller("CritiqueViewController",["$scope",function(t){t.rubric=t.critique.rubric,t.commenterLabel=t.commenterLabel||"Reviewer",t.isStudentView=function(){return!t.isEditable};var e=!1;t.toggleExceededRequirements=function(){e=!e},t.isExceededRequirementsVisible=function(){return e}}]),angular.module("udacity.common").directive("critiquesEditor",function(){return{templateUrl:"common/directives/critiques-editor.tmpl.html",scope:{critiquesAccessor:"=",editable:"=",state:"=",failedRequiredPlaceholder:"=",passedRequiredPlaceholder:"=",optionalPlaceholder:"=",commenterLabel:"="},controller:"CritiquesEditorController",restrict:"A"}}).controller("CritiquesEditorController",["$scope",function(t){t.sectionCritiquesState={},_.each(t.critiquesAccessor.getSections(),function(e){t.sectionCritiquesState[e.id]={}}),t.state&&t.$watch("sectionCritiquesState",function(){t.state.editing=_.any(_.pluck(t.sectionCritiquesState,"editing"))},!0)}]),angular.module("udacity.common").directive("loadingContainer",["LoadingService",function(t){return{controller:["$scope",function(e){e.loading=!1,e.setLoading=function(t){e.loading=t},t.setScope(e)}],restrict:"A",transclude:!0,templateUrl:"common/directives/loading-container.tmpl.html"}}]),angular.module("udacity.common").directive("markdownTextarea",["$q","$timeout","ImageUploader","MarkdownTextHelper",function(t,e,i,n){var r=5,o=1e7;return{scope:{form:"="},restrict:"A",transclude:!0,templateUrl:"common/directives/markdown-textarea.tmpl.html",link:function(s,a){function c(){var t=m.get(0);t.scrollTop=t.scrollHeight}function u(r){if(s.errorMessage=null,r&&0!==r.length){var o=l(r);if(o)return void(s.errorMessage=o);d(!0);var a=[],u=m.val();_.each(s.files,function(t){u=n.insertFileUploading(u,t.name),a.push(i.upload(t).then(function(e){var i=m.val();i=n.replaceFileUploadingWithFileLink(i,t.name,e),m.val(i),c()},function(e){var i=m.val();i=n.updateFileUploadingStatus(i,t.name,"Error: "+e),m.val(i),c()},function(e){var i=m.val();i=100>e?n.updateFileUploadingStatus(i,t.name,"Uploading "+e+"%"):n.updateFileUploadingStatus(i,t.name,"Processing..."),m.val(i)}))}),m.val(u),e(function(){c()}),t.all(a)["finally"](function(){d(!1),m.change()})}}function l(t){if(t.length>r)return"You can only attach "+r+" images at a time.";for(var e=0;e<t.length;e++)if(t[e].size&&t[e].size>o)return"Attachment unsuccessful. Image too large."}function d(t){s.form&&s.form.$setValidity("uploading."+m.attr("name"),!t)}s.accept="image/*";var m=a.find("textarea");s.$watch("files",function(){u(s.files)})}}}]),angular.module("udacity.common").directive("mirror",["$compile","$q","$timeout","mirror.WidgetsAccessor","ContentsModel","CommentsModel",function(t,e,i,n,r,o){var s={js:"javascript",css:"css",html:"text/html",htm:"text/html",py:"python",txt:"text",md:"markdown",markdown:"markdown",swift:"text/swift",sql:"sql",java:"clike",xml:"xml",gradle:"text",rst:"rst",yml:"text/x-yaml",yaml:"text/x-yaml"};return{scope:{file:"=",allowComments:"="},templateUrl:"common/directives/mirror.tmpl.html",controller:["$scope","$timeout",function(i,a){function c(t,e,i){var n=m.getWidget(i);if(n)return n;var r=u(e,i);return n=t.addLineWidget(i,r.get(0),{coverGutter:!0,noHScroll:!0}),m.setWidget(i,n),d(n),n}function u(e,n){var r=angular.element("<div></div>");r.attr("id","comment-wrapper-"+n);var o=angular.element("<div></div>");return o.attr({"code-comment":"",line:n,"content-id":i.file.id,editable:i.allowComments}),e&&o.attr({body:e.body,category:e.category,"comment-id":e.id}),r.html(o),t(o)(i),r}function l(t,e){i.$broadcast("cancelNewComment"),c(t,null,e)}function d(t){t&&a(function(){t.changed()})}var m=new n;i.$on("commentAdded",function(){i.file.comments_count++}),i.$on("commentDeleted",function(t,e){return i.file.comments_count--,m.removeWidget(e),!1}),i.$on("commentLayoutChanged",function(t,e){return d(m.getWidget(e)),!1}),i.$on("newCommentCancelled",function(t,e){return m.removeWidget(e),!1}),i.generateEditorOptions=function(t){var e=t.path.substr(t.path.lastIndexOf(".")+1).toLowerCase();return{mode:s[e]||"text",theme:"mbo",readOnly:!0,lineNumbers:!0}},i.codeMirrorLoaded=function(t){i.isLoading=!0;var n=r.fetchBlobData(i.file.blob),s=o.all(i.file.id).then(function(t){return t.data});e.all([n,s]).then(function(e){var n=e[0],r=e[1];t.setValue(n),angular.forEach(r,function(e){var i=parseInt(e.position);c(t,e,i)}),t.on("cursorActivity",function(){i.allowComments&&l(t,t.doc.getCursor().line)}),a(function(){t.refresh()})})["finally"](function(){i.isLoading=!1})}}]}}]).factory("mirror.WidgetsAccessor",function(){var t=function(){this.widgetsByLine={}};return t.prototype={getWidget:function(t){return this.widgetsByLine[parseInt(t)]},setWidget:function(t,e){this.widgetsByLine[parseInt(t)]=e},removeWidget:function(t){var e=this.getWidget(t);e&&(e.clear(),this.widgetsByLine[parseInt(t)]=null)}},t}),angular.module("udacity.common").directive("reviewsList",function(){return{templateUrl:"common/directives/reviews-list.tmpl.html",scope:{reviews:"=",thisReview:"="},restrict:"A"}}),angular.module("udacity.common").directive("rubricsList",function(){return{templateUrl:"common/directives/rubrics-list.tmpl.html",controller:"RubricsListCtrl",scope:{projectId:"="},restrict:"A"}}).controller("RubricsListCtrl",["$scope","RubricsAccessor","RubricsModel",function(t,e,i){var n={};t.rubricsAccessor=null,i.all(t.projectId).then(function(i){t.rubricsAccessor=new e(i.data),_.each(t.rubricsAccessor.getSections(),function(t){n[t.id]=!0})}),t.toggleExpansion=function(t){n[t]=!n[t]},t.isExpanded=function(t){return n[t]}}]),angular.module("udacity.common").directive("scrollIf",["$timeout",function(t){return{scope:{scrollIf:"="},link:function(e,i){function n(){var t=$("body").scrollTop(),e=t+$(window).height();return i.offset().top>=t&&i.offset().top+i.height()<=e}var r=50;e.$watch("scrollIf",function(){t(function(){e.scrollIf&&!n()&&$("html, body").animate({scrollTop:i.offset().top-r},70)})})}}}]),angular.module("udacity.common").directive("sectionCritiques",function(){return{templateUrl:"common/directives/section-critiques.tmpl.html",scope:{section:"=",critiques:"=",editable:"=",state:"=",failedRequiredPlaceholder:"=",passedRequiredPlaceholder:"=",optionalPlaceholder:"=",commenterLabel:"="},controller:"SectionCritiquesController",restrict:"A"}}).controller("SectionCritiquesController",["$scope",function(t){function e(){t.state&&(t.state.editing=_.any(_.values(n)))}var i=!0;t.toggleExpansion=function(){i=!i},t.isExpanded=function(){return i};var n={},r=null;t.setEditingCritique=function(i,o,s){s=_.extend({initial:!1},s||{});var a=!(!o||!t.editable);n[i]=a,s.initial||(r=a?i:null),e()},t.isEditingCritique=function(t){return n[t]},t.isCurrentEditingCritique=function(t){return r===t},_.each(t.critiques,function(e){t.setEditingCritique(e.id,!e.result,{initial:!0})})}]),angular.module("udacity.common").directive("stickyFooter",["$rootScope",function(t){function e(t){var e=$(window).scrollTop(),i=$(window).height();return e+i>t}return{restrict:"A",link:function(i,n){function r(){var t=s.offset().top;return o?e(t)&&(o=!1,n.removeClass("sticky-footer")):e(n.offset().top+a)||(o=!0,n.addClass("sticky-footer")),!1}$(window).load(r),$(window).resize(_.throttle(r,30)),t.$watch(_.debounce(function(){r()},30,!1)),$(document).scroll(_.throttle(r,30));var o=n.hasClass("sticky-footer"),s=$("#footer"),a=n.height()}}}]),angular.module("udacity.common").factory("CritiquesAccessor",["RubricsAccessor",function(t){var e=function(e){this.critiquesData=e,this.rubricsAccessor=new t(_.pluck(e,"rubric")),this.getCritique=_.memoize(function(t){return _.findWhere(this.critiquesData,{rubric_id:t})}),this.getCritiques=_.memoize(function(t){return _.isUndefined(t)?this.critiquesData:_.map(this.getRubrics(t),_.bind(function(t){return this.getCritique(t.id)},this))})};return e.prototype={getRubrics:function(t){return this.rubricsAccessor.getRubrics(t)},getSections:function(){return this.rubricsAccessor.getSections()}},e}]),angular.module("udacity.common").factory("RubricsAccessor",function(){var t=function(t){this.rubricsData=_.sortBy(t,"position"),this.sectionsData=_.chain(this.rubricsData).pluck("section").uniq(function(t){return t.id}).sortBy("position").value(),this.getRubrics=_.memoize(function(t){return _.where(this.rubricsData,{section_id:t})})};return t.prototype={getSections:function(){return this.sectionsData}},t}),angular.module("udacity.common").filter("pluralize",function(){return function(t,e,i){i||(i=e+"s");var n=parseInt(t),r=1===n?e:i;return[n,r].join(" ")}}),angular.module("udacity.common").filter("resultLabel",function(){var t={exceeded:"Exceeds Specification",passed:"Meets Specification",failed:"Does Not Meet Specification",ungradeable:"Does Not Meet Specification"};return function(e,i){i=i||{};var n=t[e]||"";return i.pluralize&&(n+="s"),n}}),angular.module("udacity.common").service("AuditsModel",["$q","$http","Upload","ApiUrlHelper",function(t,e,i,n){var r=this;r.all=function(){return e.get(n.createUrl("me","audits"))},r.markAsRead=function(t){return e.put(n.createUrl("audits",t,"read"))},r.fetchBySubmissionId=function(t,i){return e.get(n.createUrl("submissions",t,"audit"),i||{})},r.submit=function(t){return e.put(n.createUrl("audits",t,"submit"))}}]),angular.module("udacity.common").service("CertificationsModel",["$q","$http","ApiUrlHelper",function(t,e,i){var n=this;n.fetchMyCertifications=function(){return e.get(i.createUrl("me","certifications"))},n.fetch=function(t){return e.get(i.createUrl("certifications",t)).then(function(t){return _.each(t.data.trainings,function(t){t.training_submissions=_.sortBy(t.training_submissions,function(t){return new Date(t.created_at).getTime()})}),t})}}]),angular.module("udacity.common").service("CommentsModel",["$http","ApiUrlHelper",function(t,e){var i=this;i.all=function(i){return t.get(e.createUrl("contents",i,"comments"))},i.create=function(i,n){return t.post(e.createUrl("contents",i,"comments"),n)},i.update=function(i,n){return t.put(e.createUrl("comments",i),n)},i["delete"]=function(i){return t["delete"](e.createUrl("comments",i))}}]),angular.module("udacity.common").service("ContentsModel",["$q","$http","ApiUrlHelper",function(t,e,i){var n=this;n.all=function(t){return e.get(i.createUrl("submissions",t,"contents"))};var r={},o=50;n.fetchBlobData=function(t){var i=r[t];return i||(_.keys(r).length>o&&(r={}),i=e.get(t).then(function(t){return window.atob(t.data.replace(/\s/g,""))}),r[t]=i),i}}]),angular.module("udacity.common").service("CritiquesModel",["$http","ApiUrlHelper",function(t,e){var i=this;i.update=function(i,n){return t.put(e.createUrl("critiques",i),n)},i.allForSubmission=function(i){return t.get(e.createUrl("submissions",i,"critiques"))},i.allForAudit=function(i){return t.get(e.createUrl("audits",i,"critiques"))},i.createForSubmission=function(i,n){return t.post(e.createUrl("submissions",i,"critiques"),{rubric_id:n})},i.createForAudit=function(i,n){return t.post(e.createUrl("audits",i,"critiques"),{rubric_id:n})}}]),angular.module("udacity.common").service("ProjectsModel",["$q","$http","ApiUrlHelper",function(t,e,i){var n=this;n.all=function(){return e.get(i.createUrl("projects"))},n.fetch=function(t){return e.get(i.createUrl("projects",t))},n.translate=function(n){return t(function(t,r){e.get(i.createUrl("projects")+"?udacity_key="+n).then(function(e){e.data=_.first(e.data),t(e)},r)})},n.translateOrFetch=function(e){return t(function(t,i){n.translate(e).then(function(r){r.data?t(r):n.fetch(e).then(t,i)},i)})},n.updateProjectGradable=function(t,n){var r=i.createUrl("projects",t,"certification");return n?e.post(r):e["delete"](r)}}]),angular.module("udacity.common").service("RubricsModel",["$http","ApiUrlHelper",function(t,e){var i=this;i.all=function(i){return t.get(e.createUrl("projects",i,"rubrics"))},i.allOptional=function(t){return i.all(t).then(function(t){var e=t.data;return e=_.where(e,{optional:!0}),t.data=e,t})}}]),angular.module("udacity.common").service("StudentFeedbacksModel",["$q","$http","ApiUrlHelper",function(t,e,i){var n=this;n.all=function(){return e.get(i.createUrl("me","student_feedbacks"))},n.markAsRead=function(t){return e.put(i.createUrl("student_feedbacks",t,"read"))},n.create=function(t,n){return e.post(i.createUrl("submissions",t,"student_feedback"),n)},n.fetchBySubmissionId=function(t){return e.get(i.createUrl("submissions",t,"student_feedback"))}}]),angular.module("udacity.common").service("SubmissionsModel",["$q","$http","Upload","ApiUrlHelper",function(t,e,i,n){function r(){return e.get(n.createUrl("me","submissions"))}var o=this;o.fetchUserSubmissions=function(t,i){return e.get(n.createUrl("users",t,"submissions")+"?project_id="+i)},o.fetchAssignedSubmissions=function(){return e.get(n.createUrl("me","submissions","assigned"))},o.fetchMyProjectSubmissions=function(e){return e=parseInt(e,10),t(function(t,i){r().then(function(i){i.data=i.data.filter(function(t){return t.project_id===e?t:void 0}),t(i)},function(){i()})})},o.fetchMyLatestProjectSubmission=function(e){return t(function(t,i){o.fetchMyProjectSubmissions(e).then(function(e){e.data=e.data[0],t(e)},function(){i()})})},o.fetchPastSubmissions=function(t,e){return o.fetchUserSubmissions(t,e).then(function(t){var e=t.data;return t.data=_.filter(e,function(t){return"failed"===t.result||"ungradeable"===t.result}),t})},o.fetch=function(t){return e.get(n.createUrl("submissions",t))},o.create=function(t,i){return i=i||{},i.notes=i.notes||"",e.post(n.createUrl("projects",t,"submissions"),i)},o.unassignSubmission=function(t){return e.put(n.createUrl("submissions",t,"unassign"))},o.assignSubmission=function(t){return e.post(n.createUrl("projects",t,"submissions","assign"))},o.ungradeable=function(t,i){return e.put(n.createUrl("submissions",t,"ungradeable"),{reason:i})},o.submitFeedback=function(t){return e.put(n.createUrl("submissions",t,"submit"))},o.uploadZipFile=function(e,r){var o=t.defer();return i.upload({url:n.createUrl("submissions",e,"upload_zipfile"),file:r,fileFormDataName:"zipfile"}).progress(function(t){var e=parseInt(100*t.loaded/t.total);o.notify(e)}).success(function(t){o.resolve(t)}).error(function(t){o.reject(t)}),o.promise},o["delete"]=function(t){return e["delete"](n.createUrl("submissions",t))}}]),angular.module("udacity.common").service("TrainingsModel",["$q","$http","ApiUrlHelper",function(t,e,i){var n=this;n.attempt=function(t){return e.post(i.createUrl("trainings",t,"attempt"))}}]),angular.module("udacity.common").service("UsersModel",["$http","ApiUrlHelper",function(t,e){var i=this;i.fetch=function(){return t.get(e.createUrl("me"))},i.update=function(i){return t.put(e.createUrl("me"),i)},i.logout=function(){return t["delete"](e.createUrl("sessions"))},i.fetchRepos=function(){return t.get(e.createUrl("me","github","repos"))},i.fetchGithubAuthorization=function(){return t.get(e.createUrl("me","github","authorization"))},i.getPreConditions=function(){return t.get(e.createUrl("me","preconditions"))},i.acceptTos=function(){return t.put(e.createUrl("me"),{accepted_terms:!0})},i.becomeGrader=function(){return t.put(e.createUrl("me","become_grader"))}}]),angular.module("udacity.common").service("AlertBoxService",function(){var t,e,i=this;i.setNowMessage=function(t){e.setMessage(t)},i.setNextMessage=function(e){t=e},i.propagateNextMessage=function(){e.setMessage(t),t=null},i.setAlertBoxDirectiveScope=function(t){e=t}}),angular.module("udacity.common").service("ApiUrlHelper",["ENDPOINT_URI",function(t){var e=this;e.createUrl=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(t),e.join("/")+".json"}}]),angular.module("udacity.common").service("AuthInterceptor",["$window","$q","$location","AuthenticationService","ENDPOINT_URI",function(t,e,i,n,r){var o=this;o.request=function(t){if(-1!==t.url.indexOf(r)){var e=n.getCurrentUser();t.headers.Authorization=e&&e.token}return t},o.responseError=function(r){return 401===r.status?(n.clear(),t.location.reload()):403!==r.status||r.config.passthrough403||i.path("/forbidden"),e.reject(r)}}]),angular.module("udacity.common").service("ErrorHelper",function(){var t=this,e='<a href="mailto:review-support@udacity.com">review-support@udacity.com</a>',i="An error has occured. Please try again or email "+e+" for assistance.",n=[["Student already has an open submission for this project","You cant submit again at this time since you have an outstanding submission. If you need assistance, please email "+e+"."],["Student has already passed this project","You cant submit again because youve already passed this project."],["Reached incomplete assigned submission limit","Please complete your current review before starting a new project."],["Reached held submission limit","You cant start more reviews for this project until Udacity staff validates your past reviews. We appreciate your patience, and please try again later."]];t.EXCEEDED_ZIP_FILE_SIZE_LIMIT="Your zip file is too large to submit. Please re-submit a smaller zip file, or email "+e+" for assistance.",t.CHOSE_NON_ZIP_FILE="Please choose a file with a .zip extension.",t.translateResponse=function(t){var e=t.data.error||"",r=_.find(n,function(t){return e.indexOf(t[0])>=0});return r&&r[1]||i}}),angular.module("udacity.common").service("ImageUploader",["$q","Upload","ApiUrlHelper",function(t,e,i){var n=this;n.upload=function(n){var r=t.defer();return e.upload({url:i.createUrl("images"),file:n}).progress(function(t){var e=parseInt(100*t.loaded/t.total);r.notify(e)}).success(function(t){r.resolve(t.url)}).error(function(t){r.reject(t.error)}),r.promise}}]),angular.module("udacity.common").service("LoadingService",function(){var t,e=this;e.setScope=function(e){t=e},e.setLoading=function(e){t&&t.setLoading(e)}}),angular.module("udacity.common").service("MarkdownTextHelper",function(){function t(t){return new RegExp("!\\[.+\\]\\("+n(t)+"\\)")}function e(t,e){return i(e,t)}function i(t,e){return"!["+t+"]("+e+")"}function n(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var r=this;r.insertFileUploading=function(t,i){var n=e(i,"Uploading");return t.length>0&&(t+="\n"),t+=n},r.updateFileUploadingStatus=function(i,n,r){var o=e(n,r),s=t(n);return i.replace(s,o)},r.replaceFileUploadingWithFileLink=function(e,n,r){var o=i(n,r),s=t(n);return e.replace(s,o)}}),angular.module("udacity.common").config(function(){var t=new marked.Renderer;t.image=function(t,e,i){var n=marked.Renderer.prototype.image.call(this,t,e,i);return'<a href="'+t+'" target="_blank">'+n+"</a>"},t.link=function(t,e,i){var n=marked.Renderer.prototype.link.call(this,t,e,i),r=$(n).attr("target","_blank");return r.get(0).outerHTML},marked.setOptions({renderer:t,highlight:function(t){return hljs.highlightAuto(t).value},sanitize:!0,gfm:!0,breaks:!0,emoji:function(t){var e=t.split("|"),i=e[0],n=e[1]||"";return n&&(n=" animated slower infinite "+escape(n)),['<img src="',"/assets/images/emojis/",encodeURIComponent(i),'.png"',' alt=":',escape(i),':"',' title=":',escape(i),':"',' class="emoji',n,'"/>'].join("")}})}),angular.module("udacity.common").run(function(){moment.locale("en",{relativeTime:{future:"%s",past:"%s ago",s:"1s",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:function(t){var e=Math.round(t/7);return 7>t?t+" days":e+"w"},M:"1 month",MM:"%d months",y:"1y",yy:"%dy"},longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMM D, YYYY",LLL:"MMMM Do YYYY LT",LLLL:"dddd, MMMM Do YYYY LT"}})}),angular.module("udacity.common").service("SmyteService",["SMYTE_CLIENT_KEY",function(t){var e=this;this.SUBMISSION_REVIEWING="submission_reviewing",e.init=function(e){!function(t,e,i,n,r){t._smyte=t._smyte||[],n=e.createElement(i),n.async=1,n.src="//ping.smyte.com/p.js",r=e.getElementsByTagName(i)[0],r.parentNode.insertBefore(n,r)}(window,document,"script"),_smyte.push(["_setClientKey",t]),_smyte.push(["_setSession",{id:Math.random().toString(36),actor:e}]),_smyte.push(["_log"])},e.log=function(t,e){_smyte&&_smyte.push(["_log",{name:t,data:e}])}}]),angular.module("udacity.projects").controller("ShowCtrl",["$stateParams","$location","ProjectsModel","SubmissionsModel",function(t,e,i,n){function r(t,i){var n,r=t.id,o=i&&i.status;switch(o){case"completed":n="/reviews/"+i.id;break;case"processing":case"awaiting_review":case"in_review":case"held":n="/projects/"+r+"/in-review";break;default:n="/projects/"+r+"/start"}e.path(n)}i.translateOrFetch(t.projectId).then(function(t){var e=t.data;n.fetchMyLatestProjectSubmission(e.id).then(function(t){var i=t.data;r(e,i)})},function(){e.path("/error")})}]),angular.module("udacity.projects").controller("ShowReviewCtrl",["$scope","$location","$stateParams","$q","$modal","store","AuthenticationService","ProjectsModel","SubmissionsModel","StudentFeedbacksModel","CritiquesModel","CritiquesAccessor","ContentsModel","LoadingService",function(t,e,i,n,r,o,s,a,c,u,l,d,m,f){function p(e){return a.fetch(e).then(function(e){t.currentProject=e.data
})}function h(e){return l.allForSubmission(e).then(function(e){var i=e.data;t.critiquesAccessor=new d(i),t.hasFeedback=t.critiquesAccessor.getSections().length>0})}function b(e,i){return c.fetchPastSubmissions(e,i).then(function(e){t.pastReviews=e.data,t.showPastReviews=!_.every(t.pastReviews,function(t){return t.id===parseInt(C)})})}function g(e){return u.fetchBySubmissionId(e).then(function(){t.showStudentFeedback=!1},function(e){t.showStudentFeedback=404===e.status?!0:!1})}function v(){var i=null;i=e.search().audit?"audit":t.hasFeedback?"feedback":"code",t.showTab(i)}var y,w=s.getCurrentUser().id,C=i.submissionId,S=[],U="hasViewedResubmissionVideo";f.setLoading(!0),S.push(c.fetch(C).then(function(i){if(!i.data)return void e.path("/error");var r=i.data;return t.submission=r,n.all([p(r.project_id),h(r.id),b(r.user_id,r.project_id)])})),S.push(m.all(C).then(function(e){t.files=e.data,t.commentsCount=_.reduce(t.files,function(t,e){return t+e.comments_count},0)})),n.all(S).then(function(){w===t.submission.user_id&&g(t.submission.id),v()})["finally"](function(){f.setLoading(!1)}),t.auditTabState={},t.showTab=function(t){y=t},t.isCurrentTab=function(t){return y===t},t.shouldShowAssessmentFooter=function(){return t.isResubmittable()||t.showStudentFeedback},t.isSubmissionByCurrentUser=function(){var e=t.submission&&t.submission.user_id;return e===w},t.isUngradeable=function(){return t.submission&&"ungradeable"===t.submission.result},t.isResubmittable=function(){return t.submission&&t.isSubmissionByCurrentUser()&&_.contains(["failed","ungradeable"],t.submission.result)},t.shouldShowResubmissionVideo=function(){return t.isResubmittable()},t.studentFeedback={rating:0},t.$watch("studentFeedback.rating",function(){if(t.studentFeedback.rating){var e=r.open({templateUrl:"projects/templates/student-feedback-modal.tmpl.html",controller:"StudentFeedbackModalCtrl",controllerAs:"ctrl",resolve:{score:function(){return t.studentFeedback.rating},submission:function(){return t.submission}}});e.result.then(function(){t.showStudentFeedback=!1},function(){t.studentFeedback.rating=0})}}),t.hasViewedResubmissionVideo=function(){return o.get(U)},t.showResubmissionVideo=function(){o.set(U,!0),r.open({templateUrl:"projects/templates/resubmission-video-modal.tmpl.html",size:"lg",windowClass:"embedded-video-640x360"})},t.showStudentFeedback=!1}]),angular.module("udacity.projects").controller("StartCtrl",["$stateParams","$location","$q","ProjectsModel","LoadingService",function(t,e,i,n,r){var o=t.projectId,s=this;s.projectName=null,s.submitRepoPath="/projects/"+o+"/submit-repo",s.submitZipPath="/projects/"+o+"/submit-zip",s.projectId=t.projectId,r.setLoading(!0);var a=[];a.push(n.fetch(o).then(function(t){s.projectName=t.data.name})),i.all(a)["finally"](function(){r.setLoading(!1)}),s.clickedSubmitRepo=function(){e.path(s.submitRepoPath)},s.clickedSubmitZip=function(){e.path(s.submitZipPath)}}]),angular.module("udacity.projects").controller("StudentFeedbackModalCtrl",["$scope","$modalInstance","StudentFeedbacksModel","submission","score",function(t,e,i,n,r){var o=this;o.submission=n,o.score=r,o.submitFeedback=function(){i.create(o.submission.id,{rating:o.score,body:o.feedback}).then(function(){e.close()},function(){})};var s=["Unrated","Very dissatisfied","Somewhat dissatisfied","Neither satisfied nor dissatisfied","Somewhat satisfied","Very satisfied"];o.getRatingDescription=function(t){return s[t]}}]),angular.module("udacity.projects").controller("SubmitRepoCtrl",["$scope","$stateParams","$location","$q","UsersModel","SubmissionsModel","LoadingService",function(t,e,i,n,r,o,s){var a="https://github.com/",c=e.projectId,u=this;u.projectId=c,u.selectedRepoFullName=null,u.submission={},u.repos=[],u.isValid=!1,s.setLoading(!0);var l=[];l.push(r.fetchRepos().then(function(t){u.repos=t.data})),l.push(o.fetchMyLatestProjectSubmission(c).then(function(t){var e=t.data;e&&(u.selectedRepoFullName=e.repo_url&&e.repo_url.replace(a,""))})),n.all(l)["finally"](function(){s.setLoading(!1)}),t.$watch("ctrl.selectedRepoFullName",function(){u.isValid=!!u.selectedRepoFullName,u.submission.repo_url=u.isValid?a+u.selectedRepoFullName:null}),u.hasRepos=function(){return!!(u.repos&&u.repos.length>0)},u.success=function(){i.path("/projects/"+c+"/in-review")}}]),angular.module("udacity.projects").controller("SubmitZipCtrl",["$scope","$stateParams","$location","SubmissionsModel","ErrorHelper",function(t,e,i,n,r){var o=e.projectId,s=this;s.submission={},s.projectId=o,s.isValid=!1,t.$watch("ctrl.zipFiles",function(){s.zipErrorMessage=null,s.isValid=!1;var t=s.getSelectedZipFile();t&&(/\.zip$/i.test(t.name)?s.isValid=!0:s.zipErrorMessage=r.CHOSE_NON_ZIP_FILE)}),s.getSelectedZipFile=function(){return s.zipFiles&&s.zipFiles[0]},s.uploadFile=function(){s.zipErrorMessage=null;var t=s.submission.id;return n.uploadZipFile(t,s.getSelectedZipFile()).then(function(){i.path("/projects/"+o+"/in-review")},function(){n["delete"](t)["finally"](function(){s.zipErrorMessage=r.EXCEEDED_ZIP_FILE_SIZE_LIMIT})})}}]),angular.module("udacity.projects").directive("auditTab",function(){return{controller:"AuditTabCtrl",templateUrl:"projects/directives/audit-tab.tmpl.html",scope:{submission:"=",state:"="},restrict:"A"}}).controller("AuditTabCtrl",["$scope","CritiquesAccessor","AuthenticationService","CritiquesModel","AuditsModel",function(t,e,i,n,r){function o(i){t.audit=i,t.isTrainingAudit=!(!t.submission||!t.submission.training_id),a(i)?n.allForAudit(i.id).then(function(n){var r=n.data;t.auditCritiquesAccessor=new e(r),t.auditEditable=c(i)&&"in_review"===i.status,t.isAuditor=c(i),s("visible",!0),u(i)}):(t.auditCritiquesAccessor=null,t.auditEditable=!1,s("visible",!1))}function s(e,i){t.state&&(t.state[e]=i)}function a(t){return t&&(c(t)||t.result)}function c(t){return t.grader_id===l}function u(t){t.read_at||r.markAsRead(t.id)}var l=i.getCurrentUser().id;t.audit=null,t.isAuditor=!1,t.auditCritiquesState={},t.submitAudit=function(){return t.auditEditable=!1,r.submit(t.audit.id)},t.$watch("submission",function(){t.submission?r.fetchBySubmissionId(t.submission.id,{passthrough403:!0}).then(function(t){o(t.data)},function(){o(null)}):o(null)})}]),angular.module("udacity.projects").directive("createSubmissionForm",function(){return{controller:"CreateSubmissionFormCtrl",controllerAs:"ctrl",templateUrl:"projects/directives/create-submission-form.tmpl.html",transclude:!0,scope:{submission:"=",projectId:"=",githubRequired:"=",transclusionValid:"=",success:"&",error:"&"},restrict:"A"}}).controller("CreateSubmissionFormCtrl",["$scope","$q","$location","SubmissionsModel","CritiquesModel","UsersModel","RubricsModel","ErrorHelper",function(t,e,i,n,r,o,s,a){function c(){var i=[],n=_.where(u.optionalRubrics,{isSelected:!0});if(n.length>0){var o=t.submission.id;_.each(n,function(t){i.push(r.createForSubmission(o,t.id))})}return e.all(i)}var u=this;u.submission=t.submission,u.termsAccepted=!1,u.isLoading=!0,u.hasValidGithubToken=!1,u.githubRequired=t.githubRequired,u.optionalRubricsAttempted=null,u.optionalRubrics=[],u.githubAuthRedirectPath=i.path();var l=[];u.githubRequired&&l.push(o.fetchGithubAuthorization().then(function(t){var e=t.data;u.hasValidGithubToken=e.authorized})),l.push(s.allOptional(t.projectId).then(function(t){u.optionalRubrics=t.data})),e.all(l).then(function(){u.isLoading=!1}),u.isFormComplete=function(t){if(!u.termsAccepted||!t)return!1;if(!_.isEmpty(u.optionalRubrics))if("yes"===u.optionalRubricsAttempted){if(!_.some(u.optionalRubrics,{isSelected:!0}))return!1}else if(null===u.optionalRubricsAttempted)return!1;return!0},u.submit=function(){return u.errorMessage=null,n.create(t.projectId,u.submission).then(function(i){_.extend(t.submission,i.data);var n=[];return n.push(c()),n.push(e.when(t.success())),e.all(n)},function(e){return u.errorMessage=a.translateResponse(e),t.error()})},t.$watch("ctrl.optionalRubricsAttempted",function(){"no"===u.optionalRubricsAttempted&&_.each(u.optionalRubrics,function(t){t.isSelected=!1})})}]),angular.module("udacity.projects").directive("githubAuth",["$window","UsersModel","GITHUB_URI",function(t,e,i){var n=function(t){t.isLoading=!0,t.scrollToConnect=function(){$("html, body").animate({scrollTop:$("#connecting-your-account").offset().top},200)},e.fetch().then(_.bind(function(e){var i=e.data;t.githubAuthUrl=this.getGithubAuthUrl(i.id,t.redirectPath),t.isLoading=!1},this))};return n.$inject=["$scope"],n.prototype={getGithubAuthUrl:function(e,n){return i+"?user_id="+e+"&redirect_path="+t.encodeURIComponent(n)}},{controller:n,templateUrl:"projects/directives/github-auth.tmpl.html",scope:{redirectPath:"@"},restrict:"EA"}}]),angular.module("udacity.projects").directive("rubricsSelector",function(){return{templateUrl:"projects/directives/rubrics-selector.tmpl.html",scope:{rubrics:"="},restrict:"A"}}),angular.module("udacity.submissions").controller("ApplyCtrl",["$scope","$location","UsersModel",function(t,e,i){t.returning=!1,t.completed=!1,t.showLoading=!1;var n=function(){i.fetch().then(function(t){var i=t.data;i.accepted_terms&&"grader"===i.role?e.path("/submissions/dashboard"):r()})},r=function(){i.getPreConditions().then(function(e){e.data.code_review_course_complete&&(t.completed=!0,t.showLoading=!1)})};t.resume=function(){t.returning=!0,t.redirectToClass()},t.redirectToClass=function(){window.open("https://www.udacity.com/course/gr001")},t.redirectToStart=function(){e.path("/submissions/start")},$(window).focus(function(){t.showLoading=!0,r()}).blur(function(){}),n()}]),angular.module("udacity.submissions").controller("DashboardCtrl",["$q","$scope","$state","CertificationsModel","UsersModel","SubmissionsModel","StudentFeedbacksModel","LoadingService","AuditsModel","ErrorHelper",function(t,e,i,n,r,o,s,a,c,u){function l(){return t.all([o.fetchAssignedSubmissions(),n.fetchMyCertifications(),s.all(),c.all()]).then(function(t){e.submissions=t[0].data,e.certifications=t[1].data,e.studentFeedbacks=t[2].data,e.audits=t[3].data,e.availableProjects=_.chain(e.certifications).reduce(function(t,e){return!e.waitlisted_at&&e.certified_at&&e.project.awaiting_review_count>0&&t.push(e.project),t},[]).sortBy(function(t){return-t.awaiting_review_count}).value(),e.newStudentFeedbacksCount=_.filter(e.studentFeedbacks,function(t){return!t.read_at}).length,e.newAuditsCount=_.filter(e.audits,function(t){return!t.read_at}).length,e.hasTrainings=_.any(e.certifications,function(t){return t.trainings_count>0})})}function d(t,i){e.errorTitle=t,e.errorBody=i,e.showError=!0}e.submissions=[],e.availableProjects=[],a.setLoading(!0),r.fetch().then(function(t){var n=t.data;n.accepted_terms?n.preconditions_completed?l()["finally"](function(){a.setLoading(!1),e.showTab(i.params.tab?i.params.tab:"reviews")}):i.go("submissions.start"):i.go("submissions.apply")}),e.clearStudentFeedbacksBadge=function(){e.newStudentFeedbacksCount=0},e.showTab=function(t){e.currentTab=t},e.isSelectedTab=function(t){return e.currentTab===t},e.resumeGrading=function(t){i.go("submissions.show",{submissionId:t.id})},e.cornerClose=function(){e.showError=!1},e.assignDisabled=!1,e.assignSubmission=function(t){e.assignDisabled=!0,o.assignSubmission(t.id).then(function(t){var i=t.data;e.resumeGrading(i)},function(t){404===t.status?(l(),d("No Submissions Available","All submissions for this project have been reviewed. Please try again later.")):400===t.status&&d("Maximum Review Limit Reached",u.translateResponse(t))})["finally"](function(){e.assignDisabled=!1})}}]),angular.module("udacity.submissions").controller("ProjectsSelectorCtrl",["$q","$scope","$state","ProjectsModel","CertificationsModel","UsersModel","LoadingService",function(t,e,i,n,r,o,s){function a(){return n.all().then(function(t){h=t.data})}function c(){return r.fetchMyCertifications().then(function(t){p=t.data,angular.forEach(p,function(t){b[t.project_id]=!0,e.currentProjectIdSelectionState[t.project_id]=!0})})}function u(){return o.fetch().then(function(t){f=t.data,e.isNewGrader=!f.accepted_terms,e.tosAccepted=f.accepted_terms})}function l(t){var e=_.findWhere(p,{project_id:t});return!(!e||!e.waitlisted_at)}function d(t){return!!_.findWhere(p,{project_id:t})}function m(){var r=[];angular.forEach(h,function(t){var i=!!e.currentProjectIdSelectionState[t.id],o=!!b[t.id];i!==o&&r.push(n.updateProjectGradable(t.id,i))}),t.all(r).then(function(){i.go("submissions.dashboard")})}var f,p,h,b={};e.tosAccepted=!1,e.currentProjectIdSelectionState={},e.isNewGrader=!1,s.setLoading(!0),t.all([a(),c(),u()]).then(function(){e.waitlistProjects=_.filter(h,function(t){return l(t.id)||t.waitlist&&!d(t.id)}),e.nonwaitlistProjects=_.difference(h,e.waitlistProjects)})["finally"](function(){s.setLoading(!1)}),e.apply=function(){var e=[];f.accepted_terms||e.push(o.acceptTos()),f.role&&"student"!==f.role||e.push(o.becomeGrader()),t.all(e).then(m)}}]),angular.module("udacity.submissions").controller("QualitySpecificationsCtrl",["AUDIT_PROJECT_ID",function(t){this.auditProjectId=t}]),angular.module("udacity.submissions").controller("SubmissionDetailsCtrl",["$q","$scope","$location","$stateParams","$state","$modal","SubmissionsModel","ProjectsModel","CritiquesModel","CritiquesAccessor","ContentsModel","LoadingService","AlertBoxService","SmyteService",function(t,e,i,n,r,o,s,a,c,u,l,d,m,f){function p(){m.setNextMessage("Review successfully submitted."),e.isTraining()?r.go("submissions.dashboard",{tab:"training"}):r.go("submissions.dashboard")}var h=n.submissionId;d.setLoading(!0);var b=[];b.push(s.fetch(h).then(function(t){var i=t.data,n=i.project_id;e.submission=i,e.isTrainingSubmission=!!i.training_id,a.fetch(n).then(function(t){e.currentProject=t.data}),s.fetchPastSubmissions(i.user_id,n).then(function(t){e.pastReviews=t.data,e.showPastReviews=!_.every(e.pastReviews,function(t){return t.id===parseInt(h)})})})),b.push(c.allForSubmission(h).then(function(t){var i=t.data;e.critiquesAccessor=new u(i),e.hasCritiques=i.length>0})),b.push(l.all(h).then(function(t){e.files=t.data})),t.all(b)["finally"](function(){d.setLoading(!1),"in_review"===e.submission.status&&f.log(f.SUBMISSION_REVIEWING,{id:h})}),e.critiquesState={},e.currentTab="",e.showTab=function(t){e.currentTab=t},e.isSubmissionCompleted=function(){return e.submission&&"completed"===e.submission.status},e.confirmUnassign=function(){o.open({templateUrl:"submissions/templates/confirm-unassign-modal.tmpl.html"}).result.then(function(){return e.unassign()})},e.unassign=function(){s.unassignSubmission(h).then(function(){i.path("/submissions/dashboard")})},e.confirmEvaluationSubmit=function(){return o.open({templateUrl:"submissions/templates/confirm-feedback-modal.tmpl.html",scope:e,size:"sm"}).result.then(function(){return e.submitEvaluation()},function(){return!0})},e.isTraining=function(){return!(!e.submission||!e.submission.training_id)},e.submitEvaluation=function(){return s.submitFeedback(h).then(function(){p()})},e.showUngradeableModal=function(){o.open({templateUrl:"submissions/templates/ungradeable-modal.tmpl.html",controller:"UngradeableModalCtrl",controllerAs:"ctrl",size:"lg",resolve:{submission:function(){return e.submission}}}).result.then(function(){p()})}}]),angular.module("udacity.submissions").controller("SubmissionStartCtrl",["$location","UsersModel",function(t,e){e.fetch().then(function(e){var i=e.data;t.path(i.preconditions_completed?i.accepted_terms?"/submissions/dashboard":"/submissions/projects-selector":"/submissions/apply")})}]),angular.module("udacity.submissions").controller("UngradeableModalCtrl",["$modalInstance","SubmissionsModel","submission",function(t,e,i){var n=this,r=!0;n.submit=function(n){e.ungradeable(i.id,n).then(function(){t.close()})},n.reasonWrapper={reason:""},n.isEditing=function(){return r},n.toggleEdit=function(){r=!r}}]),angular.module("udacity.submissions").directive("auditsList",function(){return{templateUrl:"submissions/directives/audits-list.tmpl.html",scope:{audits:"="},restrict:"A"}}),angular.module("udacity.submissions").directive("certificationView",function(){return{templateUrl:"submissions/directives/certification-view.tmpl.html",scope:{certificationId:"="},controller:"CertificationViewController",restrict:"A"}}).controller("CertificationViewController",["$scope","$state","CertificationsModel","TrainingsModel",function(t,e,i,n){function r(t){return _.findWhere(t.training_submissions,{status:"in_review"})}t.TRAINING_TIME_LIMIT_MESSAGE="You must complete the training review within 12 hours of starting it.",t.moment=window.moment,t.certification=null,t.loading=!0,i.fetch(t.certificationId).then(function(e){t.certification=e.data,t.loading=!1}),t.start=function(t){return n.attempt(t).then(function(t){var i=t.data,n=r(i);e.go("submissions.show",{submissionId:n.id})})}}]),angular.module("udacity.submissions").directive("certificationsList",function(){return{templateUrl:"submissions/directives/certifications-list.tmpl.html",scope:{certifications:"="},controller:"CertificationsListController",restrict:"A"}}).controller("CertificationsListController",["$scope",function(t){t.certifications=_.filter(t.certifications,function(t){return t.trainings_count>0}),t.inProgressCertifications=_.filter(t.certifications,function(t){return!t.waitlisted_at&&!t.certified_at}),t.completedCertifications=_.filter(t.certifications,function(t){return t.certified_at});var e={};t.isExpanded=function(t){return!!e[t]},t.toggleExpansion=function(t){e[t]=!e[t]}}]),angular.module("udacity.submissions").directive("projectsSelectorList",function(){return{templateUrl:"submissions/directives/projects-selector-list.tmpl.html",scope:{projects:"=",selectedProjectIdsMap:"="},link:function(t){t.$watch("projects",function(){if(t.projects){var e=Math.ceil(t.projects.length/2);t.projectsByColumn=[t.projects.slice(0,e),t.projects.slice(e)]}})},restrict:"A"}}),function(){var t=3e3;angular.module("udacity.submissions").directive("studentFeedbacksList",function(){return{templateUrl:"submissions/directives/student-feedbacks-list.tmpl.html",scope:{studentFeedbacks:"=",allReadCallback:"&"},restrict:"A",controller:"StudentFeedbacksListCtrl",controllerAs:"ctrl"}}).controller("StudentFeedbacksListCtrl",["$q","$scope","$timeout","StudentFeedbacksModel",function(e,i,n,r){function o(){var t=s(a.studentFeedbacks),n=[];_.each(t,function(t){n.push(r.markAsRead(t).then(function(t){i.isUpdating=!0;var e=t.data;_.chain(a.studentFeedbacks).findWhere({id:e.id}).extend(e)}))}),i.allReadCallback&&e.all(n).then(function(){i.allReadCallback()})}function s(t){return _.chain(t).filter(function(t){return!t.read_at}).pluck("id").value()}var a=this;a.studentFeedbacks=i.studentFeedbacks,n(o,t)}])}(),angular.module("udacity.submissions").filter("submissionAssignmentTimeRemaining",function(){return function(t){var e=window.moment,i=e(t.assigned_at).add(12,"h"),n=i.isAfter(e());return n?i.fromNow():"0m"}}),angular.module("udacity.submissions").filter("trainingStatusLabel",function(){var t={passed:": Completed",in_audit:": Submitted, pending audit"};return function(e){return t[e]}});
!function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/directives/alert-box.tmpl.html",'<div class="row row-gap-medium" ng-show="!!message && !dismissed" ng-class="{fadeInDown: !!message, fadeOutUp: dismissed, animated: !!message || dismissed}"> <div class="col-md-offset-3 col-md-6"> <div class="alert alert-success hr-slim"> <button type="button" ng-click="dismiss()" class="close" aria-label="Close"> <span aria-hidden="true"></span> </button> <img class="icon img-initial" src="/assets/images/checkmark.svg">{{ message }} </div> </div> </div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/directives/code-comment.tmpl.html",'<div class="comment-container"> <div ng-if="!editing" class="comment-viewer"> <div class="comment clearfix"> <div class="pill pill-{{category}}"><span>{{ category }}</span></div> <div class="inline-comment" marked="body"></div> </div> <div ng-if="editable"> <div class="row row-gap-small"></div> <button ng-click="startEdit()" type="button" class="btn btn-default"> <span class="glyphicon glyphicon-edit"></span>&nbsp; Edit </button> </div> </div> <div ng-if="editing" class="comment-editor"> <ng-form name="commentForm"> <div class="category-inputs"> <label ng-repeat="categoryInfo in categories"> <input type="radio" required="" name="category" ng-model="modifiedComment.category" ng-value="categoryInfo.value"> &nbsp; {{ categoryInfo.label }} </label> </div> <div ng-if="!!modifiedComment.category"> <div class="form-group"> <div class="row row-gap-small"></div> <div markdown-textarea="" form="commentForm"> <textarea rows="4" required="" class="form-control" type="text" name="comment" ng-model="modifiedComment.body" placeholder="Write something about this line of code...">{{ body }}</textarea> </div> </div> <div class="row row-buttons"> <div class="col-xs-12"> <button type="button" class="btn btn-secondary" busy-click="submitComment()" ng-disabled="commentForm.$invalid"> <span class="glyphicon glyphicon-ok"></span>&nbsp; Save &amp; Preview </button> <button ng-if="!isNewComment()" type="button" class="btn btn-default" ng-click="deleteComment()"> <span class="glyphicon glyphicon-trash"></span>&nbsp; Delete </button> <button type="button" class="btn btn-default" ng-click="cancelComment()">Cancel</button> </div> </div> </div> </ng-form> </div> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/directives/code-review.tmpl.html",'<div ng-show="allowComments"> <input type="text" class="form-control" ng-model="filterPattern" placeholder=\'File filter (e.g. "readme.md", ".css", "src/lib/*.js")\'> <div class="row row-gap-small"></div> </div> <div class="code-section-item" ng-repeat="file in files" ng-show="isFileVisible(file)"> <div class="code-section-item-title" ng-click="setCurrentFileIndex($index)"> <strong>{{file.path}}</strong> <small class="pull-right"> <span ng-class="{\'glyphicon-chevron-right\': currentFileIndex !== $index, \'glyphicon-chevron-down\': currentFileIndex === $index}" class="text-muted glyphicon"> </span> </small> <span ng-if="file.comments_count > 0" class="badge badge-info text-center pull-right"> {{ file.comments_count }} </span> </div> <div class="code-section-item-body" ng-if="currentFileIndex === $index"> <div mirror="" file="file" allow-comments="allowComments"> </div> </div> </div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/directives/critique-editor.tmpl.html",'<div class="row row-gap-small"></div> <h4 class="h-slim">Specification</h4> <p marked="rubric.passed_description"></p> <ng-form name="form"> <div class="row"> <div class="col-md-4"> <label> <input required="" type="radio" name="result-{{critique.id}}" value="failed" ng-model="modifiedCritique.result" ng-click="toggleExceededRequirements(false)">&nbsp;&nbsp; {{ \'failed\' | resultLabel }} </label> </div> <div class="col-md-4"> <label> <input required="" type="radio" name="result-{{critique.id}}" value="passed" ng-model="modifiedCritique.result" ng-click="toggleExceededRequirements(false)">&nbsp;&nbsp; {{ \'passed\' | resultLabel }} </label> </div> <div ng-if="isExceedable()" class="col-md-4"> <label> <input required="" type="radio" name="result-{{critique.id}}" value="exceeded" ng-model="modifiedCritique.result" ng-click="toggleExceededRequirements(false)">&nbsp;&nbsp; {{ \'exceeded\' | resultLabel }} </label> <div class="requirements-panel"> <a href="" class="expandable" ng-class="{expanded: isExceededRequirementsVisible()}" ng-click="toggleExceededRequirements()"> <small>Requirements</small> </a> <p ng-if="isExceededRequirementsVisible()" marked="rubric.exceeded_description" class="caption caption-small"> </p> </div> </div> </div> <div ng-if="!!modifiedCritique.result"> <div markdown-textarea=""> <div class="row row-gap-small"></div> <textarea ng-required="isObservationRequired()" class="form-control" name="assessment" rows="4" placeholder="{{ getPlaceholderText() }}" ng-model="modifiedCritique.observation">\n      </textarea> </div> <div class="row row-buttons"> <div class="col-xs-12"> <button type="button" class="btn btn-secondary" busy-click="_submit()" ng-disabled="form.$invalid"> <span class="glyphicon glyphicon-ok"></span>&nbsp; Save &amp; Preview </button> <button type="button" class="btn btn-default" busy-click="_reset()"> <span class="glyphicon glyphicon-trash"></span>&nbsp; Reset </button> <button type="button" class="btn btn-default" ng-click="_cancel()"> Cancel </button> </div> </div> </div> </ng-form> <div class="row row-gap-small"></div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/directives/critique-view.tmpl.html",'<div class="row row-gap-small"></div> <h4 class="h-slim"> {{ isStudentView() && rubric.optional ? \'Optional \' : \'\' }}Specification </h4> <p marked="rubric.passed_description"></p> <div class="pill pill-{{critique.result}}"> <span>{{ critique.result | resultLabel }}</span> </div> <div ng-if="!!critique.observation"> <div class="row row-gap-small"></div> <strong>{{ commenterLabel }} Comments</strong> <p class="p-slim" marked="critique.observation"></p> </div> <div ng-if="rubric.exceedable"> <div class="row row-gap-small"></div> <a href="" class="expandable" ng-class="{expanded: isExceededRequirementsVisible()}" ng-click="toggleExceededRequirements()"> Requirements to exceed the specification </a> <p ng-if="isExceededRequirementsVisible()" marked="rubric.exceeded_description"></p> </div> <div ng-if="editable"> <div class="row row-gap-small"></div> <button ng-click="editClicked()" class="btn btn-default"> <span class="glyphicon glyphicon-edit"></span>&nbsp; Edit </button> </div> <div class="row row-gap-small"></div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/directives/critiques-editor.tmpl.html",'<div ng-repeat="section in critiquesAccessor.getSections()"> <div section-critiques="" section="section" critiques="critiquesAccessor.getCritiques(section.id)" editable="editable" failed-required-placeholder="failedRequiredPlaceholder" passed-required-placeholder="passedRequiredPlaceholder" optional-placeholder="optionalPlaceholder" commenter-label="commenterLabel" state="sectionCritiquesState[section.id]"> </div> <div class="row row-gap-large"></div> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/directives/loading-container.tmpl.html",'<div ng-show="loading" class="row"> <div class="col-sm-6 col-sm-offset-3 text-center"> <div class="row row-gap-huge"></div> <img src="//lh5.ggpht.com/b3OandPWsUWAnRVS5d8JS8OL0nu8dU2d3NceS7p1yKhPl9KD4EhqeylPm7yFbft5wmsA2VCAZ-8wAkmFduXJ=s0#w=90&h=30"> <div class="row row-gap-huge"></div> </div> </div> <div ng-show="!loading"> <div ng-transclude=""></div> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/directives/markdown-textarea.tmpl.html",'<div ngf-drop="" ng-model="files" ngf-multiple="true" ngf-allow-dir="false" ngf-max-size="maxSize" ngf-accept="accept" accept="{{ accept }}" ngf-drag-over-class="{accept:\'dragover\', reject:\'dragover-reject\', delay:100}" class="drop-box"> <div ng-transclude=""></div> <p class="caption pull-right"> <a href="https://guides.github.com/features/mastering-markdown/" target="_blank">Markdown supported</a> </p> <p class="caption"> Attach images (.png, .gif, .jpg) by dragging &amp; dropping or <a href="" ngf-select="" ngf-accept="accept" accept="{{ accept }}" ng-model="files" ngf-multiple="true">selecting them</a> (10 MB limit). </p> <p ng-if="errorMessage" class="pull-left caption error"> {{ errorMessage }} </p> </div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/directives/mirror.tmpl.html",'<div ng-show="isLoading" class="loading"> </div> <div class="code-mirror-holder" ui-codemirror="{ onLoad: codeMirrorLoaded }" ui-codemirror-opts="generateEditorOptions(file)" ng-hide="isLoading"> </div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/directives/reviews-list.tmpl.html",'<table class="table borderless"> <thead> <th>Reviews</th> <th>Reviewed</th> <th>Student Notes</th> </thead> <tr ng-repeat="review in reviews"> <td class="width-sm"> <a ng-if="!(thisReview && thisReview.id === review.id)" ui-sref="reviews-show({submissionId: review.id})" target="_blank"> Review #{{reviews.length - $index}} </a> <span ng-if="thisReview && thisReview.id === review.id"> This review </span> </td> <td class="width-sm"> <span am-time-ago="review.completed_at"></span> </td> <td> <div marked="review.notes || \'_None provided_\'"></div> </td> </tr> </table>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/directives/rubrics-list.tmpl.html",'<div ng-repeat="section in rubricsAccessor.getSections()"> <div class="panel"> <div class="col-xs-12 bg-gray"> <div class="row row-gap-medium"></div> <h2 class="h-slim-top expandable expandable-pull-right" ng-class="{expanded: isExpanded(section.id)}" ng-click="toggleExpansion(section.id)"> {{ section.name }} </h2> <div ng-if="isExpanded(section.id)"> <div ng-repeat="rubric in rubricsAccessor.getRubrics(section.id)"> <div class="col-xs-12 bg-white"> <h4>Specification</h4> <p marked="rubric.passed_description"></p> </div> <div class="row row-gap-medium"></div> </div> </div> <div class="row row-gap-medium"></div> </div> </div> <div class="row row-gap-large"></div> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/directives/section-critiques.tmpl.html",'<div class="panel"> <div class="col-xs-12 bg-gray"> <div class="row row-gap-medium"></div> <h2 class="h-slim-top expandable expandable-pull-right" ng-class="{expanded: isExpanded()}" ng-click="toggleExpansion()"> {{ section.name }} </h2> <div ng-if="isExpanded()"> <div ng-repeat="critique in critiques"> <div class="col-xs-12 bg-white" scroll-if="isCurrentEditingCritique(critique.id)"> <div critique-editor="" critique="critique" success="setEditingCritique(critique.id, !critique.result)" cancel="setEditingCritique(critique.id, !critique.result)" failed-required-placeholder="failedRequiredPlaceholder" passed-required-placeholder="passedRequiredPlaceholder" optional-placeholder="optionalPlaceholder" ng-if="isEditingCritique(critique.id)"> </div> <div critique-view="" critique="critique" editable="editable" edit-clicked="setEditingCritique(critique.id, true)" commenter-label="commenterLabel" ng-if="!isEditingCritique(critique.id)"> </div> </div> <div class="row row-gap-medium"></div> </div> </div> <div class="row row-gap-medium"></div> </div> </div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/templates/404.tmpl.html",'<div class="row row-gap-huge"> <div class="col-sm-6 col-sm-offset-3 text-center"> <div class="info-pic"><img src="//lh5.ggpht.com/T4e0wNWnz3lvue6BlVQky1cEHlUvWBbbSKLVYLXRVhUGIgXHTvbZXGmZEdM1VnCiOHkzMkDNjMYdw1GtEw=s0#w=273&amp;h=172" alt="What are you doing here, Doctor?" title="What are you doing here, Doctor?"></div> <h1>We\'re very sorry...</h1> <p>The page you were looking for slipped through a crack and can\'t be found!</p> </div> </div> <div class="row row-gap-huge"></div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/templates/error.tmpl.html",'<div class="row row-gap-huge"> <div class="col-sm-6 col-sm-offset-3 text-center"> <div class="info-pic"> <img src="//lh3.ggpht.com/1Ln2UeRk87WQc17Hi2cOYwc49GrxN6_paJpM6gn7zfuez8drlGRxPFMTZeyxNiOb1NRnaxfQW9ba39e75llN=s0#w=454&h=185" alt="<vadervoice>NOOOOOOOOOoooooooo!</vadervoice>" title="<vadervoice>NOOOOOOOOOoooooooo!</vadervoice>"> </div> <h1>Oops, something went wrong...</h1> <p>An error occured while processing your last request.</p> <p>Return to <a href="http://udacity.com/">Udacity homepage</a>.</p> </div> </div> <div class="row row-gap-huge"></div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/templates/forbidden.tmpl.html",'<div class="row row-gap-huge"> <div class="col-sm-6 col-sm-offset-3 text-center"> <div class="info-pic"> <img src="//lh3.ggpht.com/1Ln2UeRk87WQc17Hi2cOYwc49GrxN6_paJpM6gn7zfuez8drlGRxPFMTZeyxNiOb1NRnaxfQW9ba39e75llN=s0#w=454&h=185" alt="<vadervoice>NOOOOOOOOOoooooooo!</vadervoice>" title="<vadervoice>NOOOOOOOOOoooooooo!</vadervoice>"> </div> <h1>Unauthorized</h1> <p>You don\'t have permission to perform your last request.</p> </div> </div> <div class="row row-gap-huge"></div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("common/templates/loading.tmpl.html",'<div class="row row-gap-huge"> <div class="text-center"> <div class="loading"></div> </div> </div> <div class="row row-gap-huge"> </div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("projects/directives/audit-tab.tmpl.html",'<div class="clearfix" ng-if="auditCritiquesAccessor"> <div ng-if="audit.result"> <h2 class="h-slim-top {{audit.result}}" ng-class="{\'result-label\': isTrainingAudit}"> {{ audit.result | resultLabel:{pluralize: true} }} </h2> <div ng-if="audit.result === \'failed\'"> <p ng-if="isTrainingAudit"> Your review does not meet all of our quality specifications. Read through the Coachs comments and then continue to the <a ui-sref="submissions.dashboard({tab: \'training\'})" href="">dashboard</a> for your next instructions. We may limit the number of attempts you have to successfully complete this review. </p> <p ng-if="!isTrainingAudit"> Your review does not meet all of our quality specifications. The only action required is to apply the auditors feedback to future reviews. Reminder: You may not be compensated for this review. </p> </div> <div ng-if="audit.result === \'passed\'"> <p ng-if="isTrainingAudit"> Great work! Your review meets all of our quality specifications. You may read through this audit and then continue to the <a ui-sref="submissions.dashboard({tab: \'training\'})" href="">dashboard</a> for your next instructions. </p> <p ng-if="!isTrainingAudit"> Your review meets all of our quality specifications. Keep up the good work! </p> </div> </div> <div critiques-editor="" critiques-accessor="auditCritiquesAccessor" editable="auditEditable" failed-required-placeholder="\'Explain why the reviewer did not meet the specification and, if applicable, provide guidance for next review.\'" optional-placeholder="\'Give the reviewer some positive feedback.\'" commenter-label="\'Auditor\'" state="auditCritiquesState"> </div> <div class="pull-right" ng-if="auditEditable"> <button busy-click="submitAudit()" ng-disabled="auditCritiquesState.editing" class="btn btn-primary"> <i class="glyphicon glyphicon-check"></i> Submit Audit </button> <div class="row row-gap-medium"></div> </div> <div ng-if="!isAuditor"> <div class="row"></div> <hr class="slim"> <div class="row row-gap-medium"></div> <p class="slim"> <img src="/assets/images/support-icon.svg" class="img-initial icon"> Have a question about your audit? Email us at <a href="mailto:review-support@udacity.com">review-support@udacity.com</a>. </p> <div class="row row-gap-medium"></div> </div> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("projects/directives/create-submission-form.tmpl.html",'<div ng-if="ctrl.isLoading" class="text-center"> <div class="loading"></div> </div> <div ng-if="!ctrl.isLoading"> <div ng-if="ctrl.githubRequired && !ctrl.hasValidGithubToken"> <div github-auth="" redirect-path="#!{{ ctrl.githubAuthRedirectPath }}"> </div> </div> <div ng-if="!ctrl.githubRequired || ctrl.hasValidGithubToken"> <form> <div ng-transclude=""></div> <div ng-if="ctrl.optionalRubrics && ctrl.optionalRubrics.length > 0"> <div class="form-group text-left"> <h3>Did you attempt any of the optional features?</h3> <div class="radio"> <label> <input type="radio" ng-model="ctrl.optionalRubricsAttempted" value="yes"> Yes </label> </div> <div class="radio"> <label> <input type="radio" ng-model="ctrl.optionalRubricsAttempted" value="no"> No </label> </div> </div> <div class="form-group text-left" ng-show="ctrl.optionalRubricsAttempted === \'yes\'"> <div class="row row-gap-small"></div> <h3>Select any of the optional features that you attempted</h3> <div rubrics-selector="" rubrics="ctrl.optionalRubrics"> </div> </div> </div> <div class="form-group"> <div class="row row-gap-small"></div> <h3>Notes to reviewer</h3> <p class="text-left"> Are there any areas you would like your reviewer to pay particular attention to? </p> <textarea class="form-control" ng-model="ctrl.submission.notes" rows="4"></textarea> <div class="row row-gap-small"></div> <div class="text-left"> <h3>Agree to the honor code</h3> <label> <input type="checkbox" ng-model="ctrl.termsAccepted"> <div class="checkbox-description"> <p> I confirm that this submission is my own work. I have cited parts from websites, books, forums, blogs, GitHub repos, etc. I understand that I may be required to explain my work in a video call with a Udacity Coach in order to graduate. </p> </div> </label> </div> </div> <div class="row row-gap-medium"> <div class="col-xs-12 text-center"> <button ng-disabled="!ctrl.isFormComplete(transclusionValid)" type="submit" class="btn btn-primary btn-min-width-sm" busy-click="ctrl.submit()"> Submit </button> <div ng-show="ctrl.errorMessage" scroll-if="ctrl.errorMessage" class="row row-gap-medium"> <div class="alert alert-danger" ng-bind-html="ctrl.errorMessage"> </div> </div> </div> </div> </form> </div> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("projects/directives/github-auth.tmpl.html",'<div class="row text-center"> <p class="text-center"> Connect your GitHub account to your Udacity account to enable us to access your public repositories. </p> <a href="{{ githubAuthUrl }}" class="btn btn-lg btn-primary"> <i class="glyphicon glyphicon-link"></i> Connect with GitHub </a> </div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("projects/directives/rubrics-selector.tmpl.html",'<div class="text-left rubrics-selector"> <div ng-repeat="rubric in rubrics"> <label class="full-width"> <input type="checkbox" name="rubric" ng-model="rubric.isSelected"> <div class="checkbox-description"> <div marked="rubric.passed_description"></div> </div> </label> </div> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("projects/templates/in-review.tmpl.html",'<div class="row row-gap-huge projects_review"> <div class="col-sm-6 col-sm-offset-3 text-center"> <img class="page-icon-lg" src="/assets/images/student-processing.svg"> <h1>Relax! We\'re processing your submission</h1> <p> Updates will be sent to your email and displayed in your <a href="https://udacity.com/me">Udacity&nbsp;Home</a>. </p> </div> </div> <div class="row row-gap-huge"> </div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("projects/templates/resubmission-video-modal.tmpl.html",'<div class="modal-body"> <div class="row"> <div class="col-xs-12"> <iframe width="640" height="360" src="https://www.youtube.com/embed/DklT8Y4GJYA?showinfo=0&autoplay=1&controls=2&html5=1&theme=light" frameborder="0" allowfullscreen=""></iframe> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("projects/templates/show-review.tmpl.html",'<div class="row"> <div class="col-md-8 col-md-offset-2"> <h1>{{ currentProject.name }}</h1> <ul class="nav nav-tabs" ng-hide="isUngradeable()"> <li ng-class="{\'active\': isCurrentTab(\'notes\')}"> <a class="navbar-item" href="" ng-click="showTab(\'notes\')">Student Notes</a> </li> <li ng-class="{\'active\': isCurrentTab(\'code\')}"> <a class="navbar-item" href="" ng-click="showTab(\'code\')"> Code Review&nbsp; <span ng-if="commentsCount > 0" class="badge badge-info text-center"> {{ commentsCount }} </span> </a> </li> <li ng-if="hasFeedback" ng-class="{\'active\': isCurrentTab(\'feedback\')}"> <a class="navbar-item" href="" ng-click="showTab(\'feedback\')">Project Review</a> </li> <li ng-if="showPastReviews" ng-class="{\'active\': isCurrentTab(\'reviews\')}"> <a class="navbar-item" href="" ng-click="showTab(\'reviews\')">Project History</a> </li> <li ng-if="auditTabState.visible" ng-class="{\'active\': isCurrentTab(\'audit\')}"> <a class="navbar-item" href="" ng-click="showTab(\'audit\')">Audit</a> </li> </ul> </div> </div> <div class="row"> <div class="col-md-8 col-md-offset-2"> <div ng-show="isUngradeable()"> <p> Your project could not be reviewed. Please resubmit after you address the issue noted by the reviewer. </p> <strong>Reviewer\'s Assessment</strong> <p marked="submission.result_reason"></p> <div class="row row-gap-medium"></div> <a href="{{ submission.archive_url }}"> <i class="glyphicon glyphicon-download-alt"></i>&nbsp; Download your submission </a> <div class="row row-gap-medium"></div> </div> <div ng-hide="isUngradeable()"> <div class="row row-gap-medium"></div> <section ng-show="isCurrentTab(\'notes\')"> <div class="submission-notes" marked="submission.notes || \'_None provided_\'"></div> <div class="row row-gap-medium"></div> </section> <section class="code-section" ng-show="isCurrentTab(\'code\')"> <a href="{{ submission.archive_url }}"> <i class="glyphicon glyphicon-download-alt"></i>&nbsp; Download submission </a> <div class="row row-gap-small"></div> <div code-review="" ng-if="files" files="files" allow-comments="false"> </div> <div class="row row-gap-medium"></div> </section> <section ng-if="critiquesAccessor" ng-show="isCurrentTab(\'feedback\')"> <h2 ng-if="hasFeedback && submission.result" class="result-label h-slim-top {{ submission.result }}"> {{ submission.result | resultLabel:{pluralize: true} }} </h2> <div critiques-editor="" critiques-accessor="critiquesAccessor" editable="false"> </div> </section> <section ng-show="isCurrentTab(\'reviews\')"> <div reviews-list="" reviews="pastReviews" this-review="submission"></div> </section> <section ng-show="isCurrentTab(\'audit\')"> <div audit-tab="" submission="submission" state="auditTabState"></div> </section> </div> </div> </div> <div ng-show="isCurrentTab(\'feedback\') || isUngradeable()"> <div ng-if="!hasViewedResubmissionVideo() && isResubmittable()" class="row row-gap-small section section-standout section-small"> <div class="col-md-8 col-md-offset-2"> <div class="row"> <div class="col-md-3"> <div class="thumbnail thumbnail-bordered t-slim"> <img src="/assets/images/resubmission-video.jpg"> </div> </div> <div class="col-md-9"> <h3>Best practices for your project resubmission</h3> <p>Ben shares 5 helpful tips to get you through revising and resubmitting your project.</p> <p class="caption"> <a href="" ng-click="showResubmissionVideo()"> <i class="glyphicon glyphicon-play-circle"></i>&nbsp;Watch Video </a> (3:01) </p> </div> </div> </div> </div> <div ng-if="hasViewedResubmissionVideo() && isSubmissionByCurrentUser()" class="row"> <div class="col-md-8 col-md-offset-2"> <hr class="slim"> </div> </div> <div class="row section section-small"> <div class="col-md-8 col-md-offset-2"> <div ng-if="hasViewedResubmissionVideo() && isResubmittable()"> <p> <img src="/assets/images/collapsed-video.svg" class="img-initial icon"> Learn the <a href="" ng-click="showResubmissionVideo()">best practices for revising and resubmitting your project</a>. </p> <br> </div> <p class="slim" ng-if="isSubmissionByCurrentUser()"> <img src="/assets/images/support-icon.svg" class="img-initial icon"> Have a question about your review? Email us at <a href="mailto:review-support@udacity.com">review-support@udacity.com</a> and include the link to this review. </p> </div> </div> </div>  <div ng-if="shouldShowAssessmentFooter()" class="assessment-footer-gap"></div> <footer sticky-footer="" ng-if="shouldShowAssessmentFooter()" class="assessment-footer row"> <hr class="hr-slim"> <div class="col-xs-12 col-md-8 col-md-offset-2"> <span> <div ng-show="!isUngradeable() && showStudentFeedback"> <span> How satisfied are you with this feedback? <div rating="" ng-model="studentFeedback.rating"></div> </span> </div> </span> <div class="pull-right"> <a ng-if="isResubmittable()" ui-sref="projects.start({projectId: currentProject.id})" class="btn btn-primary"> <i class="glyphicon glyphicon-check"></i> Resubmit Project </a> </div> </div> </footer> <div id="comment-wrapper"></div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("projects/templates/start.tmpl.html",'<div ng-controller="StartCtrl as ctrl" class="row row-gap-huge projects_start"> <div class="col-sm-6 col-sm-offset-3 text-center"> <h1>{{ ctrl.projectName }}</h1> <h3> How would you like to submit your project? </h3> <div class="row row-gap-medium"></div> <div class="buttons"> <div class="thumbnail"> <img class="page-icon-md" src="/assets/images/student-upload-zip.svg"> <div class="row row-gap-small"></div> <button ng-click="ctrl.clickedSubmitZip()" class="btn btn-default btn-min-width-sm"> Upload zip file </button> </div> <div class="thumbnail"> <img class="page-icon-md" src="/assets/images/student-github-card.svg"> <div class="row row-gap-small"></div> <button ng-click="ctrl.clickedSubmitRepo()" class="btn btn-default btn-min-width-sm"> Select GitHub repo </button> </div> </div> <div class="row row-gap-medium"></div> <p>If you\'re unfamiliar with GitHub, choose "Upload zip file".</p> </div> </div> <div class="row row-gap-huge"></div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("projects/templates/student-feedback-modal.tmpl.html",'<div class="projects_student-feedback-modal"> <div class="modal-header"> <p>Leave feedback about your review</p> </div> <form class="form-horizontal" novalidate=""> <div class="modal-body"> <div class="form-group row"> <label for="reviewer-name" class="col-xs-3 control-label">Your Reviewer</label> <div class="col-xs-6"> <div id="reviewer-name">{{ ctrl.submission.grader.name }}</div> </div> </div> <div class="form-group row"> <label for="student-rating" class="col-xs-3 control-label">Your Rating</label> <div class="col-xs-6"> <div> <div rating="" ng-model="ctrl.score" id="student-rating"> </div> </div> <span class="text-muted">{{ ctrl.getRatingDescription(ctrl.score) }}</span> </div> </div> <div class="form-group row"> <label for="comments" class="col-xs-3 control-label">Comments</label> <div class="col-xs-9"> <textarea class="form-control" ng-model="ctrl.feedback" id="comments" rows="5" required="">\n          </textarea> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-disabled="$invalid" type="submit" busy-click="ctrl.submitFeedback()">Send Feedback</button> </div> </form> </div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("projects/templates/submit-repo.tmpl.html",'<div ng-controller="SubmitRepoCtrl as ctrl" class="row row-gap-huge projects_submit-repo"> <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-6 col-md-offset-3"> <div class="text-center"> <img class="page-icon" src="/assets/images/student-github-card.svg"> <h1>Select your repository</h1> </div> <div class="row row-gap-large"></div> <div create-submission-form="" project-id="ctrl.projectId" submission="ctrl.submission" transclusion-valid="ctrl.isValid" github-required="true" success="ctrl.success()"> <div class="repo-list"> <div class="alert alert-danger" ng-if="!ctrl.hasRepos()"> You don\'t have any public repositories on GitHub. </div> <div ng-if="ctrl.hasRepos()"> <p>Please ensure that your project is on the default branch</p> <div class="radio text-left" ng-repeat="repo in ctrl.repos"> <label> <input name="repo" ng-model="ctrl.selectedRepoFullName" ng-value="repo.full_name" class="pull-left" type="radio"> <div> <strong>{{repo.name}}</strong> <p class="caption"><small>{{repo.description}}</small></p> </div> </label> <div ng-if="!$last" class="row row-gap-small"></div> </div> </div> </div> </div> </div> </div> <div class="row row-gap-huge"></div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("projects/templates/submit-zip.tmpl.html",'<div ng-controller="SubmitZipCtrl as ctrl" class="row row-gap-huge projects_submit-zip"> <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-6 col-md-offset-3"> <div class="text-center"> <img class="page-icon" src="/assets/images/student-upload-zip.svg"> <h1>Upload your zip file</h1> </div> <div class="row row-gap-large"></div> <div create-submission-form="" project-id="ctrl.projectId" submission="ctrl.submission" github-required="false" transclusion-valid="ctrl.isValid" success="ctrl.uploadFile()"> <p>Compress your project file(s) into a single zip file on your computer.</p> <div ng-class="{\'has-error\': ctrl.zipErrorMessage}" class="form-group text-left" scroll-if="ctrl.zipErrorMessage"> <div class="row"> <div class="col-xs-8 col-md-7"> <button ngf-select="" ng-model="ctrl.zipFiles" type="button" class="btn btn-default" accept="application/zip,application/x-zip,application/x-zip-compressed"> Choose file </button> &nbsp;{{ ctrl.isValid ? ctrl.getSelectedZipFile().name : \'no file chosen\' }} <p class="caption p-slim"><small>100 MB limit</small></p> </div> <div class="col-xs-4 form-error" ng-bind-html="ctrl.zipErrorMessage"> </div> </div> </div> </div> </div> </div> <div class="row row-gap-huge"> </div>')
}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("submissions/directives/audits-list.tmpl.html",'<table class="table borderless"> <thead> <th>Date of Audit</th> <th>Audit</th> </thead> <tr ng-repeat="audit in audits"> <td class="width-md"> {{ audit.completed_at | amDateFormat:\'LL\' }} </td> <td> <div ng-if="!audit.read_at" class="pill pill-new pull-right">New Audit</div> <a ui-sref="reviews-show({submissionId: audit.submission_id, audit: 1})"> {{ audit.submission_project.name }} </a> <p class="caption caption-small p-slim">{{ audit.result | resultLabel:{pluralize: true} }}</p> </td> </tr> </table>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("submissions/directives/certification-view.tmpl.html",'<div ng-if="loading" class="loading"> </div> <div class="vertical-subway vertical-subway-small"> <div class="row" ng-repeat="training in certification.trainings"> <div class="col-xs-12"> <div class="subway-sign"> <span class="glyphicon" ng-class="{\'glyphicon-ok\': training.status === \'passed\', \'glyphicon-lock\': training.status === \'locked\', \'filled-circle\': [\'passed\', \'locked\'].indexOf(training.status) === -1}"> </span> </div> <div class="subway-content"> <p ng-class="{caption: [\'locked\', \'passed\'].indexOf(training.status) !== -1}"> Training review {{$index + 1}}{{ training.status | trainingStatusLabel }} </p> <div ng-if="training.status === \'not_started\'"> <button class="btn btn-secondary" busy-click="start(training.id)"> Start Training </button> <div class="row row-gap-small"></div> <p class="caption-small p-slim"> {{TRAINING_TIME_LIMIT_MESSAGE}} </p> </div> <div ng-if="training.status !== \'not_started\'"> <div ng-repeat="training_submission in training.training_submissions"> <h4 ng-if="training.training_submissions.length > 1 || training.status === \'failed\'" class="h-slim"> Attempt {{$index + 1}} </h4> <div ng-if="!$last"> <a ui-sref="reviews-show({submissionId: training_submission.id, audit: 1})"> View feedback </a> </div> <div ng-if="$last"> <div ng-if="training.status === \'in_progress\'"> <a class="btn btn-secondary" ui-sref="submissions.show({submissionId: training_submission.id})"> Continue training </a> <p></p> <p class="caption-small p-slim"> Time left: {{ training_submission | submissionAssignmentTimeRemaining }} </p> </div> <p class="caption-small" ng-if="training.status === \'in_audit\'"> Thanks for submitting! A Udacity Coach will be auditing your review within 1 week. </p> <div ng-if="training.status === \'failed\' || training.status === \'passed\'"> <a ui-sref="reviews-show({submissionId: training_submission.id, audit: 1})"> View feedback </a> </div> <div ng-if="training.status === \'failed\'"> <div class="row row-gap-small"></div> <h4 class="h-slim">Attempt {{$index + 2}}</h4> <p>Revise your last review based on the Coach\'s feedback.</p> <button class="btn btn-secondary" busy-click="start(training.id)"> Re-attempt </button> <div class="row row-gap-small"></div> <p class="caption-small p-slim"> {{TRAINING_TIME_LIMIT_MESSAGE}} </p> </div> </div> <div class="row row-gap-small"></div> </div> </div> </div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("submissions/directives/certifications-list.tmpl.html",'<div ng-repeat="certification in inProgressCertifications"> <div class="h3 inline"> {{ certification.project.name }} </div> &nbsp; <span class="glyphicon glyphicon-info-sign glyphicon-info" popover-html="\'Current rate per review: <strong>${{ certification.project.price | number:0 }}</strong><br/>Training reviews are not paid.\'" popover-placement="right" popover-trigger="mouseenter"> </span> <div certification-view="" certification-id="certification.id"> </div> </div> <div ng-if="completedCertifications.length > 0"> <div class="row row-gap-medium"></div> <h2>Past Training Audits</h2> <div ng-repeat="certification in completedCertifications"> <h3 class="expandable" ng-class="{expanded: isExpanded(certification.id)}" ng-click="toggleExpansion(certification.id)"> {{ certification.project.name }}&nbsp;&nbsp; </h3> <div ng-if="isExpanded(certification.id)" certification-view="" certification-id="certification.id"> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("submissions/directives/projects-selector-list.tmpl.html",'<div class="col-xs-6" ng-repeat="columnProjects in projectsByColumn"> <div ng-repeat="project in columnProjects"> <div class="checkbox"> <label> <input type="checkbox" ng-model="selectedProjectIdsMap[project.id]"> <strong> <span>{{ project.name }}</span> </strong> <span marked="project.required_skills || \'_No Requirements_\'"></span> <p class="caption">{{ project.price | currency : \'$\' : 0 }}</p> </label> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("submissions/directives/student-feedbacks-list.tmpl.html",'<p ng-if="ctrl.studentFeedbacks.length === 0"> <i>You do not have any ratings.</i> </p> <table class="table borderless" ng-if="ctrl.studentFeedbacks.length > 0"> <tr ng-repeat="studentFeedback in ctrl.studentFeedbacks"> <td class="width-sm"> <span rating="" ng-model="studentFeedback.rating" readonly="true" ng-class="{\'background-transition\': isUpdating, black: studentFeedback.read_at}"> </span> </td> <td class="width-lg"> <a ui-sref="reviews-show({submissionId: studentFeedback.submission_id})" target="_blank"> {{ studentFeedback.project.name }} </a> </td> <td> {{ studentFeedback.body }} <p class="caption"> <small am-time-ago="studentFeedback.created_at"></small> </p> </td> </tr> </table>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("submissions/templates/agreement.tmpl.html",'<div class="container"> <div class="row"> <div class="col-md-8 col-md-offset-2" style="padding-top: 23px;"> <h1 class="h-slim">Udacity Mentor Agreement</h1> <h2 class="h-slim">Independent Contractor Agreement</h2> <hr> <p> This Udacity Mentor Independent Contractor Agreement (this "Agreement") is made by and between you ("Consultant\') and Udacity, Inc. (collectively, "we," "us" or "Udacity"). Udacity provides Users access to the Udacity websites, available at the entry-point URL <a href="http://www.udacity.com">http://www.udacity.com</a>, <a href="http://www.knowlabs.com">http://www.knowlabs.com</a> and <a href="http://www.ai-class.com">http://www.ai-class.com</a>, (each individually a "Class Site," and collectively the "Class Sites"), and to the information, services and other materials available on and through the Class Sites, (collectively with the Class Sites, the "Online Courses"), subject to the terms and conditions described in <a href="https://www.udacity.com/legal/tos">https://www.udacity.com/legal/tos</a> ("Terms of Use") and any other guidelines, rules or licenses posted in connection with the Online Courses. All capitalized terms, not otherwise defined in this Agreement, have the meanings given to them in our Terms of Use. Our Terms of Use are incorporated into this Agreement by this reference as though fully set forth herein. </p> <h3>Your Acceptance of This Agreement</h3> <p> By accessing Udacity\'s online grader and mentor marketplace, you agree to be bound by the terms of this Agreement, and Udacity\'s Terms of Use, and you hereby represent and warrant to us that you have read each of them. Udacity and Consultant wish to have Consultant perform services for Udacity, subject to and in accordance with the terms and conditions of this Agreement. </p> <ol> <li><strong>Services</strong></li> <ol> <li>Udacity Mentoring Services. Subject to Udacity\'s sole and absolute discretion, and continuing compliance with the terms and conditions of this Agreement, from time to time, Udacity may assign to Consultant work product, projects or other materials, in tangible and intangible form ("Projects") that have been created by Users as a result of such User\'s participation in one or more Udacity Online Course(s) (each, a "Course").</li> <li>Performance of Services. Consultant will utilize his or her best efforts to grade or otherwise evaluate or assess each such Project (the "Services") in accordance with the terms, conditions and criteria set forth by Udacity, in its sole and absolute discretion, for Projects resulting from such Courses. Consultant shall use his or her best efforts to complete Services for each Project within the time suggested for each such Course Project or Course component. To the extent that Consultant fails to initiate or complete Services for a particular Project within the time specified by Udacity for that Project, Udacity reserves the right to assign the Project to another consultant and, in such an event, Consultant shall receive no fees for that Project.</li> <li>Delivery. Consultant will deliver to Udacity the deliverables, designs, modules, software, products, documentation and other materials specified for Services (individually or collectively, "Deliverables") in accordance with the delivery schedule and other terms and conditions set forth by Udacity from time to time.</li> </ol> <li><strong>Payment</strong></li> <ol> <li>Fees. Subject at all times to Section 1.2 and any applicable performance standards for a particular Project that are set forth by Udacity at the time that Project is offered to Consultant, Consultant\'s sole compensation for the performance of Services, shall be the fees stated for such Project at the time such Project is offered to Consultant in accordance with the terms set forth in this Agreement.</li> <li>Payment Terms. All fees and other amounts payable to Consultant under this Agreement, if any, are stated in and are payable in U.S. dollars. Unless otherwise specified by Udacity in writing, Consultant will be paid by Udacity on a monthly basis for all fees payable to Consultant. Presently, Udacity utilizes payment processing services from PayPal. Udacity reserves its rights to use a different payment processing service in the future. All payments made to Consultant by Udacity hereunder will be made through such a payment processor and are subject to and exclusive of any fees or other charges that such payment processor may charge either Udacity or Consultant. To the extent that Consultant resides in or is otherwise situated in a location which is not served by PayPal or such successor payment processor service, Consultant shall not provide Services hereunder and Udacity shall have no obligations to Consultant hereunder. Consultant acknowledges and agrees that it is Consultant\'s sole and exclusive responsibility to establish an account with PayPal and to maintain such account in good standing. Udacity shall have no liability to Consultant for any payments due under this Agreement that are denied by PayPal, that remain unclaimed for a period of thirty (30) or more days, or otherwise are rejected by PayPal for any reason.</li> </ol> <li><strong>Relationship of the Parties</strong></li> <ol> <li>Independent Contractor. Consultant is an independent contractor and nothing in this Agreement will be construed as establishing an employment or agency relationship between Udacity and Consultant. Consultant has no authority to bind Udacity by contract or otherwise. Consultant will perform Services under the general direction of Udacity, but Consultant will determine, in Consultant\'s sole discretion, the manner and means by which Services are accomplished, subject to the requirement that Consultant will at all times comply with applicable law and with Udacity\'s, Terms of Use, performance and quality standards.</li> <li>Taxes and Employee Benefits. Consultant will report to all applicable government agencies as income all compensation received by Consultant pursuant to this Agreement. Consultant will be solely responsible for payment of all withholding taxes, social security, workers\' compensation, unemployment and disability insurance or similar items required by any government agency. Consultant will not be entitled to any benefits paid or made available by Udacity to its employees, including, without limitation, any vacation or illness payments, or to participate in any plans, arrangements or distributions made by Udacity pertaining to any bonus, stock option, profit sharing, insurance or similar benefits. Consultant will indemnify and hold Udacity harmless from and against all damages, liabilities, losses, penalties, fines, expenses and costs (including reasonable fees and expenses of attorneys and other professionals) arising out of or relating to any obligation imposed by law on Udacity to pay any withholding taxes, social security, unemployment or disability insurance or similar items in connection with compensation received by Consultant pursuant to this Agreement.</li> <li>Liability Insurance. Consultant acknowledges that Udacity will not carry any liability insurance on behalf of Consultant. Consultant will maintain in force adequate liability insurance to protect Consultant from claims of personal injury (or death) or tangible or intangible property damage (including loss of use) that arise out of any act or omission of Consultant.</li> </ol> <li><strong>Ownership</strong></li> <ol> <li>Disclosure of Work Product. Consultant will, as an integral part of the performance of Services, disclose in writing to Udacity all inventions, products, designs, drawings, notes, documents, information, documentation, improvements, works of authorship, processes, techniques, know-how, algorithms, specifications, biological or chemical specimens or samples, hardware, circuits, computer programs, databases, user interfaces, encoding techniques, and other materials of any kind that Consultant may make, conceive, develop or reduce to practice, alone or jointly with others, in connection with performing Services, or that result from or that are related to such Services, whether or not they are eligible for patent, copyright, mask work, trade secret, trademark or other legal protection (collectively, "Consultant Work Product"). Consultant Work Product includes without limitation any Deliverables that Consultant delivers to Udacity pursuant to Section 1.3.</li> <li>Ownership of Consultant Work Product. Consultant and Udacity agree that, to the fullest extent permitted by applicable law, each item of Consultant Work Product will be a work made for hire owned exclusively by Udacity. Consultant agrees that all Consultant Work Product will be the sole and exclusive property of Udacity. Consultant hereby irrevocably transfers and assigns to Udacity, and agrees to irrevocably transfer and assign to Udacity, all right, title and interest in and to the Consultant Work Product, including all worldwide patent rights (including patent applications and disclosures), copyright rights, mask work rights, trade secret rights, know-how, and any and all other intellectual property or proprietary rights (collectively, "Intellectual Property Rights") therein. At Udacity\'s request and expense, during and after the term of this Agreement, Consultant will assist and cooperate with Udacity in all respects, and will execute documents, and will take such further acts reasonably requested by Udacity to enable Udacity to acquire, transfer, maintain, perfect and enforce its Intellectual Property Rights and other legal protections for the Consultant Work Product. Consultant hereby appoints the officers of Udacity as Consultant\'s attorney-in-fact to execute documents on behalf of Consultant for this limited purpose.</li> <li>Moral Rights. To the fullest extent permitted by applicable law, Consultant also hereby irrevocably transfers and assigns to Udacity, and agrees to irrevocably transfer and assign to Udacity, and waives and agrees never to assert, any and all Moral Rights (as defined below) that Consultant may have in or with respect to any Consultant Work Product, during and after the term of this Agreement. "Moral Rights" mean any rights to claim authorship of a work, to object to or prevent the modification or destruction of a work, to withdraw from circulation or control the publication or distribution of a work, and any similar right, existing under judicial or statutory law of any country in the world, or under any treaty, regardless of whether or not such right as called or generally referred to as a "moral right."</li> <li>Related Rights. To the extent that Consultant owns or controls (presently or in the future) any patent rights, copyright rights, mask work rights, trade secret rights, or any other intellectual property or proprietary rights that may block or interfere with, or may otherwise be required for, the exercise by Udacity of the rights assigned to Udacity under this Agreement (collectively, "Related Rights"), Consultant hereby grants or will cause to be granted to Udacity a non-exclusive, royalty- free, irrevocable, perpetual, transferable, worldwide license (with the right to sublicense) to make, have made, use, offer to sell, sell, import, copy, modify, create derivative works based upon, distribute, sublicense, display, perform and transmit any products, software, hardware, methods or materials of any kind that are covered by such Related Rights, to the extent necessary to enable Udacity to exercise all of the rights assigned to Udacity under this Agreement.</li> </ol> <li><strong>Confidential Information</strong></li> <ol> <li>For purposes of this Agreement, "Confidential Information" means and will include: (i) any information, materials or knowledge regarding Udacity and its business, financial condition, products, programming techniques, customers, students, suppliers, technology or research and development that is disclosed to Consultant or to which Consultant has access in connection with performing Services; (ii) the Consultant Work Product; and (iii) the terms and conditions of this Agreement. Confidential Information will not include any information that: (a) is or becomes part of the public domain through no fault of Consultant; (b) was rightfully in Consultant\'s possession at the time of disclosure, without restriction as to use or disclosure; or (c) Consultant rightfully receives from a third party who has the right to disclose it and who provides it without restriction as to use or disclosure. Consultant agrees to hold all Confidential Information in strict confidence, not to use it in any way, commercially or otherwise, except in performing Services, and not to disclose it to others. Consultant further agrees to take all actions reasonably necessary to protect the confidentiality of all Confidential Information.</li> </ol> <li><strong>Warranties</strong></li> <ol> <li>No Pre-existing Obligations. Consultant represents and warrants that Consultant has no pre-existing obligations or commitments (and will not assume or otherwise undertake any obligations or commitments) that would be in conflict or inconsistent with or that would hinder Consultant\'s performance of its obligations under this Agreement.</li> <li>Performance Standard. Consultant represents and warrants that Services will be performed in a thorough and professional manner, consistent with high professional and industry standards by individuals with the requisite training, background, experience, technical knowledge and skills to perform Services.</li> <li>Non-infringement. Consultant represents and warrants that the Consultant Work Product will not infringe, misappropriate or violate the rights of any third party, including, without limitation, any Intellectual Property Rights or any rights of privacy or rights of publicity, except to the extent any portion of the Consultant Work Product is created, developed or supplied by Udacity or by a third party on behalf of Udacity.</li> <li>Non-Solicitation of Personnel. During the term of this Agreement and for a period of one (1) year thereafter, Consultant will not directly or indirectly solicit the services of any Udacity User, employee or consultant for Consultant\'s own benefit or for the benefit of any other person or entity.</li> </ol> <li><strong>Indemnity</strong></li> <ol> <li>Consultant will defend, indemnify and hold Udacity harmless from and against all claims, damages, liabilities, losses, expenses and costs (including reasonable fees and expenses of attorneys and other professionals) arising out of or resulting from:</li> <li>any action by a third party against Udacity that is based on a claim that any Services performed under this Agreement, or the results of such Services (including any Consultant Work Product), or Udacity\'s use thereof, infringe, misappropriate or violate such third party\'s Intellectual Property Rights; and</li> <li>any action by a third party against Udacity that is based on any act or omission of Consultant and that results in: (i) personal injury (or death) or tangible or intangible property damage (including loss of use); or (ii) the violation of any statute, ordinance, or regulation.</li> </ol> <li><strong>Term and Termination</strong></li> <ol> <li>Term. This Agreement will commence on the Effective Date and, unless terminated earlier in accordance with the terms of this Agreement, will remain in force and effect for as long as Consultant is performing Services pursuant to a Statement of Work.</li> <li>Termination for Breach. Either party may terminate this Agreement (including all Statements of Work) if the other party breaches any material term of this Agreement and fails to cure such breach within thirty (30) days following written notice thereof from the non-breaching party.</li> <li>Termination for Convenience. Udacity may terminate this Agreement (including all Statements of Work) at any time, for any reason or no reason, immediately upon written notice to Consultant. Udacity may also terminate an individual Statement of Work at any time, for any reason or no reason, immediately upon written notice to Consultant.</li> <li>Effect of Termination. Upon the expiration or termination of this Agreement for any reason: (i) Consultant will promptly deliver to Udacity all Consultant Work Product, including all work in progress on any Consultant Work Product not previously delivered to Udacity, if any; (ii) Consultant will promptly deliver to Udacity all Confidential Information in Consultant\'s possession or control; and (iii) Udacity will pay Consultant any accrued but unpaid fees due and payable to Consultant pursuant to Section 2.</li> <li>Survival. The rights and obligations of the parties under Sections 2, 3.2, 3.3, 4, 5, 6.3, 6.5, 7, 8.4, 8.5, and 9 will survive the expiration or termination of this Agreement.</li> </ol> <li><strong>Limitation of Liability</strong></li> <ol> <li>In no event will Udacity be liable for any special, incidental, punitive, exemplary or consequential damages of any kind in connection with this agreement, even if Udacity has been informed in advance of the possibility of such damages.</li> </ol> <li><strong>General</strong></li> <ol> <li>Assignment. Consultant may not assign or transfer this Agreement, in whole or in part, without Udacity\'s express prior written consent. Any attempt to assign this Agreement, without such consent, will be void. Subject to the foregoing, this Agreement will bind and benefit the parties and their respective successors and assigns.</li> <li>No Election of Remedies. Except as expressly set forth in this Agreement, the exercise by Udacity of any of its remedies under this Agreement will not be deemed an election of remedies and will be without prejudice to its other remedies under this Agreement or available at law or in equity or otherwise.</li> <li>Equitable Remedies. Because the Services are personal and unique and because Consultant will have access to Confidential Information of Udacity, Udacity will have the right to enforce this Agreement and any of its provisions by injunction, specific performance or other equitable relief, without having to post a bond or other consideration, in addition to all other remedies that Udacity may have for a breach of this Agreement at law or otherwise.</li> <li>Attorneys\' Fees. If any action is necessary to enforce the terms of this Agreement, the substantially prevailing party will be entitled to reasonable attorneys\' fees, costs and expenses in addition to any other relief to which such prevailing party may be entitled.</li> <li>Governing Law. This Agreement will be governed by and construed in accordance with the laws of the State of California, excluding its body of law controlling conflict of laws. Any legal action or proceeding arising under this Agreement will be brought exclusively in the federal or state courts located in the Northern District of California and the parties irrevocably consent to the personal jurisdiction and venue therein.</li> <li>Severability. If any provision of this Agreement is held invalid or unenforceable by a court of competent jurisdiction, the remaining provisions of this Agreement will remain in full force and effect, and the provision affected will be construed so as to be enforceable to the maximum extent permissible by law.</li> <li>Waiver. The failure by either party to enforce any provision of this Agreement will not constitute a waiver of future enforcement of that or any other provision.</li> <li>Notices. All notices required or permitted under this Agreement will be in writing, will reference this Agreement, and will be deemed given: (i) when delivered personally; (ii) one (1) business day after deposit with a nationally-recognized express courier, with written confirmation of receipt; or (iii) three (3) business days after having been sent by registered or certified mail, return receipt requested, postage prepaid. All such notices will be sent to the addresses set forth above or to such other address as may be specified by either party to the other party in accordance with this Section.</li> <li>Entire Agreement. This Agreement, together with all Statements of Work, constitutes the complete and exclusive understanding and agreement of the parties with respect to its subject matter and supersedes all prior understandings and agreements, whether written or oral, with respect to its subject matter. Any waiver, modification or amendment of any provision of this Agreement will be effective only if in writing and signed by the parties hereto.</li> <li>Counterparts. This Agreement may be executed in counterparts, each of which will be deemed an original, but all of which together will constitute one and the same instrument.</li> </ol> </ol> </div> </div> <div class="row row-gap-large"></div> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("submissions/templates/apply.tmpl.html",'<div class="col-sm-6 col-sm-offset-3"> <div class="row"> <div class="col-sm-2 col-sm-offset-5" ng-if="showLoading"> <div class="row row-gap-huge"></div> <img src="//lh5.ggpht.com/b3OandPWsUWAnRVS5d8JS8OL0nu8dU2d3NceS7p1yKhPl9KD4EhqeylPm7yFbft5wmsA2VCAZ-8wAkmFduXJ=s0#w=90&h=30"> <div class="row row-gap-huge"></div> </div> <div class="col-sm-12 text-center" ng-if="!showLoading"> <div class="row row-gap-huge"></div> <img src="assets/images/graderOnboardStart.svg" alt="" style="width:108px; height:87px;"> <div ng-if="completed"> <h3>Time to Review</h3> <p>Thanks for taking the Udacity course! You\'re now ready to review our student projects.</p> <a data-ng-click="redirectToStart()" href="" class="btn btn-lg btn-wide btn-primary"><i class="glyphicon glyphicon-play-circle"></i> Continue</a> </div> <div ng-if="!completed"> <h3>Learn The Skills</h3> <p>Before code reviewing projects, we require that you take a short Udacity course. It takes about an hour to complete.</p> <a href="" ng-click="redirectToClass()" class="btn btn-lg btn-wide btn-primary"><i class="glyphicon glyphicon-play-circle"></i> Start Course</a> </div> <div class="row row-gap-huge"></div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("submissions/templates/confirm-feedback-modal.tmpl.html",'<div> <button type="button" class="close hanging-close" aria-label="close" ng-click="$dismiss()"> </button> <div class="modal-header"> <h2 class="h-slim text-center">Confirm Submission</h2> </div> <form name="form" class="form-horizontal" novalidate=""> <div class="modal-body"> <p class="text-center"> By submitting, you agree that this review meets the <a target="_blank" ui-sref="submissions.quality-specifications">Review Quality Specifications</a>. </p> <p class="text-center" ng-if="isTraining()"> After submitting, a Udacity Coach will audit your review within 1 week. </p> </div> <div class="modal-footer"> <div class="text-center full-width"> <button class="btn btn-primary" type="submit" ng-click="$close()"> Confirm Submission </button> </div> </div> </form> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("submissions/templates/confirm-unassign-modal.tmpl.html",'<div> <button type="button" class="close hanging-close" aria-label="close" ng-click="$dismiss()"> </button> <div class="modal-header"> <h2 class="h-slim text-center">Confirm unassign</h2> </div> <div class="modal-body"> <p class="text-center"> If you think a Udacity Coach should review this submission, please also email <a href="mailto:review-support@udacity.com">review-support@udacity.com</a> with the link to the submission. </p> </div> <div class="modal-footer"> <div class="text-center full-width"> <button class="btn btn-danger" type="submit" ng-click="$close()"> Delete review and unassign </button> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("submissions/templates/dashboard.tmpl.html",'<div class="row row-gap-medium submissions_dashboard"> <div class="col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-12"> <h2>Reviewer Dashboard</h2> <ul class="nav nav-tabs"> <li ng-class="{\'active\': isSelectedTab(\'reviews\')}"> <a class="navbar-item" href="" ng-click="showTab(\'reviews\')"> Current Reviews </a> </li> <li ng-if="hasTrainings" ng-class="{\'active\': isSelectedTab(\'training\')}"> <a class="navbar-item" href="" ng-click="showTab(\'training\')"> Training </a> </li> <li ng-class="{\'active\': isSelectedTab(\'feedback\')}"> <a class="navbar-item" href="" ng-click="showTab(\'feedback\')"> Your Ratings&nbsp; <span ng-if="newStudentFeedbacksCount > 0" class="badge text-center"> {{ newStudentFeedbacksCount }} </span> </a> </li> <li ng-if="audits.length > 0" ng-class="{\'active\': isSelectedTab(\'audit\')}"> <a class="navbar-item" href="" ng-click="showTab(\'audit\')"> Audits&nbsp; <span ng-if="newAuditsCount > 0" class="badge text-center"> {{ newAuditsCount }} </span> </a> </li> </ul> <section ng-if="isSelectedTab(\'reviews\')"> <div class="row row-gap-small"></div> <p> Welcome Code Reviewer! When you review a project, please try and complete it within 2 hours of starting. Questions? <a href="mailto:review-support@udacity.com">Get in touch!</a> </p> <div ng-if="submissions.length > 0"> <h3>Your Active Reviews</h3> <table class="dashboard table borderless"> <thead> <tr> <th>Project</th> <th class="text-center">Time Left</th> <th></th> </tr> </thead> <tbody> <tr ng-repeat="submission in submissions"> <td> <strong>{{ submission.project.name }}</strong> </td> <td class="text-center width-sm"> <span class="text-muted"> <small>{{ submission | submissionAssignmentTimeRemaining }}</small> </span> </td> <td class="text-right width-sm"> <button ng-click="resumeGrading(submission)" class="btn btn-primary">Resume</button> </td> </tr> </tbody> </table> <div class="row row-gap-small"></div> </div> <h3>Start a Review</h3> <table class="dashboard table borderless"> <thead> <tr> <th>Project</th> <th></th> <th class="text-center"># Available</th> <th></th> </tr> </thead> <tbody> <tr ng-repeat="project in availableProjects"> <td align="left"><strong>{{project.name}}</strong></td> <td class="text-center width-sm">{{project.price | currency:"$":0}}</td> <td class="text-center width-sm">{{project.awaiting_review_count }}</td> <td class="text-right width-sm"> <button ng-click="assignSubmission(project)" ng-class="{\'btn-primary\': submissions.length === 0, \'btn-default\': submissions.length > 0}" ng-disabled="assignDisabled" class="btn btn-min-width-xs"> Start </button> </td> </tr> <tr ng-if="availableProjects.length == 0"> <td>No projects available for code reviewing right now, check back later!</td> </tr> </tbody> </table> <a ui-sref="submissions.projects-selector"> <span class="glyphicon glyphicon-cog"></span>&nbsp;Add/Remove </a> <div class="row row-gap-huge"></div> <p class="slim"> <img src="/assets/images/clipboard.svg" class="img-initial icon"> Check out the <a ui-sref="submissions.quality-specifications">Review Quality Specifications</a>. </p> </section> <section ng-if="isSelectedTab(\'training\')"> <div class="row row-gap-small"></div> <div class="clearfix"> <img class="page-icon-sm page-icon-initial pull-left" src="/assets/images/weight.svg"> <p class="pull-no-wrap"> Get certified to review a project by successfully completing a series of training reviews. If your review does not meet the <a ui-sref="submissions.quality-specifications">Review Quality Specifications</a>, you will be asked to revise your review. Training reviews are not financially compensated. </p> </div> <div certifications-list="" certifications="certifications"> </div> </section> <section ng-if="isSelectedTab(\'feedback\')"> <div class="row row-gap-small"></div> <p> Read ratings and comments from the students of the projects you\'ve reviewed. To respond to a student or flag student comments that do not apply to your review contact <a href="mailto:review-support@udacity.com">review-support@udacity.com</a> and include a link to the original review. </p> <div class="row row-gap-medium"></div> <strong>Last 30 days</strong> <div class="row row-gap-small"></div> <div student-feedbacks-list="" student-feedbacks="studentFeedbacks" all-read-callback="clearStudentFeedbacksBadge()"> </div> </section> <section ng-if="isSelectedTab(\'audit\')"> <div class="row row-gap-small"></div> <p> Udacity Coaches routinely audit a subset of reviews according to the <a ui-sref="submissions.quality-specifications">Review Quality Specifications</a>. Note that these audits may not represent the overall quality of your reviews. </p> <div class="row row-gap-medium"></div> <div audits-list="" audits="audits"></div> </section> </div> </div> <div class="row row-gap-large"></div> <div class="modal-sm" modal-dialog="smallModal"> <div class="modal" ng-show="showError"> <div class="modal-backdrop"></div> <div class="modal-dialog"> <span> <button class="close hanging-close" ng-click="cornerClose()" aria-label="close" type="button"></button> </span> <div class="modal-content col-xs-12"> <div class="modal-header">{{ errorTitle }}</div> <div class="modal-body">{{ errorBody }}</div> </div> </div> </div> </div> ')
}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("submissions/templates/projects-selector.tmpl.html",'<div class="row row-gap-large"> <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3"> <form id="applyForm" name="applyForm" novalidate="" class="form-horizontal" ng-submit="apply()"> <div class="text-center"> <img src="assets/images/graderForm.svg" alt="" style="width:63px; height:73px;"> <h1>{{ isNewGrader ? "Let\'s Get You Started" : "Add/Remove Projects" }}</h1> <p>Which projects are you qualified to review?</p> <p> <a href="https://github.com/udacity/Project-Descriptions-for-Review" target="_blank"> View detailed project descriptions </a> </p> <p>Prices reflect the skills and time required for the review and are subject to change. All prices are USD.</p> </div> <hr> <h2 class="text-center">Available projects</h2> <div class="row"> <div projects-selector-list="" projects="nonwaitlistProjects" selected-project-ids-map="currentProjectIdSelectionState"> </div> </div> <div ng-if="waitlistProjects.length" class="row"> <div class="col-xs-12"> <hr> <h2 class="text-center">Waitlist</h2> <p> Were currently not accepting new reviewers for these projects. For each project that you select, well add you to the waitlist and notify you when submissions are available for you to review. </p> </div> <div projects-selector-list="" projects="waitlistProjects" selected-project-ids-map="currentProjectIdSelectionState"> </div> </div> <hr> <div class="row"> <div class="col-xs-8"> <div class="checkbox" ng-show="isNewGrader"> <label><input type="checkbox" ng-model="tosAccepted">I accept the <a ui-sref="submissions.agreement" target="_blank">Udacity Mentoring Agreement</a></label> </div> </div> <div class="col-xs-4"> <button ng-disabled="!tosAccepted" class="btn btn-primary pull-right"> {{ isNewGrader ? \'Continue\' : \'Save\' }} </button> </div> </div> <div class="row row-gap-huge"></div> </form> </div> </div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("submissions/templates/quality-specifications.tmpl.html",'<div class="row row-gap-small" ng-controller="QualitySpecificationsCtrl as ctrl"> <div class="col-md-8 col-md-offset-2"> <h1>Review Quality Specifications</h1> <p> Reviewers, follow these requirements for all reviews. Some reviews that do not meet our quality specifications may not be financially compensated. </p> <div rubrics-list="" project-id="ctrl.auditProjectId"></div> </div> </div>')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("submissions/templates/ready.tmpl.html",'<div class="row row-gap-huge"> <div class="col-sm-4 col-sm-offset-4 text-center"> <img src="assets/images/graderOnboardComplete.svg" alt="" style="width:108px; height:87px;"> <h3>Great, You\'re Ready!</h3> <p>The course will always be in your My Courses section for future reference.</p> <a ui-sref="submissions.dashboard" class="btn btn-lg btn-secondary">Start Reviewing</a> </div> </div> <div class="row row-gap-huge"></div> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("submissions/templates/submission-details.tmpl.html",'<div class="row row-gap-medium"> <div class="col-md-8 col-md-offset-2"> <h1 class="h-slim">{{ currentProject.name }}</h1> <ul class="nav nav-tabs"> <li ng-class="{\'active\': currentTab == \'\'}"> <a class="navbar-item" href="" ng-click="showTab(\'\')">1. Student Notes</a> </li> <li ng-class="{\'active\': currentTab == \'description\'}"> <a class="navbar-item" href="" ng-click="showTab(\'description\')">2. Description</a> </li> <li ng-class="{\'active\': currentTab == \'code\'}"> <a class="navbar-item" href="" ng-click="showTab(\'code\')">3. Code Review</a> </li> <li ng-class="{\'active\': currentTab == \'feedback\'}"> <a class="navbar-item" href="" ng-click="showTab(\'feedback\')">4. Project Review</a> </li> <li ng-if="showPastReviews" ng-class="{\'active\': currentTab == \'reviews\'}"> <a class="navbar-item" href="" ng-click="showTab(\'reviews\')">5. Project History</a> </li> </ul> </div> </div> <div class="row row-gap-medium"> <div class="col-md-8 col-md-offset-2"> <section ng-show="currentTab == \'\'"> <div class="submission-notes" marked="submission.notes || \'_None provided_\'"></div> </section> <section ng-show="currentTab == \'description\'"> <p> <span marked="currentProject.description" ng-if="currentProject.description"></span> </p> </section> <section ng-show="currentTab == \'code\'"> <p> Click a filename to expand the code, then click the line you wish to comment upon. We\'d like to see at least 3 comments, but hopefully more. Thanks! </p> <div code-review="" ng-if="files" files="files" allow-comments="!isSubmissionCompleted()"> </div> </section> <section ng-show="currentTab == \'feedback\'"> <div ng-if="!isTrainingSubmission && !isSubmissionCompleted()"> <p>Unable to review the project due to a compilation error, missing files, etc.?</p> <button type="button" class="btn btn-default" ng-click="showUngradeableModal()"> Can\'t review </button> <div class="row row-gap-medium"></div> </div> <div ng-if="!hasCritiques"> This project is a non-graded project. Your only job as a reviewer is to provide a code review. </div> <div ng-if="hasCritiques && critiquesAccessor"> <div critiques-editor="" critiques-accessor="critiquesAccessor" editable="!isSubmissionCompleted()" state="critiquesState"> </div> </div> <div class="row row-gap-small"></div> </section> <section ng-if="pastReviews.length > 0" ng-show="currentTab == \'reviews\'"> <p> Youre reviewing a resubmission. For continuity, you can reference the students past submissions and reviews. We recommend that you draft an independent review of the project before viewing past reviews. </p> <div reviews-list="" reviews="pastReviews" this-review="submission"></div> </section> </div> </div>  <div class="row row-gap-medium"></div> <div class="row row-gap-huge"></div> <footer sticky-footer="" class="assessment-footer row"> <hr class="hr-slim"> <div class="col-xs-12 col-md-8 col-md-offset-2"> <a href="{{ submission.archive_url }}" class="download btn btn-default"> <i class="glyphicon glyphicon-download-alt"></i> Download Project </a> <div class="pull-right" ng-if="!isSubmissionCompleted()"> <a ng-if="!isTrainingSubmission" href="" class="unassign" ng-click="confirmUnassign()"> Unassign Myself </a> <button busy-click="confirmEvaluationSubmit()" type="submit" ng-disabled="critiquesState.editing" class="btn btn-primary"> <i class="glyphicon glyphicon-check"></i> Submit Feedback </button> </div> </div> </footer> ')}])}(),function(e){try{e=angular.module("udacity.templates")}catch(t){e=angular.module("udacity.templates",[])}e.run(["$templateCache",function(e){e.put("submissions/templates/ungradeable-modal.tmpl.html",'<div> <button type="button" class="close hanging-close" aria-label="close" ng-click="$dismiss()"> </button> <div class="modal-header"> <p>Tell the student why the project cannot be reviewed</p> </div> <form name="form" class="form-horizontal" novalidate=""> <div ng-if="ctrl.isEditing()"> <div class="modal-body"> <p> Start with a summary (e.g. "Your project did not compile.", "Looks like you\'re missing one or more files."). Then, provide any specifics that will help the student (e.g. copy and paste the compiler error). </p> <div markdown-textarea="" form="ungradeableForm"> <textarea required="" ng-model="ctrl.reasonWrapper.reason" class="form-control" rows="4"></textarea> </div> </div> <div class="modal-footer"> <div class="pull-left"> <button class="btn btn-secondary" ng-disabled="ungradeableForm.$invalid" type="submit" ng-click="ctrl.toggleEdit()"> Preview </button> </div> </div> </div> <div ng-if="!ctrl.isEditing()"> <div class="modal-body"> <p><strong>Reviewer Comments</strong></p> <div class="inline-comment" marked="ctrl.reasonWrapper.reason"></div> </div> <div class="modal-footer"> <div class="pull-left inline"> <button class="btn btn-primary" ng-disabled="ungradeableForm.$invalid" type="submit" busy-click="ctrl.submit(ctrl.reasonWrapper.reason)"> Submit </button> <button class="btn btn-default" type="submit" ng-click="ctrl.toggleEdit()"> Edit </button> &nbsp;You will receive $5 for this submission.&nbsp; </div> </div> </div></form> </div> ')}])}();